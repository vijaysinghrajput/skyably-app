{"ast":null,"code":"var _jsxFileName = \"/Users/vijaysingh/ReactJS/skyably-app/src/component/Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Cookies from 'universal-cookie';\nimport URL from '../URL';\nconst cookies = new Cookies();\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      UserPhone: '',\n      password: ''\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n    this.handleNext = this.handleNext.bind(this);\n  }\n\n  handleBack() {\n    this.props.history.goBack();\n  }\n\n  handleNext(Routation) {\n    this.props.history.push(Routation);\n  }\n\n  onChange(e) {\n    if (e.target.id === 'mobile') {\n      this.setState({\n        UserPhone: e.target.value\n      });\n    } else if (e.target.id === 'password') {\n      this.setState({\n        password: e.target.value\n      });\n      console.log(e.target.value);\n    }\n  }\n\n  async componentDidMount() {}\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginBottom: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"breadcrumb-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      \"aria-label\": \"breadcrumb\",\n      class: \"theme-breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ol\", {\n      class: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      class: \"breadcrumb-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => this.handleBack(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 57\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"breadcrumb-item active\",\n      \"aria-current\": \"page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, \"login\"))))))), /*#__PURE__*/React.createElement(\"section\", {\n      class: \"login-page section-b-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"theme-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      class: \"theme-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 33\n      }\n    }, \"Mobile Number \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"tel\",\n      onChange: this.onChange,\n      class: \"form-control\",\n      id: \"mobile\",\n      placeholder: \"Mobile Number\",\n      required: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"review\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.onChange,\n      class: \"form-control\",\n      id: \"password\",\n      placeholder: \"Enter your password\",\n      required: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => this.LoginFunction(),\n      class: \"btn btn-solid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, \"Login\")))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-6 right-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, \"New Customer\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"theme-card authentication-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      class: \"title-font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \"Create A Account\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, \"Sign up for a free account at our store. Registration is quick and easy. It allows you to be able to order from our shop. To start shopping click register.\"), /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => this.handleNext(\"/SignUp\"),\n      class: \"btn btn-solid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 95\n      }\n    }, \"Create an Account\")))))), /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 1\n      }\n    }));\n  }\n\n  async LoginFunction() {\n    this.setState({\n      isloading: true,\n      errorr: ''\n    });\n    var mobileno = /^\\d{10}$/;\n\n    if (this.state.UserPhone == \"\") {\n      this.setState({\n        isloading: false\n      });\n      var msg = 'Please fill mobile number';\n      toast.error(msg);\n    } else if (!this.state.UserPhone.match(mobileno)) {\n      this.setState({\n        isloading: false\n      });\n      var msg = 'Please Enter Vaild 10 digit mobile Number';\n      toast.error(msg);\n    } else if (this.state.UserFullName == '') {\n      this.setState({\n        isloading: false\n      });\n      var msg = 'Please Enter Name';\n      toast.error(msg);\n    } else if (this.state.password == '') {\n      this.setState({\n        isloading: false\n      });\n      var msg = 'Password Requird';\n      toast.error(msg);\n    } else {\n      this.setState({\n        isloading: true\n      });\n      fetch(URL + \"/APP-API/App/LoginByPhone\", {\n        method: 'post',\n        header: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          mobile: this.state.UserPhone,\n          password: this.state.password\n        })\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson.Login == 'done') {\n          var msg = 'You have Logged successfully';\n          toast.success(msg);\n          cookies.set(\"isLogged\", true, {\n            maxAge: 999999999999\n          });\n          cookies.set(\"UserID\", responseJson.data[0].customers_id, {\n            maxAge: 999999999999\n          });\n          cookies.set(\"user_mobile_number\", this.state.UserPhone, {\n            maxAge: 999999999999\n          });\n          cookies.set(\"user_name\", responseJson.data[0].name, {\n            maxAge: 999999999999\n          }); // window.location.reload();\n\n          this.handleNext(\"/\");\n        } else {\n          var msg = 'Phone or Password not Matched';\n          toast.error(msg);\n        }\n      }).catch(error => {//  console.error(error);\n      });\n    }\n  }\n\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/vijaysingh/ReactJS/skyably-app/src/component/Login.js"],"names":["React","Component","Redirect","withRouter","ToastContainer","toast","Cookies","URL","cookies","Login","constructor","props","state","UserPhone","password","onChange","bind","handleBack","handleNext","history","goBack","Routation","push","e","target","id","setState","value","console","log","componentDidMount","render","marginBottom","LoginFunction","isloading","errorr","mobileno","msg","error","match","UserFullName","fetch","method","header","body","JSON","stringify","mobile","then","response","json","responseJson","success","set","maxAge","data","customers_id","name","catch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect ,withRouter} from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Cookies from 'universal-cookie';\nimport URL from '../URL'\n\nconst cookies = new Cookies()\n\n\nclass Login extends Component{\n  constructor(props) {\n    super(props);\n\n    this.state = {\n   \n      UserPhone:'',\n      password:''\n    }\n    this.onChange = this.onChange.bind(this);\n    this.handleBack = this.handleBack.bind(this); \n    this.handleNext = this.handleNext.bind(this);\n\n\n  }\n  handleBack() {\n\n    this.props.history.goBack();\n\n  }\n\n  handleNext(Routation)\n  {\n    this.props.history.push(Routation);\n  }\n\nonChange(e) {\n\n    if (e.target.id === 'mobile') {\n      this.setState({ UserPhone: e.target.value });\n  } else if (e.target.id === 'password') {\n      this.setState({ password: e.target.value});\n      console.log(e.target.value);\n  }\n}\n\n\nasync componentDidMount()\n{\n\n\n\n}\n\n\n\n\nrender() {\n\n\n  return ( \n<div style={{marginBottom:50}}>\n<div class=\"breadcrumb-section\">\n        <div class=\"container\">\n            <div class=\"row\">\n            \n                <div class=\"col-sm-6\">\n                    <nav aria-label=\"breadcrumb\" class=\"theme-breadcrumb\">\n                        <ol class=\"breadcrumb\">\n                            <li class=\"breadcrumb-item\"><a onClick={()=>this.handleBack()}>Home</a></li>\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\">login</li>\n                        </ol>\n                    </nav>\n                </div>\n            </div>\n        </div>\n    </div>\n\n       <section class=\"login-page section-b-space\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-lg-6\">\n                    <h3>Login</h3>\n                    <div class=\"theme-card\">\n                        <form class=\"theme-form\">\n                        \n                            \n                            <div class=\"form-group\">\n                                <label for=\"email\">Mobile Number </label>\n                                <input type=\"tel\" onChange={this.onChange}  class=\"form-control\" id=\"mobile\" placeholder=\"Mobile Number\" required=\"\" />\n                            </div>\n                            \n                            \n                            <div class=\"form-group\">\n                                <label for=\"review\">Password</label>\n                                <input type=\"password\"  onChange={this.onChange}  class=\"form-control\" id=\"password\"\n                                    placeholder=\"Enter your password\" required=\"\" />\n                            </div>\n                            \n                            \n                  <a onClick={() => this.LoginFunction()} class=\"btn btn-solid\">Login</a>\n                            \n                            \n                        </form>\n                    </div>\n                </div>\n                <div class=\"col-lg-6 right-login\">\n                    <h3>New Customer</h3> \n                    <div class=\"theme-card authentication-right\">\n                        <h6 class=\"title-font\">Create A Account</h6>\n                        <p>Sign up for a free account at our store. Registration is quick and easy. It allows you to be\n                            able to order from our shop. To start shopping click register.</p><a onClick={() =>   this.handleNext(\"/SignUp\")} \n                            class=\"btn btn-solid\">Create an Account</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n\n<ToastContainer />\n\n</div>\n\n\n\n       \n     \n    );\n  \n  }\n\n  async LoginFunction(){\n\n    this.setState({isloading:true,errorr:''})\n\n\n \n    var mobileno = /^\\d{10}$/;\n    if( this.state.UserPhone==\"\" ){\n    \n\n      this.setState({isloading:false,})\n      var msg = 'Please fill mobile number'\n      toast.error(msg)\n  \n    }\n    \n  \n  \n    else if(!this.state.UserPhone.match(mobileno)){\n      this.setState({isloading:false,})\n\n      var msg = 'Please Enter Vaild 10 digit mobile Number'\n      toast.error(msg)\n\n    }\n \n      \n    else if(this.state.UserFullName==''){\n      this.setState({isloading:false,})\n      var msg = 'Please Enter Name'\n      toast.error(msg)\n\n    }\n\n\n\n    else if(this.state.password==''){\n\n        this.setState({isloading:false,})\n        var msg = 'Password Requird'\n        toast.error(msg)\n  \n       \n      }\n\n\n \n\n  \n    else{\n  \n  \n      \n    this.setState({isloading:true})\n\n    fetch(URL+\"/APP-API/App/LoginByPhone\", {\n\n      method:'post',\n      header:{\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body:JSON.stringify({\n      \n       \n        mobile:this.state.UserPhone,\n        password:this.state.password,       \n\n      \n       \n      })\n      \n\n  }) .then((response) => response.json())\n  .then((responseJson) => {\n\n \n    if(responseJson.Login=='done')\n    { \n    \n      var msg = 'You have Logged successfully'\n      toast.success(msg)\n      \n      \n      cookies.set(\"isLogged\", true,{ maxAge: 999999999999 });\n      cookies.set(\"UserID\", responseJson.data[0].customers_id,{ maxAge: 999999999999 });\n      cookies.set(\"user_mobile_number\",this.state.UserPhone,{ maxAge: 999999999999 });\n      cookies.set(\"user_name\",responseJson.data[0].name,{ maxAge: 999999999999 });\n    \n      // window.location.reload();\n\n      this.handleNext(\"/\")\n  \n    \n    }\n    else\n    {\n      var msg = 'Phone or Password not Matched'\n      toast.error(msg)\n    }\n  \n\n\n  })\n  .catch((error) => {\n    //  console.error(error);\n       \n  });\n\n    }\n  \n      \n  }\n\n\n  \n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}