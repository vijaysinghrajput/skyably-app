{"ast":null,"code":"var _jsxFileName = \"/Users/vijaysingh/ReactJS/skyably-app/src/component/ProductList.js\";\nimport React, { Component } from 'react';\nimport URL from '../URL';\nimport { withRouter } from 'react-router-dom';\nimport * as NumericInput from \"react-numeric-input\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\nclass ProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      UserID: null,\n      productId: null,\n      SaverTodayDetails: []\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleNext = this.handleNext.bind(this);\n  }\n\n  handleNext(Routation) {\n    this.props.history.push(Routation);\n  }\n\n  productDetailsAction(productId) {\n    this.handleNext(\"/Products/\" + productId);\n  }\n\n  async componentDidMount() {\n    var UserID = await cookies.get('UserID');\n    this.setState({\n      UserID: Number(UserID)\n    });\n    this.fetchSaverProducts();\n  }\n\n  fetchSaverProducts() {\n    fetch(URL + \"/APP-API/Product/GetAllSaverProduct\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        UserID: this.state.UserID\n      })\n    }).then(response => response.json()).then(responseJson => {\n      console.log('Categorys', responseJson);\n      this.setState({\n        SaverTodayDetails: responseJson.slice(0, 12)\n      });\n    }).catch(error => {//  console.error(error);\n    });\n  }\n\n  getDate() {\n    var today = new Date();\n    var day = today.getDay();\n    var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    return days[day];\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"title1 section-t-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, \"special offer\"), /*#__PURE__*/React.createElement(\"h2\", {\n      class: \"title-inner1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, this.getDate(), \"'s deal\")), /*#__PURE__*/React.createElement(\"section\", {\n      class: \"pt-0 section-b-space ratio_asos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row game-product grid-products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, this.state.SaverTodayDetails.map((item, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-xl-3 col-lg-3 col-sm-4 col-6 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"product-box shadow-lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"img-block  justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }\n      }, Number(item.discount) !== 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 27\n        }\n      }, item.discount % 1 === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"lable-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        class: \"lable1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 56\n        }\n      }, Math.round(item.discount), \" %\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        class: \"lable2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 114\n        }\n      }, \"off\")) : /*#__PURE__*/React.createElement(\"div\", {\n        class: \"lable-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        class: \"lable1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 54\n        }\n      }, Number(item.discount).toFixed(2), \" %\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        class: \"lable2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 119\n        }\n      }, \"off\"))) : null, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"front justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.productDetailsAction(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          width: \"auto\",\n          margin: \"auto\",\n          display: 'block',\n          height: 200\n        },\n        src: URL + \"/images/product-images/\" + item.product_image,\n        class: \"img-fluid blur-up lazyload bg-img\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 81\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"back justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.productDetailsAction(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          width: \"auto\",\n          margin: \"auto\",\n          display: 'block',\n          height: 200\n        },\n        src: URL + \"/images/product-images/\" + item.product_image,\n        class: \"img-fluid blur-up lazyload bg-img\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 81\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"product-detail center d-flex justify-content-center my-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 31\n        }\n      }, this.getTitle(item.product_name, item.product_size, item.product_unit)), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"del\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 35\n        }\n      }, \"\\u20B9 \", item.price), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 60\n        }\n      }, \"  \\u20B9 \", this.discountedPrice(item.price, item.discount), \" \")))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"center d-flex justify-content-center my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, item.addedtocart == 1 ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"center d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(NumericInput, {\n        onChange: e => this.onChange(e, item.id, item.quantity),\n        className: \"btn btn-solid center d-flex justify-content-center \",\n        min: 0,\n        size: \"10\",\n        max: Number(item.quantity) <= 0 ? 1 : Number(item.quantity),\n        value: Number(item.cartQunatity),\n        step: 1,\n        mobile: true,\n        valueType: \"real\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 27\n        }\n      })) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.isCartCheckedOrNot(item, key),\n        class: \"btn btn-solid center d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }\n      }, \"add to cart\"))))));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"product-pagination\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.props.history.push(\"/Offers\"),\n      class: \"col-xl-12 col-md-12 col-sm-12 btn btn-outline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }, \" See All\")))))));\n  }\n\n  getTitle(product_name, product_size, product_unit) {\n    var heading = null;\n    var contentwidth = window.innerWidth;\n\n    if (contentwidth < '750') {\n      var heading = /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 28\n        }\n      }, product_name.substring(0, 15), \" \", product_size, \" \", product_unit);\n    } else {\n      var heading = /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 28\n        }\n      }, product_name.substring(0, 20), \" \", product_size, \" \", product_unit);\n    }\n\n    return heading;\n  }\n\n  discountedPrice(price, dis) {\n    const discount = price * (dis / 100);\n    const net = price - discount;\n    return Number(net).toFixed(0);\n  }\n\n  onChange(counterValue, productId, quantity) {\n    if (counterValue <= 0) {\n      this.deleteCartItem(productId);\n    } else {\n      this.addQuantity(counterValue, productId, quantity);\n    }\n  }\n\n  async isCartCheckedOrNot(item, index) {\n    var isLogged = await cookies.get('isLogged'); // alert(isLogged)\n\n    if (isLogged === undefined) {\n      // alert('not loged')\n      this.handleNext(\"/Login\");\n    } else {\n      this.setState(state => ({\n        SaverTodayDetails: state.SaverTodayDetails.map(q => {\n          if (q.id === item.id) {\n            return { ...q,\n              addedtocart: 1\n            };\n          }\n\n          return q;\n        })\n      }), () => {// console.log(this.state.SaverTodayDetails[1]);\n      });\n      this.setState(state => ({\n        SaverTodayDetails: state.SaverTodayDetails.map(q => {\n          if (q.id === item.id) {\n            return { ...q,\n              cartQunatity: 1\n            };\n          }\n\n          return q;\n        })\n      }), () => {});\n      this.props.CartHandler(1);\n      this.addCartItem(item.id);\n    }\n  }\n\n  addCartItem(productId) {\n    fetch(URL + \"/APP-API/Product/AddCart\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        customerID: this.state.UserID,\n        productId: productId,\n        Store_code: this.state.Store_code\n      })\n    }).then(response => response.json()).then(responseJson => {\n      // console.log('Add cart res',responseJson)\n      this.fetchSaverProducts();\n    });\n  }\n\n  async deleteCartItem(productId) {\n    this.props.CartHandler(-1);\n    await this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === productId) {\n          return { ...q,\n            addedtocart: 0\n          };\n        }\n\n        return q;\n      })\n    }), () => {// console.log(this.state.SaverTodayDetails[1]);\n    });\n    await this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === productId) {\n          return { ...q,\n            cartQunatity: 1\n          };\n        }\n\n        return q;\n      })\n    }), () => {// console.log(this.state.SaverTodayDetails[1]);\n    });\n    fetch(URL + \"/APP-API/Product/AddCartRemove\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        customerID: this.state.UserID,\n        productId: productId,\n        Store_code: this.state.Store_code\n      })\n    }).then(response => response.json()).then(responseJson => {\n      this.fetchSaverProducts();\n    });\n  }\n\n  async addQuantity(value, productId, quantity) {\n    if (Number(quantity) > 0) {\n      await this.setState(state => ({\n        SaverTodayDetails: state.SaverTodayDetails.map(q => {\n          if (q.id === productId) {\n            return { ...q,\n              cartQunatity: value\n            };\n          }\n\n          return q;\n        })\n      }), () => {// console.log(this.state.SaverTodayDetails[1]); \n      });\n      await fetch(URL + \"/APP-API/Product/AddCartIncrement\", {\n        method: 'post',\n        header: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          customerID: this.state.UserID,\n          productId: productId,\n          Store_code: this.state.Store_code,\n          qty: value\n        })\n      }).then(response => response.json()).then(responseJson => {// console.log(responseJson)\n      });\n    }\n  }\n\n}\n\nexport default withRouter(ProductList);","map":{"version":3,"sources":["/Users/vijaysingh/ReactJS/skyably-app/src/component/ProductList.js"],"names":["React","Component","URL","withRouter","NumericInput","Cookies","cookies","ProductList","constructor","props","state","UserID","productId","SaverTodayDetails","onChange","bind","handleNext","Routation","history","push","productDetailsAction","componentDidMount","get","setState","Number","fetchSaverProducts","fetch","method","header","body","JSON","stringify","then","response","json","responseJson","console","log","slice","catch","error","getDate","today","Date","day","getDay","days","render","map","item","key","discount","Math","round","toFixed","id","width","margin","display","height","product_image","getTitle","product_name","product_size","product_unit","price","discountedPrice","addedtocart","e","quantity","cartQunatity","isCartCheckedOrNot","textAlign","heading","contentwidth","window","innerWidth","substring","dis","net","counterValue","deleteCartItem","addQuantity","index","isLogged","undefined","q","CartHandler","addCartItem","customerID","Store_code","value","qty"],"mappings":"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","sourcesContent":["\nimport React,{Component} from 'react';\nimport URL from '../URL'\nimport { withRouter } from 'react-router-dom';\nimport * as NumericInput from \"react-numeric-input\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\n\nclass ProductList extends Component{\n  constructor(props) {\n\n    super(props);\n   \n      this.state = {\n        UserID:null,\n        productId:null,\n        SaverTodayDetails:[]\n      }\n      this.onChange = this.onChange.bind(this);\n\n      this.handleNext = this.handleNext.bind(this);\n\n\n    }\n    handleNext(Routation)\n    {\n      this.props.history.push(Routation);\n    }\n  \n\n\n\n  productDetailsAction(productId) \n{\n\n  this.handleNext(\"/Products/\"+productId)\n\n}\n\n\n async componentDidMount()\n  {\n\n      var UserID = await cookies.get('UserID');\n    \n       this.setState({UserID:Number(UserID)})\n\n      this.fetchSaverProducts()\n    \n\n  }\n \n\n  fetchSaverProducts()\n  {\n    fetch(URL+\"/APP-API/Product/GetAllSaverProduct\",{\n      method:'post',\n        header:{\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body:JSON.stringify({\n          \n          UserID:this.state.UserID\n\n         \n        })\n        \n      })\n       .then((response) => response.json())\n       .then((responseJson) => {\n         \n        \n        console.log('Categorys',responseJson)\n    \n        this.setState({ SaverTodayDetails: responseJson.slice(0,12)  });\n    \n    \n         \n         \n         \n       })\n       .catch((error) => {\n         //  console.error(error);\n            \n       });\n      \n \n  }\n\n  getDate()\n  {\n    var today = new Date();\n\n  var day = today.getDay();\n\n  var days = [\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];\n\n  return   days[day];\n\n\n}\n\n    render() { \n\n\n\n    \n    return (\n      <div>\n \n      <div class=\"title1 section-t-space\">\n          <h4>special offer</h4>\n          <h2 class=\"title-inner1\">{this.getDate()}'s deal</h2>\n      </div>\n \n  \n      <section class=\"pt-0 section-b-space ratio_asos\">\n          <div class=\"container\">\n              <div class=\"row game-product grid-products\">\n                  \n                  \n                  \n                       { this.state.SaverTodayDetails.map((item, key) => {\n                      return ( \n                          \n                  <div class=\"col-xl-3 col-lg-3 col-sm-4 col-6 \">\n                  <div class=\"product-box shadow-lg\">\n                        <div class=\"img-block  justify-content-center\">\n\n\n                        {Number(item.discount)!==0?\n                          (\n                          <div>\n                          {item.discount % 1 === 0?(\n                            <div class=\"lable-wrapper\"><span class=\"lable1\">{Math.round(item.discount)} %</span> <span class=\"lable2\">\n                            off</span></div>\n                          ):(\n                          <div class=\"lable-wrapper\"><span class=\"lable1\">{Number(item.discount).toFixed(2)} %</span> <span class=\"lable2\">\n                          off</span></div>\n                          )} \n                          \n                          </div>\n                          ):null}\n\n\n                      <div class=\"front justify-content-center\">\n                          <a onClick={() => this.productDetailsAction(item.id)}><img style={{width:\"auto\",margin:\"auto\",display:'block', height:200}} src={URL+\"/images/product-images/\"+item.product_image} class=\"img-fluid blur-up lazyload bg-img\" alt=\"\"/></a>\n                      </div>\n                      <div class=\"back justify-content-center\">\n                          <a onClick={() => this.productDetailsAction(item.id)}><img style={{width:\"auto\",margin:\"auto\",display:'block', height:200}} src={URL+\"/images/product-images/\"+item.product_image} class=\"img-fluid blur-up lazyload bg-img\" alt=\"\"/></a>\n                      </div>\n\n \n\n                       \n\n                          <div class=\"product-detail center d-flex justify-content-center my-1\">\n                          <div>\n                              <a >\n                              {this.getTitle(item.product_name,item.product_size,item.product_unit)}\n                           \n                              </a>\n                            \n                              <h4><del>₹ {item.price}</del><span>  ₹ {this.discountedPrice(item.price,item.discount)} </span></h4>\n                             \n                          </div>\n                        </div>\n\n\n                        <div class=\"center d-flex justify-content-center my-2\" >\n                        {item.addedtocart==1?(\n                \n                          <div class=\"center d-flex justify-content-center\">\n                          <NumericInput \n                          onChange={(e) =>this.onChange(e,item.id,item.quantity)}\n                          className=\"btn btn-solid center d-flex justify-content-center \" \n                          min={0}\n                          size=\"10\"\n                          max={Number(item.quantity)<=0?1:Number(item.quantity)}\n                          value={Number(item.cartQunatity)}\n                          step={1}\n                          \n                          mobile\n                          valueType='real' \n                          />\n                        \n                         </div>\n                          ):(\n                        \n                            <div>\n                            <div  onClick={() => this.isCartCheckedOrNot(item,key,)}  class=\"btn btn-solid center d-flex justify-content-center\">add to cart</div>\n                            </div>\n                         \n                        \n                            )}\n                        </div>\n\n\n                        </div>\n\n                      </div>\n\n                  </div>\n                  \n                  \n                        )\n                  })}\n                  \n                  \n                  \n   \n              </div>\n              <div class=\"product-pagination\">\n                                    \n              <div class=\"row\">\n                  <div onClick={()=>this.props.history.push(\"/Offers\")} class=\"col-xl-12 col-md-12 col-sm-12 btn btn-outline\">\n                  <a style={{textAlign:'center'}}> See All</a>\n                  </div>\n                 \n              </div>\n       \n      </div>\n          </div>\n\n      \n      </section>\n      \n      </div>\n\n        )};\n\n        getTitle(product_name,product_size,product_unit)\n        {\n          var heading = null;\n          var contentwidth = window.innerWidth\n          if ((contentwidth) < '750') {\n             var heading = <h6>{product_name.substring(0, 15)} {product_size} {product_unit}</h6>\n          } \n          else {\n             var heading = <h6>{product_name.substring(0, 20)} {product_size} {product_unit}</h6>\n\n          }\n\n          return heading\n      \n          \n      \n        }\n\ndiscountedPrice(price,dis)\n{\nconst  discount = price * (dis / 100)\n const net = price - discount\n return Number(net).toFixed(0); \n}\n\nonChange(counterValue,productId,quantity) {\n\n  if(counterValue<=0)\n  {\nthis.deleteCartItem(productId)\n  }\nelse{\nthis.addQuantity(counterValue,productId,quantity)\n}\n\n}\n  \n\n\n   async isCartCheckedOrNot(item,index) {\n      \n      var isLogged = await cookies.get('isLogged')\n      // alert(isLogged)\n      if(isLogged===undefined)\n      {\n        // alert('not loged')\n        this.handleNext(\"/Login\")\n\n    \n\n\n      }\nelse{\n\n\n\n\n\n     this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === item.id) {\n          return {...q, addedtocart: 1};\n        }\n        return q;\n      })\n    }), () => {\n      // console.log(this.state.SaverTodayDetails[1]);\n    });\n\n     this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === item.id) {\n          return {...q, cartQunatity: 1,};\n        }\n        return q;\n      })\n    }), () => {\n \n    });\n\n \n  \n    this.props.CartHandler(1);\n\n    this.addCartItem(item.id)\n \n     \n      \n}\n\n\n  }\n\n \n\n  addCartItem(productId)\n  {\n    fetch(URL+\"/APP-API/Product/AddCart\",{\n\n         method:'post',\n         header:{\n           'Accept': 'application/json',\n           'Content-type': 'application/json'\n         },\n         body:JSON.stringify({\n\n          customerID:this.state.UserID,\n          productId:productId,\n          Store_code:this.state.Store_code,\n\n\n\n         })\n         \n       })\n        .then((response) => response.json())\n        .then((responseJson) => {\n\n\n          // console.log('Add cart res',responseJson)\n          this.fetchSaverProducts()\n          \n         \n\n        })\n\n  }\n\n\n  async deleteCartItem(productId)\n  {\n\n\n    this.props.CartHandler(-1);\n\n\n   await this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === productId) {\n          return {...q, addedtocart: 0,};\n        }\n        return q;\n      })\n    }), () => {\n      // console.log(this.state.SaverTodayDetails[1]);\n    });\n \n   await this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === productId) {\n          return {...q, cartQunatity: 1,};\n        }\n        return q;\n      })\n    }), () => {\n      // console.log(this.state.SaverTodayDetails[1]);\n    });\n\n\n \n\n\n\n    fetch(URL+\"/APP-API/Product/AddCartRemove\",{\n\n      method:'post',\n      header:{\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body:JSON.stringify({\n\n       customerID:this.state.UserID,\n       productId:productId,\n       Store_code:this.state.Store_code,\n      \n     \n      })\n      \n    })\n     .then((response) => response.json())\n     .then((responseJson) => {\n       \n      \nthis.fetchSaverProducts()\n\n     })\n\n  \n\n  }\n\n  async addQuantity(value,productId,quantity)\n  {\nif(Number(quantity)>0)\n{\n\n  await  this.setState(state => ({\n    SaverTodayDetails: state.SaverTodayDetails.map(q => {\n      if (q.id === productId) {\n        return {...q, cartQunatity: value};\n      }\n      return q;\n    })\n  }), () => {\n    // console.log(this.state.SaverTodayDetails[1]); \n  });\n\n\n\n\n\n   await fetch(URL+\"/APP-API/Product/AddCartIncrement\",{\n\n         method:'post',\n         header:{\n           'Accept': 'application/json',\n           'Content-type': 'application/json'\n         },\n         body:JSON.stringify({\n\n          customerID:this.state.UserID,\n          productId:productId,\n          Store_code:this.state.Store_code,\n          qty:value\n       })\n       \n     })\n      .then((response) => response.json())\n      .then((responseJson) => {\n        // console.log(responseJson)\n\n\n      })\n\n}\n\n}  \n\n  }\n\nexport default withRouter(ProductList);\n"]},"metadata":{},"sourceType":"module"}