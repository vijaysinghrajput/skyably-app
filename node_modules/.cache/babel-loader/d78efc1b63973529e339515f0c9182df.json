{"ast":null,"code":"var _jsxFileName = \"/Users/vijaysingh/ReactJS/skyably-app/src/component/CheackOut.js\";\nimport React, { Component } from 'react';\nimport { useState } from 'react';\nimport SplshImage from './SplshImage';\nimport { Redirect, Link, withRouter } from 'react-router-dom';\nimport URL from '../URL';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\n\nimport Cookies from 'universal-cookie';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-toastify/dist/ReactToastify.css';\nconst cookies = new Cookies();\n\nclass CheackOut extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeDate = dates => {\n      alert(dates);\n    };\n\n    this.state = {\n      clickedPaymen: false,\n      isloaded: false,\n      UserID: null,\n      UserAddressData: null,\n      addressId: 1,\n      iscouponApplied: 0,\n      couponMsg: '',\n      CouponValue: '',\n      couponId: '',\n      totalAmount: 0,\n      FinalTotalAmount: 0,\n      afterDiscountTotal: 0,\n      delcharge: 0,\n      delMinimumPrice: 0,\n      FinalTotal: 0,\n      isDevApplied: 'NONE',\n      PaymentMode: 'COD'\n    };\n    this.handleNext = this.handleNext.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onChangePlaceMode = this.onChangePlaceMode.bind(this);\n  }\n\n  handleBack() {\n    this.props.history.goBack();\n  }\n\n  handleNext(Routation) {\n    this.props.history.push(Routation);\n  }\n\n  onChange(e) {\n    if (e.target.id === 'coupon') {\n      this.setState({\n        CouponValue: e.target.value,\n        iscouponApplied: 0\n      });\n    }\n  }\n\n  onChangePlaceMode(e) {\n    if (e.target.id === 'payment-2') {\n      this.setState({\n        PaymentMode: e.target.value\n      });\n    }\n\n    if (e.target.id === 'payment-3') {\n      this.setState({\n        PaymentMode: e.target.value\n      });\n    }\n  }\n\n  fetchPrice() {\n    this.setState({\n      isLoad: true\n    });\n    fetch(URL + \"/APP-API/Product/GetPlaceOrderPrice\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        UserID: this.state.UserID\n      })\n    }).then(response => response.json()).then(responseJson => {\n      this.setState({\n        totalAmount: responseJson.totalAmount,\n        afterDiscountTotal: responseJson.afterDiscountTotal,\n        delcharge: responseJson.delcharge,\n        delMinimumPrice: responseJson.delMinimumPrice,\n        FinalTotal: responseJson.FinalTotal,\n        FinalTotalAmount: responseJson.FinalTotal,\n        isDevApplied: responseJson.isDevApplied,\n        isloaded: true\n      });\n    }).catch(error => {//  console.error(error);\n    });\n  }\n\n  async componentDidMount() {\n    var isLogged = await cookies.get('isLogged'); // alert(isLogged)\n\n    if (isLogged === undefined) {\n      // alert('not loged')\n      this.handleNext(\"/Login\");\n    }\n\n    var user_name = await cookies.get('user_name');\n    var user_mobile_number = await cookies.get('user_mobile_number');\n    var UserID = await cookies.get('UserID');\n    this.setState({\n      user_name,\n      user_mobile_number,\n      UserID\n    });\n    this.FetchAllAddress();\n    this.fetchPrice();\n  }\n\n  FetchAllAddress() {\n    fetch(URL + \"/APP-API/App/getAllAddress\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        UserID: this.state.UserID\n      })\n    }).then(response => response.json()).then(responseJson => {\n      if (responseJson.address[0] == undefined) {\n        this.handleNext(\"/Add-Address/Checkout\");\n        this.setState({\n          UserAddressData: null\n        });\n      } else {\n        this.setState({\n          UserAddressData: responseJson.address,\n          addressId: responseJson.address[0].address_id\n        });\n      }\n    }).catch(error => {//  console.error(error);\n    });\n  } //     <div onClick={()=>this.setState({PaymentMode:'online'})} className=\"col-12 col-md-6 col-lg-4 col-xl-4  p-2\">\n  // <div class=\"card border-0 shadow-sm\">\n  // <div class=\"card-body\">\n  // <div className=\"row \">\n  // <div className=\"col-4 col-md-4 col-lg-4 col-xl-4\">\n  // {this.state.PaymentMode=='online'?\n  // (\n  //   <button class=\"btn btn-default button-rounded-36 shadow\"><i class=\"material-icons\">adjust</i></button>\n  // ):\n  // (\n  //   <button class=\"btn btn-dark button-rounded-36 shadow\"><i class=\"material-icons\">adjust</i></button>\n  // )}\n  // </div>\n  // <div className=\"col-8 col-md-8 col-lg-8 col-xl-8\">\n  // <h5 class=\"mt-1\"> Online Payment </h5>\n  // </div>\n  // </div>\n  // </div>\n  // </div>\n  // </div>\n\n\n  todayDate() {\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, '0');\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n    var yyyy = today.getFullYear();\n    today = mm + '/' + dd + '/' + yyyy;\n    return today;\n  }\n\n  render() {\n    if (this.state.isloaded === false) {\n      return /*#__PURE__*/React.createElement(SplshImage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 10\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ToastContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"breadcrumb-section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"nav\", {\n        \"aria-label\": \"breadcrumb\",\n        class: \"theme-breadcrumb\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"ol\", {\n        class: \"breadcrumb\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        class: \"breadcrumb-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.handleBack(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 55\n        }\n      }, \"BACK\")), /*#__PURE__*/React.createElement(\"li\", {\n        class: \"breadcrumb-item active\",\n        \"aria-current\": \"page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }\n      }, \"Check-out\"))))))), /*#__PURE__*/React.createElement(\"section\", {\n        class: \"section-b-space\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 3\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 3\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"checkout-page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"checkout-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-lg-6 col-sm-12 col-xs-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"checkout-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleNext(\"/Add-Address/Checkout\"),\n        type: \"button\",\n        class: \"btn btn-solid mb-2 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 23\n        }\n      }, \" ADD NEW ADDRESS\")), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"checkout-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 31\n        }\n      }, \"Billing Details\")), this.state.UserAddressData === null ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"media-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        class: \"subtitle mt-4 mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 5\n        }\n      }, \"No Address Yet\")) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 1\n        }\n      }, this.state.UserAddressData.map((item, key) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          onClick: () => this.setState({\n            addressId: item.address_id\n          }),\n          className: \" shadow-lg rounded my-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card shadow-lg border-0  p-4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 3\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          className: \"small\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 5\n          }\n        }, \"Address \", key + 1, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 1\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          class: \"mb-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 11\n          }\n        }, \" \", item.name, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n          class: \"mb-2 text-secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 11\n          }\n        }, \" \", item.address, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n          class: \"small\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 11\n          }\n        }, \" \", item.zipcode, \" , \", item.city, \", \", item.phone, \" ,\", item.alternative_phone, \" \")), this.state.addressId === item.address_id ? /*#__PURE__*/React.createElement(\"div\", {\n          class: \" row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"col-lg-6 col-sm-6 col-xs-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          class: \"text-center mt-1 btn btn-success disable\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 5\n          }\n        }, \"Selected Delivery Address \")), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"col-lg-6 col-sm-6 col-xs-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          onClick: () => this.handleNext(\"/Edit-Address/Checkout/\" + item.address_id),\n          class: \"text-center mt-1 btn btn-primary \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 5\n          }\n        }, \"Edit\"))) : /*#__PURE__*/React.createElement(\"div\", {\n          class: \" row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"col-lg-6 col-sm-6 col-xs-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 1\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          class: \"text-center mt-1 btn btn-dark disable\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 1\n          }\n        }, \" Delivery on this address \")), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"col-lg-6 col-sm-6 col-xs-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 1\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          onClick: () => this.handleNext(\"/Edit-Address/Checkout/\" + item.address_id),\n          class: \"text-center mt-1 btn btn-primary \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 1\n          }\n        }, \"Edit\")))));\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-lg-6 col-sm-12 col-xs-12 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"checkout-details shadow-lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"order-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        class: \"sub-total\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 39\n        }\n      }, \"Subtotal \", /*#__PURE__*/React.createElement(\"span\", {\n        class: \"count\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 52\n        }\n      }, \"\\u20B9 \", this.state.afterDiscountTotal)), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 39\n        }\n      }, \"Shipping\", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"shipping\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 43\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"free-shipping\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 51\n        }\n      }, \"\\u20B9 \", this.state.isDevApplied == 'NO' ? '0' : this.state.delcharge))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \" row my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-lg-6 col-sm-6 col-xs-6 my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.onChange,\n        id: \"coupon\",\n        class: \"form-control\",\n        placeholder: \"Apply Coupon Code\",\n        required: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 39\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-lg-6 col-sm-6 col-xs-6 my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 39\n        }\n      }, this.state.iscouponApplied == 0 ? /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.AppliedCouponAction(),\n        class: \"btn btn-solid shadow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 43\n        }\n      }, \"APPLY\") : null)), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 39\n        }\n      }, \"Total\", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"shipping\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"free-shipping\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 47\n        }\n      }, \"\\u20B9 \", this.state.FinalTotal)))), /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 35\n        }\n      }, this.state.isDevApplied == 'YES' ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"alert alert-primary mt-2\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 1\n        }\n      }, \"* Delivery free over on  \\u20B9 \", this.state.delMinimumPrice) : null, this.state.iscouponApplied == 1 ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"alert alert-success mt-1\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 1\n        }\n      }, this.state.CouponValue, \" applied successfully\") : null, this.state.iscouponApplied == 1 ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"alert alert-success mt-1\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 1\n        }\n      }, this.state.couponMsg) : null), /*#__PURE__*/React.createElement(\"ul\", {\n        class: \"total\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 35\n        }\n      }, \"Net Total \", /*#__PURE__*/React.createElement(\"span\", {\n        class: \"count\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 49\n        }\n      }, \"\\u20B9 \", this.state.FinalTotalAmount)))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"payment-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"upper-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"payment-options row my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-lg-6 col-sm-6 col-xs-6 my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"free-shipping\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 35\n        }\n      }, \"Delivery Date\"), /*#__PURE__*/React.createElement(DatePicker, {\n        selected: new Date(),\n        onChange: date => this.onChangeDate(date),\n        minDate: new Date(),\n        maxDate: new Date().setDate(new Date().getDate() + 5),\n        placeholderText: \"Select a date between today and 5 days in the future\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-lg-6 col-sm-6 col-xs-6 my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"free-shipping\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 1\n        }\n      }, \"Delivery Time\"), /*#__PURE__*/React.createElement(DatePicker, {\n        selected: new Date().setHours(10),\n        onChange: date => this.onChangeDate(date),\n        minTime: new Date().setHours(8),\n        maxTime: new Date().setHours(20),\n        showTimeSelect: true,\n        showTimeSelectOnly: true,\n        timeIntervals: 60,\n        timeCaption: \"Time\",\n        dateFormat: \"h:mm aa\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 1\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"payment-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"upper-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"payment-options\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 43\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 47\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 47\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"radio-option\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 51\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        onChange: this.onChangePlaceMode,\n        type: \"radio\",\n        value: this.state.PaymentMode,\n        name: \"payment-group\",\n        id: \"payment-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 55\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        for: \"payment-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 55\n        }\n      }, \"Cash On Delivery\", /*#__PURE__*/React.createElement(\"span\", {\n        class: \"small-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 94\n        }\n      }, \"Please send a check to Store Name, Store Street, Store Town, Store State / County, Store Postcode.\")))), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 47\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"radio-option paypal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 51\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        onChange: this.onChangePlaceMode,\n        type: \"radio\",\n        value: \"online\",\n        name: \"payment-group\",\n        id: \"payment-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 55\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        for: \"payment-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 55\n        }\n      }, \"Online\", /*#__PURE__*/React.createElement(\"span\", {\n        class: \"image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 84\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/assets/images/paypal.png\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 104\n        }\n      })))))))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 35\n        }\n      }, this.state.clickedPaymen == false ? /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.PlaceThisOrderFinal(),\n        class: \"btn btn-lg btn-solid text-white shadow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 128\n        }\n      }, \"Place Order\")) : null)))))))))));\n    }\n  }\n\n  async RazorPay() {\n    // Getting the order details back\n    // const { amount, id: order_id, currency } = result.data;\n    const options = {\n      key: \"rzp_live_NFK2oQGRZ18riT\",\n      // Enter the Key ID generated from the Dashboard\n      amount: 1 * 100,\n      currency: \"INR\",\n      name: \"Bharat Bazaar.\",\n      description: \"Test Transaction\",\n      // image: { logo },\n      // order_id: 345434,\n      \"handler\": function (response) {\n        alert(response.razorpay_payment_id);\n      },\n      prefill: {\n        name: await cookies.get('user_name'),\n        \"contact\": await cookies.get('user_mobile_number')\n      },\n      notes: {\n        address: \"Soumya Dey Corporate Office\"\n      },\n      theme: {\n        color: \"#61dafb\"\n      }\n    };\n    const paymentObject = new window.Razorpay(options);\n    paymentObject.open();\n  }\n\n  async AppliedCouponAction() {\n    this.setState({\n      isLoadCoupon: true\n    });\n    fetch(URL + \"/APP-API/Product/CouponAction\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        coupon: this.state.CouponValue,\n        UserID: this.state.UserID\n      })\n    }).then(response => response.json()).then(responseJson => {\n      console.log('coupon result', responseJson);\n      this.setState({\n        isLoadCoupon: false\n      });\n\n      if (responseJson.status == 'NoCoupon') {\n        var msgPopPup = '** Please enter valid coupon code';\n        toast.error(msgPopPup);\n      }\n\n      if (responseJson.status == 'expaird') {\n        var msgPopPup = '** Expired Coupon Code';\n        toast.error(msgPopPup);\n      }\n\n      if (responseJson.status == 'vailed') {\n        var msgPopPup = '** Valid Coupon Code';\n        toast.success(msgPopPup);\n\n        if (responseJson.userStatus == 'used') {\n          var msgPopPup = '** You already used this coupon code';\n          toast.error(msgPopPup);\n        }\n\n        if (Number(responseJson.data[0].minimum_order_amount) > Number(this.state.totalAmount)) {\n          var msgPopPup = \"COUPON VAILD ONLY ON MORE THAN ₹ \" + Math.floor(responseJson.data[0].minimum_order_amount);\n          toast.error(msgPopPup);\n        } else {\n          // console.log('TOTAL IS OK',)\n          if (responseJson.data[0].coupon_type == 'percentage') {\n            const discount = this.state.afterDiscountTotal * (Math.floor(responseJson.data[0].coupon_discount) / 100);\n            const net = this.state.afterDiscountTotal - Math.round(discount);\n            var msg = 'You got ' + Math.floor(responseJson.data[0].coupon_discount) + ' % OFF  ₹ ' + Math.round(discount) + ' Save';\n\n            if (this.state.isDevApplied == 'NO') {\n              this.setState({\n                FinalTotalAmount: net,\n                iscouponApplied: 1,\n                couponMsg: msg,\n                couponId: responseJson.data[0].coupon_id\n              });\n            } else {\n              this.setState({\n                FinalTotalAmount: net + Math.floor(this.state.delcharge),\n                iscouponApplied: 1,\n                couponMsg: msg,\n                couponId: responseJson.data[0].coupon_id\n              });\n            }\n          } else if (responseJson.data[0].coupon_type == 'amount') {\n            var msg = 'You got ₹' + Math.floor(responseJson.data[0].coupon_discount) + ' OFF ';\n            this.setState({\n              FinalTotalAmount: this.state.FinalTotalAmount - responseJson.data[0].coupon_discount,\n              iscouponApplied: 1,\n              couponMsg: msg,\n              couponId: responseJson.data[0].coupon_id\n            });\n          } else if (responseJson.data[0].coupon_type == 'freeshiping') {\n            if (this.state.isDevApplied == 'NO') {\n              var msgPopPup = \"Free Shipping applied already\";\n              toast.error(msgPopPup);\n            } else {\n              var msg = 'You got free shipping ₹' + Math.floor(this.state.delcharge) + ' OFF ';\n              this.setState({\n                FinalTotalAmount: this.state.FinalTotalAmount - this.state.delcharge,\n                iscouponApplied: 1,\n                couponMsg: msg,\n                couponId: responseJson.data[0].coupon_id\n              });\n            }\n          }\n        }\n      }\n\n      if (responseJson.userStatus == 'used') {\n        var msgPopPup = '** You already used this coupon code';\n        toast.error(msgPopPup);\n      }\n    }).catch(error => {//  console.error(error);\n    });\n  }\n\n  PlaceThisOrderFinal() {\n    this.setState({\n      clickedPaymen: true\n    });\n\n    if (this.state.PaymentMode == 'COD') {\n      fetch(URL + \"/APP-API/Product/CODPayment\", {\n        method: 'post',\n        header: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          AddressId: this.state.addressId,\n          UserID: this.state.UserID,\n          FinalTotalAmount: this.state.FinalTotalAmount,\n          iscouponApplied: this.state.iscouponApplied,\n          PaymentMode: this.state.PaymentMode,\n          couponId: this.state.couponId,\n          isDevApplied: this.state.isDevApplied,\n          delcharge: this.state.delcharge\n        })\n      }).then(response => response.json()).then(responseJson => {\n        this.setState({\n          clickedPaymen: false\n        }); // console.log('Payment Server',responseJson)\n\n        if (responseJson.status == 'Success') {\n          var msgPopPup = '** Order Placed Successfull';\n          toast.success(msgPopPup);\n          let that = this.props;\n          setTimeout(function () {\n            that.history.push(\"/Order\");\n          }, 700);\n        } else {\n          var msgPopPup = '** Network Problem';\n          toast.error(msgPopPup);\n        }\n      }).catch(error => {//  console.error(error);\n      });\n    } else if (this.state.PaymentMode == 'online') {\n      this.RazorPay(); // this.setState({orderclicked:true})\n      // fetch(URL+\"/APP-API/Product/TemperaryPayment\",{\n      //   method:'post',\n      //   header:{\n      //     'Accept': 'application/json',\n      //     'Content-type': 'application/json'\n      //   },\n      //   body:JSON.stringify({\n      //     AddressId:this.state.addressId,\n      //     UserID:this.state.UserID,\n      //     FinalTotalAmount:this.state.FinalTotalAmount,\n      //     iscouponApplied:this.state.iscouponApplied,\n      //     PaymentMode:this.state.PaymentMode,\n      //     couponId:this.state.couponId,\n      //     isDevApplied:this.state.isDevApplied,\n      //     delcharge:this.state.delcharge\n      //   })\n      // })\n      //  .then((response) => response.json())\n      //  .then((responseJson) => {\n      //   this.setState({clickedPaymen:false})\n      //   // console.log('Payment Server',responseJson)\n      //  if(responseJson!==''){\n      //   this.sendToPayemt(responseJson)\n      //  }\n      //  else{\n      //    var msgPopPup = '** Network Problem';\n      //    toast.error(msgPopPup)\n      //  }\n      //  })\n      //  .catch((error) => {\n      //    //  console.error(error);\n      //  });\n    }\n  }\n\n}\n\nexport default withRouter(CheackOut);","map":{"version":3,"sources":["/Users/vijaysingh/ReactJS/skyably-app/src/component/CheackOut.js"],"names":["React","Component","useState","SplshImage","Redirect","Link","withRouter","URL","Cookies","confirmAlert","ToastContainer","toast","DatePicker","cookies","CheackOut","constructor","props","onChangeDate","dates","alert","state","clickedPaymen","isloaded","UserID","UserAddressData","addressId","iscouponApplied","couponMsg","CouponValue","couponId","totalAmount","FinalTotalAmount","afterDiscountTotal","delcharge","delMinimumPrice","FinalTotal","isDevApplied","PaymentMode","handleNext","bind","handleBack","onChange","onChangePlaceMode","history","goBack","Routation","push","e","target","id","setState","value","fetchPrice","isLoad","fetch","method","header","body","JSON","stringify","then","response","json","responseJson","catch","error","componentDidMount","isLogged","get","undefined","user_name","user_mobile_number","FetchAllAddress","address","address_id","todayDate","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","render","map","item","key","name","zipcode","city","phone","alternative_phone","AppliedCouponAction","date","setDate","setHours","PlaceThisOrderFinal","RazorPay","options","amount","currency","description","razorpay_payment_id","prefill","notes","theme","color","paymentObject","window","Razorpay","open","isLoadCoupon","coupon","console","log","status","msgPopPup","success","userStatus","Number","data","minimum_order_amount","Math","floor","coupon_type","discount","coupon_discount","net","round","msg","coupon_id","AddressId","that","setTimeout"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAUC,QAAV,QAA0B,OAA1B;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,SAASC,QAAT,EAAmBC,IAAnB,EAAwBC,UAAxB,QAAyC,kBAAzC;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAO,uDAAP,C,CAAgE;;AAEhE,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,YAAT,QAA6B,qBAA7B,C,CAAoD;;AACpD,OAAO,iDAAP,C,CAA0D;;AAC1D,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AAEA,OAAO,4CAAP;AACA,OAAO,uCAAP;AAEA,MAAMC,OAAO,GAAG,IAAIL,OAAJ,EAAhB;;AAGA,MAAMM,SAAN,SAAwBb,SAAxB,CAAiC;AAC/Bc,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAEjB,UAAMA,KAAN;;AAFiB,SA4NrBC,YA5NqB,GA4NNC,KAAK,IAAI;AACxBC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACC,KA9NoB;;AAIf,SAAKE,KAAL,GAAa;AACXC,MAAAA,aAAa,EAAC,KADH;AAEXC,MAAAA,QAAQ,EAAC,KAFE;AAGXC,MAAAA,MAAM,EAAC,IAHI;AAIXC,MAAAA,eAAe,EAAC,IAJL;AAKXC,MAAAA,SAAS,EAAC,CALC;AAMXC,MAAAA,eAAe,EAAC,CANL;AAOXC,MAAAA,SAAS,EAAC,EAPC;AAQXC,MAAAA,WAAW,EAAC,EARD;AASXC,MAAAA,QAAQ,EAAC,EATE;AAUXC,MAAAA,WAAW,EAAC,CAVD;AAWXC,MAAAA,gBAAgB,EAAC,CAXN;AAYXC,MAAAA,kBAAkB,EAAC,CAZR;AAaXC,MAAAA,SAAS,EAAC,CAbC;AAcXC,MAAAA,eAAe,EAAC,CAdL;AAeXC,MAAAA,UAAU,EAAC,CAfA;AAgBXC,MAAAA,YAAY,EAAC,MAhBF;AAiBXC,MAAAA,WAAW,EAAC;AAjBD,KAAb;AAqBA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKG,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBH,IAAvB,CAA4B,IAA5B,CAAzB;AAKH;;AACDC,EAAAA,UAAU,GAAG;AAEX,SAAKxB,KAAL,CAAW2B,OAAX,CAAmBC,MAAnB;AAED;;AAEDN,EAAAA,UAAU,CAACO,SAAD,EACV;AACE,SAAK7B,KAAL,CAAW2B,OAAX,CAAmBG,IAAnB,CAAwBD,SAAxB;AACD;;AAIDJ,EAAAA,QAAQ,CAACM,CAAD,EAAI;AACV,QAAIA,CAAC,CAACC,MAAF,CAASC,EAAT,KAAgB,QAApB,EAA8B;AAC9B,WAAKC,QAAL,CAAc;AAAEtB,QAAAA,WAAW,EAAEmB,CAAC,CAACC,MAAF,CAASG,KAAxB;AAA8BzB,QAAAA,eAAe,EAAC;AAA9C,OAAd;AACC;AAEJ;;AAEDgB,EAAAA,iBAAiB,CAACK,CAAD,EAAI;AACnB,QAAIA,CAAC,CAACC,MAAF,CAASC,EAAT,KAAgB,WAApB,EAAiC;AACjC,WAAKC,QAAL,CAAc;AAAEb,QAAAA,WAAW,EAAEU,CAAC,CAACC,MAAF,CAASG;AAAxB,OAAd;AAEC;;AACD,QAAIJ,CAAC,CAACC,MAAF,CAASC,EAAT,KAAgB,WAApB,EAAiC;AAC/B,WAAKC,QAAL,CAAc;AAAEb,QAAAA,WAAW,EAAEU,CAAC,CAACC,MAAF,CAASG;AAAxB,OAAd;AAEC;AAEJ;;AAEDC,EAAAA,UAAU,GAAE;AAEV,SAAKF,QAAL,CAAc;AAACG,MAAAA,MAAM,EAAC;AAAR,KAAd;AACAC,IAAAA,KAAK,CAAC/C,GAAG,GAAC,qCAAL,EAA2C;AAC9CgD,MAAAA,MAAM,EAAC,MADuC;AAE9CC,MAAAA,MAAM,EAAC;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAFuC;AAM9CC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAGjBpC,QAAAA,MAAM,EAAC,KAAKH,KAAL,CAAWG;AAHD,OAAf;AANyC,KAA3C,CAAL,CAeEqC,IAfF,CAeQC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAfrB,EAgBEF,IAhBF,CAgBQG,YAAD,IAAkB;AAItB,WAAKb,QAAL,CAAc;AAEbpB,QAAAA,WAAW,EAACiC,YAAY,CAACjC,WAFZ;AAGbE,QAAAA,kBAAkB,EAAC+B,YAAY,CAAC/B,kBAHnB;AAIbC,QAAAA,SAAS,EAAC8B,YAAY,CAAC9B,SAJV;AAKbC,QAAAA,eAAe,EAAC6B,YAAY,CAAC7B,eALhB;AAMbC,QAAAA,UAAU,EAAC4B,YAAY,CAAC5B,UANX;AAObJ,QAAAA,gBAAgB,EAACgC,YAAY,CAAC5B,UAPjB;AAQbC,QAAAA,YAAY,EAAC2B,YAAY,CAAC3B,YARb;AASbd,QAAAA,QAAQ,EAAC;AATI,OAAd;AAkBD,KAtCF,EAuCE0C,KAvCF,CAuCSC,KAAD,IAAW,CAChB;AAED,KA1CF;AA4CD;;AAEC,QAAMC,iBAAN,GACA;AAEE,QAAIC,QAAQ,GAAG,MAAMtD,OAAO,CAACuD,GAAR,CAAY,UAAZ,CAArB,CAFF,CAIE;;AAEA,QAAGD,QAAQ,KAAGE,SAAd,EACA;AACE;AAEA,WAAK/B,UAAL,CAAgB,QAAhB;AAID;;AAED,QAAIgC,SAAS,GAAG,MAAMzD,OAAO,CAACuD,GAAR,CAAY,WAAZ,CAAtB;AACA,QAAIG,kBAAkB,GAAG,MAAM1D,OAAO,CAACuD,GAAR,CAAY,oBAAZ,CAA/B;AAEA,QAAI7C,MAAM,GAAG,MAAMV,OAAO,CAACuD,GAAR,CAAY,QAAZ,CAAnB;AACA,SAAKlB,QAAL,CAAc;AAACoB,MAAAA,SAAD;AAAWC,MAAAA,kBAAX;AAA8BhD,MAAAA;AAA9B,KAAd;AAEA,SAAKiD,eAAL;AACA,SAAKpB,UAAL;AAED;;AAEDoB,EAAAA,eAAe,GAAE;AAEflB,IAAAA,KAAK,CAAC/C,GAAG,GAAC,4BAAL,EAAkC;AACnCgD,MAAAA,MAAM,EAAC,MAD4B;AAEnCC,MAAAA,MAAM,EAAC;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAF4B;AAMnCC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAGjBpC,QAAAA,MAAM,EAAC,KAAKH,KAAL,CAAWG;AAHD,OAAf;AAN8B,KAAlC,CAAL,CAeIqC,IAfJ,CAeUC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAfvB,EAgBIF,IAhBJ,CAgBUG,YAAD,IAAkB;AAGvB,UAAGA,YAAY,CAACU,OAAb,CAAqB,CAArB,KAAyBJ,SAA5B,EACA;AACI,aAAK/B,UAAL,CAAgB,uBAAhB;AACA,aAAKY,QAAL,CAAc;AAAC1B,UAAAA,eAAe,EAAC;AAAjB,SAAd;AAGH,OAND,MAQA;AACI,aAAK0B,QAAL,CAAc;AAAC1B,UAAAA,eAAe,EAACuC,YAAY,CAACU,OAA9B;AAAsChD,UAAAA,SAAS,EAACsC,YAAY,CAACU,OAAb,CAAqB,CAArB,EAAwBC;AAAxE,SAAd;AAEH;AAOD,KArCJ,EAsCIV,KAtCJ,CAsCWC,KAAD,IAAW,CAChB;AAED,KAzCJ;AA4CC,GA9L4B,CAiMjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;AAQAU,EAAAA,SAAS,GACT;AAAC,QAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AACC,QAAIC,EAAE,GAAGC,MAAM,CAACH,KAAK,CAACI,OAAN,EAAD,CAAN,CAAwBC,QAAxB,CAAiC,CAAjC,EAAoC,GAApC,CAAT;AACA,QAAIC,EAAE,GAAGH,MAAM,CAACH,KAAK,CAACO,QAAN,KAAmB,CAApB,CAAN,CAA6BF,QAA7B,CAAsC,CAAtC,EAAyC,GAAzC,CAAT,CAFF,CAE0D;;AACxD,QAAIG,IAAI,GAAGR,KAAK,CAACS,WAAN,EAAX;AAEAT,IAAAA,KAAK,GAAGM,EAAE,GAAG,GAAL,GAAWJ,EAAX,GAAgB,GAAhB,GAAsBM,IAA9B;AACF,WAAOR,KAAP;AACC;;AACCU,EAAAA,MAAM,GAAG;AAGX,QAAG,KAAKlE,KAAL,CAAWE,QAAX,KAAsB,KAAzB,EACA;AACE,0BAAO,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAHD,MAKA;AAII,0BAGE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,eAIA;AAAK,QAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAII;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,sBAAW,YAAhB;AAA6B,QAAA,KAAK,EAAC,kBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAI,QAAA,KAAK,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAI,QAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA4B;AAAG,QAAA,OAAO,EAAE,MAAM,KAAKkB,UAAL,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA5B,CADJ,eAEI;AAAI,QAAA,KAAK,EAAC,wBAAV;AAAmC,wBAAa,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,CADJ,CADJ,CAJJ,CADJ,CADA,CAJA,eAsBJ;AAAS,QAAA,KAAK,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,8BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAChB,QAAA,OAAO,EAAE,MAAI,KAAKF,UAAL,CAAgB,uBAAhB,CADG;AAGf,QAAA,IAAI,EAAC,QAHU;AAGD,QAAA,KAAK,EAAC,qBAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADA,CADA,eAQI;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,CARJ,EAarB,KAAKlB,KAAL,CAAWI,eAAX,KAA6B,IAA7B,gBAEG;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEA;AAAI,QAAA,KAAK,EAAC,oBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFA,CAFH,gBAWD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEC,KAAKJ,KAAL,CAAWI,eAAX,CAA2B+D,GAA3B,CAA+B,CAACC,IAAD,EAAOC,GAAP,KAAe;AAC7C,4BACE;AAAK,UAAA,OAAO,EAAE,MAAI,KAAKvC,QAAL,CAAc;AAACzB,YAAAA,SAAS,EAAC+D,IAAI,CAACd;AAAhB,WAAd,CAAlB;AAA8D,UAAA,SAAS,EAAC,yBAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACF;AAAK,UAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAI,UAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA+Be,GAAG,GAAC,CAAnC,MADF,eAGF;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACU;AAAI,UAAA,KAAK,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAmBD,IAAI,CAACE,IAAxB,MADV,eAEU;AAAG,UAAA,KAAK,EAAC,qBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAiCF,IAAI,CAACf,OAAtC,MAFV,eAGU;AAAG,UAAA,KAAK,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAmBe,IAAI,CAACG,OAAxB,SAAoCH,IAAI,CAACI,IAAzC,QAAiDJ,IAAI,CAACK,KAAtD,QAA+DL,IAAI,CAACM,iBAApE,MAHV,CAHE,EAUD,KAAK1E,KAAL,CAAWK,SAAX,KAAyB+D,IAAI,CAACd,UAA9B,gBAEG;AAAK,UAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAK,UAAA,KAAK,EAAC,4BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAI,UAAA,KAAK,EAAC,0CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADA,CADA,eAKA;AAAK,UAAA,KAAK,EAAC,4BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAI,UAAA,OAAO,EAAE,MAAM,KAAKpC,UAAL,CAAgB,4BAA0BkD,IAAI,CAACd,UAA/C,CAAnB;AAA+E,UAAA,KAAK,EAAC,mCAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,CALA,CAFH,gBAcI;AAAK,UAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACL;AAAK,UAAA,KAAK,EAAC,4BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAI,UAAA,KAAK,EAAC,uCAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADA,CADK,eAKL;AAAK,UAAA,KAAK,EAAC,4BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAI,UAAA,OAAO,EAAE,MAAM,KAAKpC,UAAL,CAAgB,4BAA0BkD,IAAI,CAACd,UAA/C,CAAnB;AAA+E,UAAA,KAAK,EAAC,mCAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,CALK,CAxBH,CADE,CADF;AAwCD,OAzCA,CAFD,CAxBsB,CADJ,eAyEI;AAAK,QAAA,KAAK,EAAC,+BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,4BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGI;AAAI,QAAA,KAAK,EAAC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAa;AAAM,QAAA,KAAK,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAuB,KAAKtD,KAAL,CAAWY,kBAAlC,CAAb,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCACI;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEQ;AAAO,QAAA,GAAG,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA8B,KAAKZ,KAAL,CAAWgB,YAAX,IAAyB,IAAzB,GAA8B,GAA9B,GAAkC,KAAKhB,KAAL,CAAWa,SAA3E,CAFR,CADJ,CAFJ,eAUI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,KAAK,EAAC,iCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAoB,QAAA,QAAQ,EAAE,KAAKQ,QAAnC;AAA6C,QAAA,EAAE,EAAC,QAAhD;AAAyD,QAAA,KAAK,EAAC,cAA/D;AAA8E,QAAA,WAAW,EAAC,mBAA1F;AAA8G,QAAA,QAAQ,EAAC,EAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADA,eAKA;AAAK,QAAA,KAAK,EAAC,iCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKrB,KAAL,CAAWM,eAAX,IAA4B,CAA5B,gBAEG;AACA,QAAA,OAAO,EAAE,MAAI,KAAKqE,mBAAL,EADb;AAEC,QAAA,KAAK,EAAC,sBAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFH,GAKG,IANJ,CALA,CAVJ,eAyBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACA;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEQ;AAAO,QAAA,GAAG,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA8B,KAAK3E,KAAL,CAAWe,UAAzC,CAFR,CADA,CAzBJ,CAHJ,eAqCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKf,KAAL,CAAWgB,YAAX,IAAyB,KAAzB,gBAEnC;AAAK,QAAA,KAAK,EAAC,0BAAX;AAAsC,QAAA,IAAI,EAAC,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAC4B,KAAKhB,KAAL,CAAWc,eADvC,CAFmC,GAMlC,IAPiC,EAWjC,KAAKd,KAAL,CAAWM,eAAX,IAA4B,CAA5B,gBAED;AAAK,QAAA,KAAK,EAAC,0BAAX;AAAsC,QAAA,IAAI,EAAC,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKN,KAAL,CAAWQ,WADZ,0BAFC,GAMA,IAjBiC,EAmBjC,KAAKR,KAAL,CAAWM,eAAX,IAA4B,CAA5B,gBAGD;AAAK,QAAA,KAAK,EAAC,0BAAX;AAAsC,QAAA,IAAI,EAAC,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKN,KAAL,CAAWO,SADZ,CAHC,GAOA,IA1BiC,CArCJ,eAiEI;AAAI,QAAA,KAAK,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAc;AAAM,QAAA,KAAK,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAuB,KAAKP,KAAL,CAAWW,gBAAlC,CAAd,CAHA,CAjEJ,CADJ,eAyEI;AAAK,QAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,0BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,KAAK,EAAC,iCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAO,QAAA,GAAG,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADA,eAGJ,oBAAC,UAAD;AAC5B,QAAA,QAAQ,EAAE,IAAI8C,IAAJ,EADkB;AAE5B,QAAA,QAAQ,EAAEmB,IAAI,IAAI,KAAK/E,YAAL,CAAkB+E,IAAlB,CAFU;AAG5B,QAAA,OAAO,EAAE,IAAInB,IAAJ,EAHmB;AAI5B,QAAA,OAAO,EAAE,IAAIA,IAAJ,GAAWoB,OAAX,CAAmB,IAAIpB,IAAJ,GAAWG,OAAX,KAAuB,CAA1C,CAJmB;AAK5B,QAAA,eAAe,EAAC,sDALY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHI,CADA,eAalC;AAAK,QAAA,KAAK,EAAC,iCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAO,QAAA,GAAG,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADA,eAGA,oBAAC,UAAD;AACA,QAAA,QAAQ,EAAI,IAAIH,IAAJ,GAAWqB,QAAX,CAAoB,EAApB,CADZ;AAEA,QAAA,QAAQ,EAAEF,IAAI,IAAI,KAAK/E,YAAL,CAAkB+E,IAAlB,CAFlB;AAGA,QAAA,OAAO,EAAE,IAAInB,IAAJ,GAAWqB,QAAX,CAAoB,CAApB,CAHT;AAIA,QAAA,OAAO,EAAE,IAAIrB,IAAJ,GAAWqB,QAAX,CAAoB,EAApB,CAJT;AAKA,QAAA,cAAc,MALd;AAMA,QAAA,kBAAkB,MANlB;AAOA,QAAA,aAAa,EAAE,EAPf;AAQA,QAAA,WAAW,EAAC,MARZ;AASA,QAAA,UAAU,EAAC,SATX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,CAbkC,CADJ,CADA,CAzEJ,eA6GI;AAAK,QAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,QAAQ,EAAE,KAAKxD,iBAAtB;AAAyC,QAAA,IAAI,EAAC,OAA9C;AAAsD,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWiB,WAAxE;AAAqF,QAAA,IAAI,EAAC,eAA1F;AAA0G,QAAA,EAAE,EAAC,WAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI;AAAO,QAAA,GAAG,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAAuC;AAC/B,QAAA,KAAK,EAAC,YADyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8GAAvC,CAFJ,CADJ,CAJJ,eAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,QAAQ,EAAE,KAAKK,iBAAtB;AAAyC,QAAA,IAAI,EAAC,OAA9C;AAAsD,QAAA,KAAK,EAAC,QAA5D;AAAqE,QAAA,IAAI,EAAC,eAA1E;AAA0F,QAAA,EAAE,EAAC,WAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI;AAAO,QAAA,GAAG,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAA6B;AAAM,QAAA,KAAK,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAoB;AACrC,QAAA,GAAG,EAAC,2BADiC;AAErC,QAAA,GAAG,EAAC,EAFiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB,CAA7B,CAFJ,CADJ,CAbJ,CADJ,CADJ,CADJ,eA2BI;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKtB,KAAL,CAAWC,aAAX,IAA0B,KAA1B,gBACC;AAAG,QAAA,OAAO,EAAE,MAAI,KAAK8E,mBAAL,EAAhB;AAA4C,QAAA,KAAK,EAAC,wCAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA2F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA3F,CADD,GAGC,IAJF,CA3BJ,CA7GJ,CADJ,CAzEJ,CADJ,CADJ,CADJ,CADJ,CADA,CAtBI,CAHF;AAmQD;AAEF;;AAED,QAAMC,QAAN,GAAmB;AAEf;AACA;AAEA,UAAMC,OAAO,GAAG;AACZZ,MAAAA,GAAG,EAAE,yBADO;AACoB;AAChCa,MAAAA,MAAM,EAAE,IAAE,GAFE;AAGZC,MAAAA,QAAQ,EAAE,KAHE;AAIZb,MAAAA,IAAI,EAAE,gBAJM;AAKZc,MAAAA,WAAW,EAAE,kBALD;AAMZ;AACA;AACA,iBAAW,UAAU3C,QAAV,EAAmB;AAC5B1C,QAAAA,KAAK,CAAC0C,QAAQ,CAAC4C,mBAAV,CAAL;AACH,OAVa;AAWZC,MAAAA,OAAO,EAAE;AACNhB,QAAAA,IAAI,EAAE,MAAM7E,OAAO,CAACuD,GAAR,CAAY,WAAZ,CADN;AAEP,mBAAW,MAAMvD,OAAO,CAACuD,GAAR,CAAY,oBAAZ;AAFV,OAXG;AAeZuC,MAAAA,KAAK,EAAE;AACHlC,QAAAA,OAAO,EAAE;AADN,OAfK;AAkBZmC,MAAAA,KAAK,EAAE;AACHC,QAAAA,KAAK,EAAE;AADJ;AAlBK,KAAhB;AAuBA,UAAMC,aAAa,GAAG,IAAIC,MAAM,CAACC,QAAX,CAAoBX,OAApB,CAAtB;AACCS,IAAAA,aAAa,CAACG,IAAd;AACJ;;AAED,QAAMlB,mBAAN,GAA4B;AAI1B,SAAK7C,QAAL,CAAc;AAACgE,MAAAA,YAAY,EAAC;AAAd,KAAd;AACA5D,IAAAA,KAAK,CAAC/C,GAAG,GAAC,+BAAL,EAAqC;AACxCgD,MAAAA,MAAM,EAAC,MADiC;AAExCC,MAAAA,MAAM,EAAC;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAFiC;AAMxCC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAGjBwD,QAAAA,MAAM,EAAC,KAAK/F,KAAL,CAAWQ,WAHD;AAIjBL,QAAAA,MAAM,EAAC,KAAKH,KAAL,CAAWG;AAJD,OAAf;AANmC,KAArC,CAAL,CAgBEqC,IAhBF,CAgBQC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAhBrB,EAiBEF,IAjBF,CAiBQG,YAAD,IAAkB;AAEvBqD,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BtD,YAA5B;AAEA,WAAKb,QAAL,CAAc;AAAEgE,QAAAA,YAAY,EAAC;AAAf,OAAd;;AAEA,UAAGnD,YAAY,CAACuD,MAAb,IAAqB,UAAxB,EAAmC;AAEjC,YAAIC,SAAS,GAAG,mCAAhB;AACA5G,QAAAA,KAAK,CAACsD,KAAN,CAAYsD,SAAZ;AAED;;AAED,UAAGxD,YAAY,CAACuD,MAAb,IAAqB,SAAxB,EAAkC;AAEhC,YAAIC,SAAS,GAAG,wBAAhB;AACA5G,QAAAA,KAAK,CAACsD,KAAN,CAAYsD,SAAZ;AAED;;AAED,UAAGxD,YAAY,CAACuD,MAAb,IAAqB,QAAxB,EAAiC;AAE/B,YAAIC,SAAS,GAAG,sBAAhB;AACA5G,QAAAA,KAAK,CAAC6G,OAAN,CAAcD,SAAd;;AAEA,YAAGxD,YAAY,CAAC0D,UAAb,IAAyB,MAA5B,EAAmC;AAEjC,cAAIF,SAAS,GAAG,sCAAhB;AACA5G,UAAAA,KAAK,CAACsD,KAAN,CAAYsD,SAAZ;AAED;;AAGD,YAAGG,MAAM,CAAC3D,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBC,oBAAtB,CAAN,GAAkDF,MAAM,CAAC,KAAKtG,KAAL,CAAWU,WAAZ,CAA3D,EAEN;AAEO,cAAIyF,SAAS,GAAG,sCAAoCM,IAAI,CAACC,KAAL,CAAW/D,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBC,oBAAhC,CAApD;AACCjH,UAAAA,KAAK,CAACsD,KAAN,CAAYsD,SAAZ;AAGP,SARK,MAUN;AACE;AACA,cAAGxD,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBI,WAArB,IAAkC,YAArC,EAAkD;AAKpD,kBAAOC,QAAQ,GAAG,KAAK5G,KAAL,CAAWY,kBAAX,IAAiC6F,IAAI,CAACC,KAAL,CAAW/D,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBM,eAAhC,IAAmD,GAApF,CAAlB;AACA,kBAAOC,GAAG,GAAG,KAAK9G,KAAL,CAAWY,kBAAX,GAAgC6F,IAAI,CAACM,KAAL,CAAWH,QAAX,CAA7C;AAEA,gBAAII,GAAG,GAAG,aAAYP,IAAI,CAACC,KAAL,CAAW/D,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBM,eAAhC,CAAZ,GAA8D,YAA9D,GAA4EJ,IAAI,CAACM,KAAL,CAAWH,QAAX,CAA5E,GAAiG,OAA3G;;AAEA,gBAAG,KAAK5G,KAAL,CAAWgB,YAAX,IAAyB,IAA5B,EACA;AACE,mBAAKc,QAAL,CAAc;AAACnB,gBAAAA,gBAAgB,EAACmG,GAAlB;AAAsBxG,gBAAAA,eAAe,EAAC,CAAtC;AAAwCC,gBAAAA,SAAS,EAACyG,GAAlD;AAAsDvG,gBAAAA,QAAQ,EAACkC,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBU;AAApF,eAAd;AACD,aAHD,MAKA;AACE,mBAAKnF,QAAL,CAAc;AAACnB,gBAAAA,gBAAgB,EAACmG,GAAG,GAAGL,IAAI,CAACC,KAAL,CAAW,KAAK1G,KAAL,CAAWa,SAAtB,CAAxB;AAA0DP,gBAAAA,eAAe,EAAC,CAA1E;AAA4EC,gBAAAA,SAAS,EAACyG,GAAtF;AAA0FvG,gBAAAA,QAAQ,EAACkC,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBU;AAAxH,eAAd;AACD;AAKE,WAtBD,MAuBK,IAAGtE,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBI,WAArB,IAAkC,QAArC,EACL;AACE,gBAAIK,GAAG,GAAG,cAAaP,IAAI,CAACC,KAAL,CAAW/D,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBM,eAAhC,CAAb,GAA+D,OAAzE;AAEA,iBAAK/E,QAAL,CAAc;AAACnB,cAAAA,gBAAgB,EAAC,KAAKX,KAAL,CAAWW,gBAAX,GAA4BgC,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBM,eAAnE;AAAmFvG,cAAAA,eAAe,EAAC,CAAnG;AAAqGC,cAAAA,SAAS,EAACyG,GAA/G;AAAmHvG,cAAAA,QAAQ,EAACkC,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBU;AAAjJ,aAAd;AAED,WANI,MAOA,IAAGtE,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBI,WAArB,IAAkC,aAArC,EACL;AACE,gBAAG,KAAK3G,KAAL,CAAWgB,YAAX,IAAyB,IAA5B,EACA;AAEE,kBAAImF,SAAS,GAAG,+BAAhB;AACA5G,cAAAA,KAAK,CAACsD,KAAN,CAAYsD,SAAZ;AAGD,aAPD,MASA;AACE,kBAAIa,GAAG,GAAG,4BAA2BP,IAAI,CAACC,KAAL,CAAW,KAAK1G,KAAL,CAAWa,SAAtB,CAA3B,GAA6D,OAAvE;AACA,mBAAKiB,QAAL,CAAc;AAACnB,gBAAAA,gBAAgB,EAAC,KAAKX,KAAL,CAAWW,gBAAX,GAA4B,KAAKX,KAAL,CAAWa,SAAzD;AAAmEP,gBAAAA,eAAe,EAAC,CAAnF;AAAqFC,gBAAAA,SAAS,EAACyG,GAA/F;AAAmGvG,gBAAAA,QAAQ,EAACkC,YAAY,CAAC4D,IAAb,CAAkB,CAAlB,EAAqBU;AAAjI,eAAd;AAED;AAIF;AAEF;AAEI;;AAED,UAAGtE,YAAY,CAAC0D,UAAb,IAAyB,MAA5B,EAAmC;AAEjC,YAAIF,SAAS,GAAG,sCAAhB;AACA5G,QAAAA,KAAK,CAACsD,KAAN,CAAYsD,SAAZ;AAED;AAgBD,KA1IF,EA2IEvD,KA3IF,CA2ISC,KAAD,IAAW,CAChB;AAED,KA9IF;AAiJD;;AAMDkC,EAAAA,mBAAmB,GACnB;AAEA,SAAKjD,QAAL,CAAc;AAAC7B,MAAAA,aAAa,EAAC;AAAf,KAAd;;AAEE,QAAG,KAAKD,KAAL,CAAWiB,WAAX,IAAwB,KAA3B,EACA;AAKEiB,MAAAA,KAAK,CAAC/C,GAAG,GAAC,6BAAL,EAAmC;AACtCgD,QAAAA,MAAM,EAAC,MAD+B;AAEtCC,QAAAA,MAAM,EAAC;AACL,oBAAU,kBADL;AAEL,0BAAgB;AAFX,SAF+B;AAMtCC,QAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAElB2E,UAAAA,SAAS,EAAC,KAAKlH,KAAL,CAAWK,SAFH;AAGlBF,UAAAA,MAAM,EAAC,KAAKH,KAAL,CAAWG,MAHA;AAIlBQ,UAAAA,gBAAgB,EAAC,KAAKX,KAAL,CAAWW,gBAJV;AAKlBL,UAAAA,eAAe,EAAC,KAAKN,KAAL,CAAWM,eALT;AAMlBW,UAAAA,WAAW,EAAC,KAAKjB,KAAL,CAAWiB,WANL;AAOlBR,UAAAA,QAAQ,EAAC,KAAKT,KAAL,CAAWS,QAPF;AAQlBO,UAAAA,YAAY,EAAC,KAAKhB,KAAL,CAAWgB,YARN;AASlBH,UAAAA,SAAS,EAAC,KAAKb,KAAL,CAAWa;AATH,SAAf;AANiC,OAAnC,CAAL,CAoBA2B,IApBA,CAoBMC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EApBnB,EAqBAF,IArBA,CAqBMG,YAAD,IAAkB;AACvB,aAAKb,QAAL,CAAc;AAAC7B,UAAAA,aAAa,EAAC;AAAf,SAAd,EADuB,CAIvB;;AAED,YAAG0C,YAAY,CAACuD,MAAb,IAAqB,SAAxB,EAAkC;AAGjC,cAAIC,SAAS,GAAG,6BAAhB;AACA5G,UAAAA,KAAK,CAAC6G,OAAN,CAAcD,SAAd;AAEJ,cAAIgB,IAAI,GAAG,KAAKvH,KAAhB;AAEAwH,UAAAA,UAAU,CAAC,YAAU;AAIrBD,YAAAA,IAAI,CAAC5F,OAAL,CAAaG,IAAb,CAAkB,QAAlB;AAGC,WAPS,EAOP,GAPO,CAAV;AAqBI,SA7BD,MA8BI;AAGH,cAAIyE,SAAS,GAAG,oBAAhB;AACA5G,UAAAA,KAAK,CAACsD,KAAN,CAAYsD,SAAZ;AAGA;AAQA,OAxEA,EAyEAvD,KAzEA,CAyEOC,KAAD,IAAW,CAChB;AAED,OA5EA;AAgFD,KAtFD,MAuFK,IAAG,KAAK7C,KAAL,CAAWiB,WAAX,IAAwB,QAA3B,EAAoC;AAC3C,WAAK+D,QAAL,GAD2C,CAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AAGA;AAEA;AACA;AAGA;AACA;AACA;AAQA;AACA;AACA;AAEA;AAOD;AAEF;;AAr1BgC;;AA21BjC,eAAe9F,UAAU,CAACQ,SAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport  { useState } from 'react';\n\nimport SplshImage from './SplshImage';\n\nimport { Redirect ,Link,withRouter} from 'react-router-dom';\nimport URL from '../URL'\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\n\nimport Cookies from 'universal-cookie';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nimport { ToastContainer, toast } from 'react-toastify';\nimport DatePicker from \"react-datepicker\";\n \nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst cookies = new Cookies()\n\n\nclass CheackOut extends Component{\n  constructor(props) {\n\n    super(props);\n\n      this.state = {\n        clickedPaymen:false,\n        isloaded:false,\n        UserID:null, \n        UserAddressData:null, \n        addressId:1,\n        iscouponApplied:0,\n        couponMsg:'',\n        CouponValue:'',\n        couponId:'',\n        totalAmount:0,\n        FinalTotalAmount:0,\n        afterDiscountTotal:0,\n        delcharge:0,\n        delMinimumPrice:0,\n        FinalTotal:0,\n        isDevApplied:'NONE',\n        PaymentMode:'COD',\n\n\n      }\n      this.handleNext = this.handleNext.bind(this);\n      this.handleBack = this.handleBack.bind(this); \n      this.onChange = this.onChange.bind(this);\n      this.onChangePlaceMode = this.onChangePlaceMode.bind(this);\n\n\n\n\n  }\n  handleBack() {\n\n    this.props.history.goBack();\n\n  }\n\n  handleNext(Routation)\n  {\n    this.props.history.push(Routation);\n  }\n\n\n\n  onChange(e) {\n    if (e.target.id === 'coupon') {\n    this.setState({ CouponValue: e.target.value,iscouponApplied:0 });\n    } \n\n}\n\nonChangePlaceMode(e) {\n  if (e.target.id === 'payment-2') {\n  this.setState({ PaymentMode: e.target.value, });\n  \n  }\n  if (e.target.id === 'payment-3') {\n    this.setState({ PaymentMode: e.target.value, });\n    \n    }\n  \n}\n\nfetchPrice(){\n\n  this.setState({isLoad:true})\n  fetch(URL+\"/APP-API/Product/GetPlaceOrderPrice\",{\n    method:'post',\n    header:{\n      'Accept': 'application/json',\n      'Content-type': 'application/json'\n    },\n    body:JSON.stringify({\n\n       \n       UserID:this.state.UserID\n      \n     \n    })\n    \n  })\n   .then((response) => response.json())\n   .then((responseJson) => {\n     \n\n\n     this.setState({\n\n      totalAmount:responseJson.totalAmount,\n      afterDiscountTotal:responseJson.afterDiscountTotal,\n      delcharge:responseJson.delcharge,\n      delMinimumPrice:responseJson.delMinimumPrice,\n      FinalTotal:responseJson.FinalTotal,\n      FinalTotalAmount:responseJson.FinalTotal,\n      isDevApplied:responseJson.isDevApplied,\n      isloaded:true\n\n     })\n\n    \n\n\n     \n     \n   })\n   .catch((error) => {\n     //  console.error(error);\n        \n   });\n  \n}\n\n  async componentDidMount()\n  {\n\n    var isLogged = await cookies.get('isLogged')\n\n    // alert(isLogged)\n  \n    if(isLogged===undefined)\n    {\n      // alert('not loged')\n\n      this.handleNext(\"/Login\")\n  \n\n\n    }\n  \n    var user_name = await cookies.get('user_name');\n    var user_mobile_number = await cookies.get('user_mobile_number');\n\n    var UserID = await cookies.get('UserID');\n    this.setState({user_name,user_mobile_number,UserID})\n\n    this.FetchAllAddress()\n    this.fetchPrice()\n\n  }\n\n  FetchAllAddress(){\n\n    fetch(URL+\"/APP-API/App/getAllAddress\",{\n        method:'post',\n        header:{\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body:JSON.stringify({\n  \n           \n           UserID:this.state.UserID\n          \n         \n        })\n        \n      })\n       .then((response) => response.json())\n       .then((responseJson) => {\n         \n        \n        if(responseJson.address[0]==undefined)\n        {\n            this.handleNext(\"/Add-Address/Checkout\")\n            this.setState({UserAddressData:null,})\n\n\n        }\n        else\n        {\n            this.setState({UserAddressData:responseJson.address,addressId:responseJson.address[0].address_id,})\n\n        }\n\n        \n       \n      \n         \n         \n       })\n       .catch((error) => {\n         //  console.error(error);\n            \n       });\n      \n  \n    }\n\n\n//     <div onClick={()=>this.setState({PaymentMode:'online'})} className=\"col-12 col-md-6 col-lg-4 col-xl-4  p-2\">\n// <div class=\"card border-0 shadow-sm\">\n// <div class=\"card-body\">\n// <div className=\"row \">\n// <div className=\"col-4 col-md-4 col-lg-4 col-xl-4\">\n// {this.state.PaymentMode=='online'?\n// (\n//   <button class=\"btn btn-default button-rounded-36 shadow\"><i class=\"material-icons\">adjust</i></button>\n\n// ):\n// (\n//   <button class=\"btn btn-dark button-rounded-36 shadow\"><i class=\"material-icons\">adjust</i></button>\n\n// )}\n\n// </div>\n// <div className=\"col-8 col-md-8 col-lg-8 col-xl-8\">\n\n// <h5 class=\"mt-1\"> Online Payment </h5>\n// </div>\n\n// </div>\n// </div>\n// </div>\n// </div>\n\n\n\nonChangeDate = dates => {\nalert(dates)\n};\n\ntodayDate()\n{var today = new Date();\n  var dd = String(today.getDate()).padStart(2, '0');\n  var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n  var yyyy = today.getFullYear();\n  \n  today = mm + '/' + dd + '/' + yyyy;\nreturn today\n}\n  render() {\n\n   \nif(this.state.isloaded===false)\n{\n  return <SplshImage/>;\n}\nelse\n{\n\n \n\n    return ( \n\n\n      <React.Fragment>\n      <ToastContainer />\n\n\n      <div class=\"breadcrumb-section\">\n      <div class=\"container\">\n          <div class=\"row\">\n              <div class=\"col-sm-6\">\n                \n              </div>\n              <div class=\"col-sm-6\">\n                  <nav aria-label=\"breadcrumb\" class=\"theme-breadcrumb\">\n                      <ol class=\"breadcrumb\">\n                          <li class=\"breadcrumb-item\"><a onClick={() => this.handleBack()}>BACK</a></li>\n                          <li class=\"breadcrumb-item active\" aria-current=\"page\">Check-out</li>\n                      </ol>\n                  </nav>\n              </div>\n          </div>\n      </div>\n  </div>\n\n  <section class=\"section-b-space\">\n  <div class=\"container\">\n      <div class=\"checkout-page\">\n          <div class=\"checkout-form\">\n              <form>\n                  <div class=\"row\">\n                      <div class=\"col-lg-6 col-sm-12 col-xs-12\">\n                      <div class=\"checkout-title\">\n                      <button \n      onClick={()=>this.handleNext(\"/Add-Address/Checkout\")}\n    \n       type=\"button\" class=\"btn btn-solid mb-2 \"> ADD NEW ADDRESS</button>\n\n                      </div>\n                          <div class=\"checkout-title\">\n                              <h3>Billing Details</h3>\n                          </div>\n                         \n\n{this.state.UserAddressData===null?\n  (\n    <div class=\"media-body\">\n   \n    <h6 class=\"subtitle mt-4 mb-1\">No Address Yet</h6>\n    \n</div>\n\n):(\n\n\n<div >\n\n{this.state.UserAddressData.map((item, key) => {\n  return (\n    <div onClick={()=>this.setState({addressId:item.address_id})} className=\" shadow-lg rounded my-2\">\n  <div className=\"card shadow-lg border-0  p-4\"> \n    <h6 className=\"small\">Address {key+1} </h6>\n\n<div className=\"card-body\">\n          <h6 class=\"mb-1\"> {item.name} </h6>\n          <p class=\"mb-2 text-secondary\"> {item.address} </p>\n          <p class=\"small\"> {item.zipcode} , {item.city}, {item.phone} ,{item.alternative_phone} </p>\n  </div>\n\n\n{this.state.addressId === item.address_id?\n(\n    <div class=\" row\"> \n    <div class=\"col-lg-6 col-sm-6 col-xs-6\">\n    <h6 class=\"text-center mt-1 btn btn-success disable\">Selected Delivery Address </h6> \n    </div>\n    \n    <div class=\"col-lg-6 col-sm-6 col-xs-6\">\n    <h6 onClick={() => this.handleNext(\"/Edit-Address/Checkout/\"+item.address_id)} class=\"text-center mt-1 btn btn-primary \" >Edit</h6>\n    </div>\n    </div>\n  \n\n)\n:(   <div class=\" row\"> \n<div class=\"col-lg-6 col-sm-6 col-xs-6\">\n<h6 class=\"text-center mt-1 btn btn-dark disable\"> Delivery on this address </h6> \n</div>\n\n<div class=\"col-lg-6 col-sm-6 col-xs-6\">\n<h6 onClick={() => this.handleNext(\"/Edit-Address/Checkout/\"+item.address_id)} class=\"text-center mt-1 btn btn-primary \" >Edit</h6>\n</div>\n</div>)}\n\n\n  </div>\n  </div>\n  )\n})}\n</div>\n)}\n\n                      </div>\n                      <div class=\"col-lg-6 col-sm-12 col-xs-12 \">\n                          <div class=\"checkout-details shadow-lg\">\n                              <div class=\"order-box\">\n                           \n                                \n                                  <ul class=\"sub-total\">\n                                      <li>Subtotal <span class=\"count\">₹ {this.state.afterDiscountTotal}</span></li>\n                                      <li>Shipping\n                                          <div class=\"shipping\">\n                                          \n                                                  <label for=\"free-shipping\">₹ {this.state.isDevApplied=='NO'?'0':this.state.delcharge}</label>\n                                           \n                                          </div>\n                                      </li>\n\n                                      <div class=\" row my-3\" > \n                                      <div class=\"col-lg-6 col-sm-6 col-xs-6 my-2\">\n                                      <input type=\"text\"  onChange={this.onChange} id=\"coupon\" class=\"form-control\" placeholder=\"Apply Coupon Code\" required=\"\" />\n                                      </div>\n                                      \n                                      <div class=\"col-lg-6 col-sm-6 col-xs-6 my-2\">\n                                      {this.state.iscouponApplied==0 ?\n                                        (\n                                          <a \n                                          onClick={()=>this.AppliedCouponAction()}\n                                           class=\"btn btn-solid shadow\">APPLY</a>\n                                        ):null}\n                                      </div>\n                                      </div>\n\n                                      <li>Total\n                                      <div class=\"shipping\">\n                                      \n                                              <label for=\"free-shipping\">₹ {this.state.FinalTotal}</label>\n                                       \n                                      </div>\n                                  </li>\n                                  </ul>\n                                \n                                  <ul>\n                                  {this.state.isDevApplied=='YES' ?\n  (\n<div class=\"alert alert-primary mt-2\" role=\"alert\">\n* Delivery free over on  ₹ {this.state.delMinimumPrice}\n</div>\n)\n:null}\n\n\n\n{this.state.iscouponApplied==1 ?\n  (\n<div class=\"alert alert-success mt-1\" role=\"alert\">\n{this.state.CouponValue} applied successfully \n</div>\n)\n:null}\n\n{this.state.iscouponApplied==1 ?\n  (\n\n<div class=\"alert alert-success mt-1\" role=\"alert\">\n{this.state.couponMsg}\n</div>\n)\n:null}\n                                  </ul>\n                                  <ul class=\"total\">\n                                      \n                               \n                                  <li>Net Total <span class=\"count\">₹ {this.state.FinalTotalAmount}</span></li>\n                              </ul>\n                              </div>\n\n                              <div class=\"payment-box\">\n                              <div class=\"upper-box\">\n                                  <div class=\"payment-options row my-3\">\n                                  <div class=\"col-lg-6 col-sm-6 col-xs-6 my-2\">\n                                  <label for=\"free-shipping\">Delivery Date</label>\n\n                              <DatePicker\n  selected={new Date()}\n  onChange={date => this.onChangeDate(date)}\n  minDate={new Date()}\n  maxDate={new Date().setDate(new Date().getDate() + 5)}\n  placeholderText=\"Select a date between today and 5 days in the future\"\n/>\n</div>\n\n<div class=\"col-lg-6 col-sm-6 col-xs-6 my-2\">\n<label for=\"free-shipping\">Delivery Time</label>\n\n<DatePicker\nselected={  new Date().setHours(10)}\nonChange={date => this.onChangeDate(date)}\nminTime={new Date().setHours(8)}\nmaxTime={new Date().setHours(20)}\nshowTimeSelect\nshowTimeSelectOnly\ntimeIntervals={60}\ntimeCaption=\"Time\"\ndateFormat=\"h:mm aa\"\n/>\n</div>\n                          \n\n                              </div>\n                              </div>\n                              </div>\n\n                              <div class=\"payment-box\">\n                                  <div class=\"upper-box\">\n                                      <div class=\"payment-options\">\n                                          <ul>\n                                              <li>\n                                            \n                                              </li>\n                                              <li>\n                                                  <div class=\"radio-option\">\n                                                      <input onChange={this.onChangePlaceMode} type=\"radio\" value={this.state.PaymentMode} name=\"payment-group\" id=\"payment-2\"/>\n                                                      <label for=\"payment-2\">Cash On Delivery<span\n                                                              class=\"small-text\">Please send a check to Store\n                                                              Name, Store Street, Store Town, Store State /\n                                                              County, Store Postcode.</span></label>\n                                                  </div>\n                                              </li>\n                                              <li>\n                                                  <div class=\"radio-option paypal\">\n                                                      <input onChange={this.onChangePlaceMode} type=\"radio\" value=\"online\" name=\"payment-group\" id=\"payment-3\"/>\n                                                      <label for=\"payment-3\">Online<span class=\"image\"><img\n                                                                  src=\"/assets/images/paypal.png\"\n                                                                  alt=\"\"/></span></label>\n                                                  </div>\n                                              </li>\n                                          </ul>\n                                      </div>\n                                  </div>\n                                  <div class=\"text-right\">\n                                  {this.state.clickedPaymen==false?(\n                                    <a onClick={()=>this.PlaceThisOrderFinal()} class=\"btn btn-lg btn-solid text-white shadow\"><span>Place Order</span></a>\n                            \n                                  ):null}\n                                  </div>\n                              \n                              </div>\n                          </div>\n                      </div>\n                  </div>\n              </form>\n          </div>\n      </div>\n  </div>\n</section>\n   \n      </React.Fragment>\n    );\n  }\n\n}\n\nasync RazorPay  () {\n   \n    // Getting the order details back\n    // const { amount, id: order_id, currency } = result.data;\n\n    const options = {\n        key: \"rzp_live_NFK2oQGRZ18riT\", // Enter the Key ID generated from the Dashboard\n        amount: 1*100,\n        currency: \"INR\",\n        name: \"Bharat Bazaar.\",\n        description: \"Test Transaction\",\n        // image: { logo },\n        // order_id: 345434,\n        \"handler\": function (response){\n          alert(response.razorpay_payment_id);\n      },\n        prefill: {\n           name: await cookies.get('user_name'),\n          \"contact\": await cookies.get('user_mobile_number'),\n        },\n        notes: {\n            address: \"Soumya Dey Corporate Office\",\n        },\n        theme: {\n            color: \"#61dafb\",\n        },\n    };\n\n    const paymentObject = new window.Razorpay(options);\n     paymentObject.open();\n}\n\nasync AppliedCouponAction (){\n\n\n\n  this.setState({isLoadCoupon:true})\n  fetch(URL+\"/APP-API/Product/CouponAction\",{\n    method:'post',\n    header:{\n      'Accept': 'application/json',\n      'Content-type': 'application/json'\n    },\n    body:JSON.stringify({\n\n       \n       coupon:this.state.CouponValue,\n       UserID:this.state.UserID\n      \n     \n    })\n    \n  })\n   .then((response) => response.json())\n   .then((responseJson) => {\n     \n    console.log('coupon result',responseJson)\n    \n    this.setState({ isLoadCoupon:false})\n\n    if(responseJson.status=='NoCoupon'){\n\n      var msgPopPup = '** Please enter valid coupon code';\n      toast.error(msgPopPup)\n \n    }\n\n    if(responseJson.status=='expaird'){\n\n      var msgPopPup = '** Expired Coupon Code';\n      toast.error(msgPopPup)\n\n    }\n\n    if(responseJson.status=='vailed'){\n\n      var msgPopPup = '** Valid Coupon Code';\n      toast.success(msgPopPup)\n\n      if(responseJson.userStatus=='used'){\n\n        var msgPopPup = '** You already used this coupon code';\n        toast.error(msgPopPup)\n\n      }\n\n\n      if(Number(responseJson.data[0].minimum_order_amount)>Number(this.state.totalAmount))\n\n{\n\n       var msgPopPup = \"COUPON VAILD ONLY ON MORE THAN ₹ \"+Math.floor(responseJson.data[0].minimum_order_amount);\n        toast.error(msgPopPup)\n\n\n}\nelse\n{\n  // console.log('TOTAL IS OK',)\n  if(responseJson.data[0].coupon_type=='percentage'){\n\n   \n\n\nconst  discount = this.state.afterDiscountTotal * (Math.floor(responseJson.data[0].coupon_discount) / 100)\nconst  net = this.state.afterDiscountTotal - Math.round(discount)\n\nvar msg = 'You got ' +Math.floor(responseJson.data[0].coupon_discount) +' % OFF  ₹ ' +Math.round(discount)+' Save'\n\nif(this.state.isDevApplied=='NO')\n{\n  this.setState({FinalTotalAmount:net,iscouponApplied:1,couponMsg:msg,couponId:responseJson.data[0].coupon_id})\n}\nelse\n{\n  this.setState({FinalTotalAmount:net + Math.floor(this.state.delcharge) ,iscouponApplied:1,couponMsg:msg,couponId:responseJson.data[0].coupon_id})\n}\n\n    \n\n   \n  }\n  else if(responseJson.data[0].coupon_type=='amount')\n  {\n    var msg = 'You got ₹' +Math.floor(responseJson.data[0].coupon_discount) +' OFF '\n\n    this.setState({FinalTotalAmount:this.state.FinalTotalAmount-responseJson.data[0].coupon_discount,iscouponApplied:1,couponMsg:msg,couponId:responseJson.data[0].coupon_id})\n\n  }\n  else if(responseJson.data[0].coupon_type=='freeshiping')\n  {\n    if(this.state.isDevApplied=='NO')\n    {\n\n      var msgPopPup = \"Free Shipping applied already\";\n      toast.error(msgPopPup)\n\n  \n    }\n    else\n    {\n      var msg = 'You got free shipping ₹' +Math.floor(this.state.delcharge) +' OFF '\n      this.setState({FinalTotalAmount:this.state.FinalTotalAmount-this.state.delcharge,iscouponApplied:1,couponMsg:msg,couponId:responseJson.data[0].coupon_id})\n\n    }\n\n \n\n  }\n\n}\n\n    }\n\n    if(responseJson.userStatus=='used'){\n\n      var msgPopPup = '** You already used this coupon code';\n      toast.error(msgPopPup)\n    \n    }\n\n\n\n\n    \n    \n\n\n\n\n    \n\n\n     \n     \n   })\n   .catch((error) => {\n     //  console.error(error);\n        \n   });\n  \n  \n}   \n\n\n\n\n \nPlaceThisOrderFinal()\n{\n\nthis.setState({clickedPaymen:true})\n  \n  if(this.state.PaymentMode=='COD')\n  {\n\n\n\n\n    fetch(URL+\"/APP-API/Product/CODPayment\",{\n      method:'post',\n      header:{\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body:JSON.stringify({\n\n        AddressId:this.state.addressId,\n        UserID:this.state.UserID,\n        FinalTotalAmount:this.state.FinalTotalAmount,\n        iscouponApplied:this.state.iscouponApplied,\n        PaymentMode:this.state.PaymentMode,\n        couponId:this.state.couponId,\n        isDevApplied:this.state.isDevApplied,\n        delcharge:this.state.delcharge\n     \n    })\n    \n  })\n   .then((response) => response.json())\n   .then((responseJson) => {\n    this.setState({clickedPaymen:false})\n\n    \n    // console.log('Payment Server',responseJson)\n\n   if(responseJson.status=='Success'){\n   \n   \n    var msgPopPup = '** Order Placed Successfull';\n    toast.success(msgPopPup)\n\nlet that = this.props;\n\nsetTimeout(function(){\n\n\n\nthat.history.push(\"/Order\")\n\n\n}, 700);\n\n\n\n\n\n\n   \n\n   \n\n \n \n \n   }\n   else{\n    \n    \n    var msgPopPup = '** Network Problem';\n    toast.error(msgPopPup)\n  \n\n   }\n    \n\n    \n   \n  \n     \n     \n   })\n   .catch((error) => {\n     //  console.error(error);\n        \n   });\n  \n\n\n  }\n  else if(this.state.PaymentMode=='online'){\nthis.RazorPay()\n    // this.setState({orderclicked:true})\n    // fetch(URL+\"/APP-API/Product/TemperaryPayment\",{\n    //   method:'post',\n    //   header:{\n    //     'Accept': 'application/json',\n    //     'Content-type': 'application/json'\n    //   },\n    //   body:JSON.stringify({\n\n    //     AddressId:this.state.addressId,\n    //     UserID:this.state.UserID,\n    //     FinalTotalAmount:this.state.FinalTotalAmount,\n    //     iscouponApplied:this.state.iscouponApplied,\n    //     PaymentMode:this.state.PaymentMode,\n    //     couponId:this.state.couponId,\n    //     isDevApplied:this.state.isDevApplied,\n    //     delcharge:this.state.delcharge\n\n        \n       \n    //   })\n      \n    // })\n    //  .then((response) => response.json())\n    //  .then((responseJson) => {\n       \n    //   this.setState({clickedPaymen:false})\n\n    //   // console.log('Payment Server',responseJson)\n\n    //  if(responseJson!==''){\n    \n     \n    //   this.sendToPayemt(responseJson)\n    \n    //  }\n    //  else{\n     \n  \n    //    var msgPopPup = '** Network Problem';\n    //    toast.error(msgPopPup)\n    //  }\n      \n  \n      \n     \n    \n       \n       \n    //  })\n    //  .catch((error) => {\n    //    //  console.error(error);\n          \n    //  });\n    \n\n\n\n\n\n  }\n\n}\n\n\n\n}\n\nexport default withRouter(CheackOut);"]},"metadata":{},"sourceType":"module"}