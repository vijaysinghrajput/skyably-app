{"ast":null,"code":"/*!\n * SmartMenus jQuery Plugin - v1.1.1 - July 23, 2020\n * http://www.smartmenus.org/\n *\n * Copyright Vasil Dinkov, Vadikom Web Ltd.\n * http://vadikom.com\n *\n * Licensed MIT\n */\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(['jquery'], factory);\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    // CommonJS\n    module.exports = factory(require('jquery'));\n  } else {\n    // Global jQuery\n    factory(jQuery);\n  }\n})(function ($) {\n  var menuTrees = [],\n      mouse = false,\n      // optimize for touch by default - we will detect for mouse input\n  touchEvents = ('ontouchstart' in window),\n      // we use this just to choose between toucn and pointer events, not for touch screen detection\n  mouseDetectionEnabled = false,\n      requestAnimationFrame = window.requestAnimationFrame || function (callback) {\n    return setTimeout(callback, 1000 / 60);\n  },\n      cancelAnimationFrame = window.cancelAnimationFrame || function (id) {\n    clearTimeout(id);\n  },\n      canAnimate = !!$.fn.animate; // Handle detection for mouse input (i.e. desktop browsers, tablets with a mouse, etc.)\n\n\n  function initMouseDetection(disable) {\n    var eNS = '.smartmenus_mouse';\n\n    if (!mouseDetectionEnabled && !disable) {\n      // if we get two consecutive mousemoves within 2 pixels from each other and within 300ms, we assume a real mouse/cursor is present\n      // in practice, this seems like impossible to trick unintentianally with a real mouse and a pretty safe detection on touch devices (even with older browsers that do not support touch events)\n      var firstTime = true,\n          lastMove = null,\n          events = {\n        'mousemove': function (e) {\n          var thisMove = {\n            x: e.pageX,\n            y: e.pageY,\n            timeStamp: new Date().getTime()\n          };\n\n          if (lastMove) {\n            var deltaX = Math.abs(lastMove.x - thisMove.x),\n                deltaY = Math.abs(lastMove.y - thisMove.y);\n\n            if ((deltaX > 0 || deltaY > 0) && deltaX <= 4 && deltaY <= 4 && thisMove.timeStamp - lastMove.timeStamp <= 300) {\n              mouse = true; // if this is the first check after page load, check if we are not over some item by chance and call the mouseenter handler if yes\n\n              if (firstTime) {\n                var $a = $(e.target).closest('a');\n\n                if ($a.is('a')) {\n                  $.each(menuTrees, function () {\n                    if ($.contains(this.$root[0], $a[0])) {\n                      this.itemEnter({\n                        currentTarget: $a[0]\n                      });\n                      return false;\n                    }\n                  });\n                }\n\n                firstTime = false;\n              }\n            }\n          }\n\n          lastMove = thisMove;\n        }\n      };\n\n      events[touchEvents ? 'touchstart' : 'pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut'] = function (e) {\n        if (isTouchEvent(e.originalEvent)) {\n          mouse = false;\n        }\n      };\n\n      $(document).on(getEventsNS(events, eNS));\n      mouseDetectionEnabled = true;\n    } else if (mouseDetectionEnabled && disable) {\n      $(document).off(eNS);\n      mouseDetectionEnabled = false;\n    }\n  }\n\n  function isTouchEvent(e) {\n    return !/^(4|mouse)$/.test(e.pointerType);\n  } // returns a jQuery on() ready object\n\n\n  function getEventsNS(events, eNS) {\n    if (!eNS) {\n      eNS = '';\n    }\n\n    var eventsNS = {};\n\n    for (var i in events) {\n      eventsNS[i.split(' ').join(eNS + ' ') + eNS] = events[i];\n    }\n\n    return eventsNS;\n  }\n\n  $.SmartMenus = function (elm, options) {\n    this.$root = $(elm);\n    this.opts = options;\n    this.rootId = ''; // internal\n\n    this.accessIdPrefix = '';\n    this.$subArrow = null;\n    this.activatedItems = []; // stores last activated A's for each level\n\n    this.visibleSubMenus = []; // stores visible sub menus UL's (might be in no particular order)\n\n    this.showTimeout = 0;\n    this.hideTimeout = 0;\n    this.scrollTimeout = 0;\n    this.clickActivated = false;\n    this.focusActivated = false;\n    this.zIndexInc = 0;\n    this.idInc = 0;\n    this.$firstLink = null; // we'll use these for some tests\n\n    this.$firstSub = null; // at runtime so we'll cache them\n\n    this.disabled = false;\n    this.$disableOverlay = null;\n    this.$touchScrollingSub = null;\n    this.cssTransforms3d = 'perspective' in elm.style || 'webkitPerspective' in elm.style;\n    this.wasCollapsible = false;\n    this.init();\n  };\n\n  $.extend($.SmartMenus, {\n    hideAll: function () {\n      $.each(menuTrees, function () {\n        this.menuHideAll();\n      });\n    },\n    destroy: function () {\n      while (menuTrees.length) {\n        menuTrees[0].destroy();\n      }\n\n      initMouseDetection(true);\n    },\n    prototype: {\n      init: function (refresh) {\n        var self = this;\n\n        if (!refresh) {\n          menuTrees.push(this);\n          this.rootId = (new Date().getTime() + Math.random() + '').replace(/\\D/g, '');\n          this.accessIdPrefix = 'sm-' + this.rootId + '-';\n\n          if (this.$root.hasClass('sm-rtl')) {\n            this.opts.rightToLeftSubMenus = true;\n          } // init root (main menu)\n\n\n          var eNS = '.smartmenus';\n          this.$root.data('smartmenus', this).attr('data-smartmenus-id', this.rootId).dataSM('level', 1).on(getEventsNS({\n            'mouseover focusin': $.proxy(this.rootOver, this),\n            'mouseout focusout': $.proxy(this.rootOut, this),\n            'keydown': $.proxy(this.rootKeyDown, this)\n          }, eNS)).on(getEventsNS({\n            'mouseenter': $.proxy(this.itemEnter, this),\n            'mouseleave': $.proxy(this.itemLeave, this),\n            'mousedown': $.proxy(this.itemDown, this),\n            'focus': $.proxy(this.itemFocus, this),\n            'blur': $.proxy(this.itemBlur, this),\n            'click': $.proxy(this.itemClick, this)\n          }, eNS), 'a'); // hide menus on tap or click outside the root UL\n\n          eNS += this.rootId;\n\n          if (this.opts.hideOnClick) {\n            $(document).on(getEventsNS({\n              'touchstart': $.proxy(this.docTouchStart, this),\n              'touchmove': $.proxy(this.docTouchMove, this),\n              'touchend': $.proxy(this.docTouchEnd, this),\n              // for Opera Mobile < 11.5, webOS browser, etc. we'll check click too\n              'click': $.proxy(this.docClick, this)\n            }, eNS));\n          } // hide sub menus on resize\n\n\n          $(window).on(getEventsNS({\n            'resize orientationchange': $.proxy(this.winResize, this)\n          }, eNS));\n\n          if (this.opts.subIndicators) {\n            this.$subArrow = $('<span/>').addClass('sub-arrow');\n\n            if (this.opts.subIndicatorsText) {\n              this.$subArrow.html(this.opts.subIndicatorsText);\n            }\n          } // make sure mouse detection is enabled\n\n\n          initMouseDetection();\n        } // init sub menus\n\n\n        this.$firstSub = this.$root.find('ul').each(function () {\n          self.menuInit($(this));\n        }).eq(0);\n        this.$firstLink = this.$root.find('a').eq(0); // find current item\n\n        if (this.opts.markCurrentItem) {\n          var reDefaultDoc = /(index|default)\\.[^#\\?\\/]*/i,\n              reHash = /#.*/,\n              locHref = window.location.href.replace(reDefaultDoc, ''),\n              locHrefNoHash = locHref.replace(reHash, '');\n          this.$root.find('a:not(.mega-menu a)').each(function () {\n            var href = this.href.replace(reDefaultDoc, ''),\n                $this = $(this);\n\n            if (href == locHref || href == locHrefNoHash) {\n              $this.addClass('current');\n\n              if (self.opts.markCurrentTree) {\n                $this.parentsUntil('[data-smartmenus-id]', 'ul').each(function () {\n                  $(this).dataSM('parent-a').addClass('current');\n                });\n              }\n            }\n          });\n        } // save initial state\n\n\n        this.wasCollapsible = this.isCollapsible();\n      },\n      destroy: function (refresh) {\n        if (!refresh) {\n          var eNS = '.smartmenus';\n          this.$root.removeData('smartmenus').removeAttr('data-smartmenus-id').removeDataSM('level').off(eNS);\n          eNS += this.rootId;\n          $(document).off(eNS);\n          $(window).off(eNS);\n\n          if (this.opts.subIndicators) {\n            this.$subArrow = null;\n          }\n        }\n\n        this.menuHideAll();\n        var self = this;\n        this.$root.find('ul').each(function () {\n          var $this = $(this);\n\n          if ($this.dataSM('scroll-arrows')) {\n            $this.dataSM('scroll-arrows').remove();\n          }\n\n          if ($this.dataSM('shown-before')) {\n            if (self.opts.subMenusMinWidth || self.opts.subMenusMaxWidth) {\n              $this.css({\n                width: '',\n                minWidth: '',\n                maxWidth: ''\n              }).removeClass('sm-nowrap');\n            }\n\n            if ($this.dataSM('scroll-arrows')) {\n              $this.dataSM('scroll-arrows').remove();\n            }\n\n            $this.css({\n              zIndex: '',\n              top: '',\n              left: '',\n              marginLeft: '',\n              marginTop: '',\n              display: ''\n            });\n          }\n\n          if (($this.attr('id') || '').indexOf(self.accessIdPrefix) == 0) {\n            $this.removeAttr('id');\n          }\n        }).removeDataSM('in-mega').removeDataSM('shown-before').removeDataSM('scroll-arrows').removeDataSM('parent-a').removeDataSM('level').removeDataSM('beforefirstshowfired').removeAttr('role').removeAttr('aria-hidden').removeAttr('aria-labelledby').removeAttr('aria-expanded');\n        this.$root.find('a.has-submenu').each(function () {\n          var $this = $(this);\n\n          if ($this.attr('id').indexOf(self.accessIdPrefix) == 0) {\n            $this.removeAttr('id');\n          }\n        }).removeClass('has-submenu').removeDataSM('sub').removeAttr('aria-haspopup').removeAttr('aria-controls').removeAttr('aria-expanded').closest('li').removeDataSM('sub');\n\n        if (this.opts.subIndicators) {\n          this.$root.find('span.sub-arrow').remove();\n        }\n\n        if (this.opts.markCurrentItem) {\n          this.$root.find('a.current').removeClass('current');\n        }\n\n        if (!refresh) {\n          this.$root = null;\n          this.$firstLink = null;\n          this.$firstSub = null;\n\n          if (this.$disableOverlay) {\n            this.$disableOverlay.remove();\n            this.$disableOverlay = null;\n          }\n\n          menuTrees.splice($.inArray(this, menuTrees), 1);\n        }\n      },\n      disable: function (noOverlay) {\n        if (!this.disabled) {\n          this.menuHideAll(); // display overlay over the menu to prevent interaction\n\n          if (!noOverlay && !this.opts.isPopup && this.$root.is(':visible')) {\n            var pos = this.$root.offset();\n            this.$disableOverlay = $('<div class=\"sm-jquery-disable-overlay\"/>').css({\n              position: 'absolute',\n              top: pos.top,\n              left: pos.left,\n              width: this.$root.outerWidth(),\n              height: this.$root.outerHeight(),\n              zIndex: this.getStartZIndex(true),\n              opacity: 0\n            }).appendTo(document.body);\n          }\n\n          this.disabled = true;\n        }\n      },\n      docClick: function (e) {\n        if (this.$touchScrollingSub) {\n          this.$touchScrollingSub = null;\n          return;\n        } // hide on any click outside the menu or on a menu link\n\n\n        if (this.visibleSubMenus.length && !$.contains(this.$root[0], e.target) || $(e.target).closest('a').length) {\n          this.menuHideAll();\n        }\n      },\n      docTouchEnd: function (e) {\n        if (!this.lastTouch) {\n          return;\n        }\n\n        if (this.visibleSubMenus.length && (this.lastTouch.x2 === undefined || this.lastTouch.x1 == this.lastTouch.x2) && (this.lastTouch.y2 === undefined || this.lastTouch.y1 == this.lastTouch.y2) && (!this.lastTouch.target || !$.contains(this.$root[0], this.lastTouch.target))) {\n          if (this.hideTimeout) {\n            clearTimeout(this.hideTimeout);\n            this.hideTimeout = 0;\n          } // hide with a delay to prevent triggering accidental unwanted click on some page element\n\n\n          var self = this;\n          this.hideTimeout = setTimeout(function () {\n            self.menuHideAll();\n          }, 350);\n        }\n\n        this.lastTouch = null;\n      },\n      docTouchMove: function (e) {\n        if (!this.lastTouch) {\n          return;\n        }\n\n        var touchPoint = e.originalEvent.touches[0];\n        this.lastTouch.x2 = touchPoint.pageX;\n        this.lastTouch.y2 = touchPoint.pageY;\n      },\n      docTouchStart: function (e) {\n        var touchPoint = e.originalEvent.touches[0];\n        this.lastTouch = {\n          x1: touchPoint.pageX,\n          y1: touchPoint.pageY,\n          target: touchPoint.target\n        };\n      },\n      enable: function () {\n        if (this.disabled) {\n          if (this.$disableOverlay) {\n            this.$disableOverlay.remove();\n            this.$disableOverlay = null;\n          }\n\n          this.disabled = false;\n        }\n      },\n      getClosestMenu: function (elm) {\n        var $closestMenu = $(elm).closest('ul');\n\n        while ($closestMenu.dataSM('in-mega')) {\n          $closestMenu = $closestMenu.parent().closest('ul');\n        }\n\n        return $closestMenu[0] || null;\n      },\n      getHeight: function ($elm) {\n        return this.getOffset($elm, true);\n      },\n      // returns precise width/height float values\n      getOffset: function ($elm, height) {\n        var old;\n\n        if ($elm.css('display') == 'none') {\n          old = {\n            position: $elm[0].style.position,\n            visibility: $elm[0].style.visibility\n          };\n          $elm.css({\n            position: 'absolute',\n            visibility: 'hidden'\n          }).show();\n        }\n\n        var box = $elm[0].getBoundingClientRect && $elm[0].getBoundingClientRect(),\n            val = box && (height ? box.height || box.bottom - box.top : box.width || box.right - box.left);\n\n        if (!val && val !== 0) {\n          val = height ? $elm[0].offsetHeight : $elm[0].offsetWidth;\n        }\n\n        if (old) {\n          $elm.hide().css(old);\n        }\n\n        return val;\n      },\n      getStartZIndex: function (root) {\n        var zIndex = parseInt(this[root ? '$root' : '$firstSub'].css('z-index'));\n\n        if (!root && isNaN(zIndex)) {\n          zIndex = parseInt(this.$root.css('z-index'));\n        }\n\n        return !isNaN(zIndex) ? zIndex : 1;\n      },\n      getTouchPoint: function (e) {\n        return e.touches && e.touches[0] || e.changedTouches && e.changedTouches[0] || e;\n      },\n      getViewport: function (height) {\n        var name = height ? 'Height' : 'Width',\n            val = document.documentElement['client' + name],\n            val2 = window['inner' + name];\n\n        if (val2) {\n          val = Math.min(val, val2);\n        }\n\n        return val;\n      },\n      getViewportHeight: function () {\n        return this.getViewport(true);\n      },\n      getViewportWidth: function () {\n        return this.getViewport();\n      },\n      getWidth: function ($elm) {\n        return this.getOffset($elm);\n      },\n      handleEvents: function () {\n        return !this.disabled && this.isCSSOn();\n      },\n      handleItemEvents: function ($a) {\n        return this.handleEvents() && !this.isLinkInMegaMenu($a);\n      },\n      isCollapsible: function () {\n        return this.$firstSub.css('position') == 'static';\n      },\n      isCSSOn: function () {\n        return this.$firstLink.css('display') != 'inline';\n      },\n      isFixed: function () {\n        var isFixed = this.$root.css('position') == 'fixed';\n\n        if (!isFixed) {\n          this.$root.parentsUntil('body').each(function () {\n            if ($(this).css('position') == 'fixed') {\n              isFixed = true;\n              return false;\n            }\n          });\n        }\n\n        return isFixed;\n      },\n      isLinkInMegaMenu: function ($a) {\n        return $(this.getClosestMenu($a[0])).hasClass('mega-menu');\n      },\n      isTouchMode: function () {\n        return !mouse || this.opts.noMouseOver || this.isCollapsible();\n      },\n      itemActivate: function ($a, hideDeeperSubs) {\n        var $ul = $a.closest('ul'),\n            level = $ul.dataSM('level'); // if for some reason the parent item is not activated (e.g. this is an API call to activate the item), activate all parent items first\n\n        if (level > 1 && (!this.activatedItems[level - 2] || this.activatedItems[level - 2][0] != $ul.dataSM('parent-a')[0])) {\n          var self = this;\n          $($ul.parentsUntil('[data-smartmenus-id]', 'ul').get().reverse()).add($ul).each(function () {\n            self.itemActivate($(this).dataSM('parent-a'));\n          });\n        } // hide any visible deeper level sub menus\n\n\n        if (!this.isCollapsible() || hideDeeperSubs) {\n          this.menuHideSubMenus(!this.activatedItems[level - 1] || this.activatedItems[level - 1][0] != $a[0] ? level - 1 : level);\n        } // save new active item for this level\n\n\n        this.activatedItems[level - 1] = $a;\n\n        if (this.$root.triggerHandler('activate.smapi', $a[0]) === false) {\n          return;\n        } // show the sub menu if this item has one\n\n\n        var $sub = $a.dataSM('sub');\n\n        if ($sub && (this.isTouchMode() || !this.opts.showOnClick || this.clickActivated)) {\n          this.menuShow($sub);\n        }\n      },\n      itemBlur: function (e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        this.$root.triggerHandler('blur.smapi', $a[0]);\n      },\n      itemClick: function (e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        if (this.$touchScrollingSub && this.$touchScrollingSub[0] == $a.closest('ul')[0]) {\n          this.$touchScrollingSub = null;\n          e.stopPropagation();\n          return false;\n        }\n\n        if (this.$root.triggerHandler('click.smapi', $a[0]) === false) {\n          return false;\n        }\n\n        var $sub = $a.dataSM('sub'),\n            firstLevelSub = $sub ? $sub.dataSM('level') == 2 : false;\n\n        if ($sub) {\n          var subArrowClicked = $(e.target).is('.sub-arrow'),\n              collapsible = this.isCollapsible(),\n              behaviorToggle = /toggle$/.test(this.opts.collapsibleBehavior),\n              behaviorLink = /link$/.test(this.opts.collapsibleBehavior),\n              behaviorAccordion = /^accordion/.test(this.opts.collapsibleBehavior); // if the sub is hidden, try to show it\n\n          if (!$sub.is(':visible')) {\n            if (!behaviorLink || !collapsible || subArrowClicked) {\n              if (!collapsible && this.opts.showOnClick && firstLevelSub) {\n                this.clickActivated = true;\n              } // try to activate the item and show the sub\n\n\n              this.itemActivate($a, behaviorAccordion); // if \"itemActivate\" showed the sub, prevent the click so that the link is not loaded\n              // if it couldn't show it, then the sub menus are disabled with an !important declaration (e.g. via mobile styles) so let the link get loaded\n\n              if ($sub.is(':visible')) {\n                this.focusActivated = true;\n                return false;\n              }\n            } // if the sub is visible and showOnClick: true, hide the sub\n\n          } else if (!collapsible && this.opts.showOnClick && firstLevelSub) {\n            this.menuHide($sub);\n            this.clickActivated = false;\n            this.focusActivated = false;\n            return false; // if the sub is visible and we are in collapsible mode\n          } else if (collapsible && (behaviorToggle || subArrowClicked)) {\n            this.itemActivate($a, behaviorAccordion);\n            this.menuHide($sub);\n            return false;\n          }\n        }\n\n        if (!collapsible && this.opts.showOnClick && firstLevelSub || $a.hasClass('disabled') || this.$root.triggerHandler('select.smapi', $a[0]) === false) {\n          return false;\n        }\n      },\n      itemDown: function (e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        $a.dataSM('mousedown', true);\n      },\n      itemEnter: function (e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        if (!this.isTouchMode()) {\n          if (this.showTimeout) {\n            clearTimeout(this.showTimeout);\n            this.showTimeout = 0;\n          }\n\n          var self = this;\n          this.showTimeout = setTimeout(function () {\n            self.itemActivate($a);\n          }, this.opts.showOnClick && $a.closest('ul').dataSM('level') == 1 ? 1 : this.opts.showTimeout);\n        }\n\n        this.$root.triggerHandler('mouseenter.smapi', $a[0]);\n      },\n      itemFocus: function (e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        } // fix (the mousedown check): in some browsers a tap/click produces consecutive focus + click events so we don't need to activate the item on focus\n\n\n        if (this.focusActivated && (!this.isTouchMode() || !$a.dataSM('mousedown')) && (!this.activatedItems.length || this.activatedItems[this.activatedItems.length - 1][0] != $a[0])) {\n          this.itemActivate($a, true);\n        }\n\n        this.$root.triggerHandler('focus.smapi', $a[0]);\n      },\n      itemLeave: function (e) {\n        var $a = $(e.currentTarget);\n\n        if (!this.handleItemEvents($a)) {\n          return;\n        }\n\n        if (!this.isTouchMode()) {\n          $a[0].blur();\n\n          if (this.showTimeout) {\n            clearTimeout(this.showTimeout);\n            this.showTimeout = 0;\n          }\n        }\n\n        $a.removeDataSM('mousedown');\n        this.$root.triggerHandler('mouseleave.smapi', $a[0]);\n      },\n      menuHide: function ($sub) {\n        if (this.$root.triggerHandler('beforehide.smapi', $sub[0]) === false) {\n          return;\n        }\n\n        if (canAnimate) {\n          $sub.stop(true, true);\n        }\n\n        if ($sub.css('display') != 'none') {\n          var complete = function () {\n            // unset z-index\n            $sub.css('z-index', '');\n          }; // if sub is collapsible (mobile view)\n\n\n          if (this.isCollapsible()) {\n            if (canAnimate && this.opts.collapsibleHideFunction) {\n              this.opts.collapsibleHideFunction.call(this, $sub, complete);\n            } else {\n              $sub.hide(this.opts.collapsibleHideDuration, complete);\n            }\n          } else {\n            if (canAnimate && this.opts.hideFunction) {\n              this.opts.hideFunction.call(this, $sub, complete);\n            } else {\n              $sub.hide(this.opts.hideDuration, complete);\n            }\n          } // deactivate scrolling if it is activated for this sub\n\n\n          if ($sub.dataSM('scroll')) {\n            this.menuScrollStop($sub);\n            $sub.css({\n              'touch-action': '',\n              '-ms-touch-action': '',\n              '-webkit-transform': '',\n              transform: ''\n            }).off('.smartmenus_scroll').removeDataSM('scroll').dataSM('scroll-arrows').hide();\n          } // unhighlight parent item + accessibility\n\n\n          $sub.dataSM('parent-a').removeClass('highlighted').attr('aria-expanded', 'false');\n          $sub.attr({\n            'aria-expanded': 'false',\n            'aria-hidden': 'true'\n          });\n          var level = $sub.dataSM('level');\n          this.activatedItems.splice(level - 1, 1);\n          this.visibleSubMenus.splice($.inArray($sub, this.visibleSubMenus), 1);\n          this.$root.triggerHandler('hide.smapi', $sub[0]);\n        }\n      },\n      menuHideAll: function () {\n        if (this.showTimeout) {\n          clearTimeout(this.showTimeout);\n          this.showTimeout = 0;\n        } // hide all subs\n        // if it's a popup, this.visibleSubMenus[0] is the root UL\n\n\n        var level = this.opts.isPopup ? 1 : 0;\n\n        for (var i = this.visibleSubMenus.length - 1; i >= level; i--) {\n          this.menuHide(this.visibleSubMenus[i]);\n        } // hide root if it's popup\n\n\n        if (this.opts.isPopup) {\n          if (canAnimate) {\n            this.$root.stop(true, true);\n          }\n\n          if (this.$root.is(':visible')) {\n            if (canAnimate && this.opts.hideFunction) {\n              this.opts.hideFunction.call(this, this.$root);\n            } else {\n              this.$root.hide(this.opts.hideDuration);\n            }\n          }\n        }\n\n        this.activatedItems = [];\n        this.visibleSubMenus = [];\n        this.clickActivated = false;\n        this.focusActivated = false; // reset z-index increment\n\n        this.zIndexInc = 0;\n        this.$root.triggerHandler('hideAll.smapi');\n      },\n      menuHideSubMenus: function (level) {\n        for (var i = this.activatedItems.length - 1; i >= level; i--) {\n          var $sub = this.activatedItems[i].dataSM('sub');\n\n          if ($sub) {\n            this.menuHide($sub);\n          }\n        }\n      },\n      menuInit: function ($ul) {\n        if (!$ul.dataSM('in-mega')) {\n          // mark UL's in mega drop downs (if any) so we can neglect them\n          if ($ul.hasClass('mega-menu')) {\n            $ul.find('ul').dataSM('in-mega', true);\n          } // get level (much faster than, for example, using parentsUntil)\n\n\n          var level = 2,\n              par = $ul[0];\n\n          while ((par = par.parentNode.parentNode) != this.$root[0]) {\n            level++;\n          } // cache stuff for quick access\n\n\n          var $a = $ul.prevAll('a').eq(-1); // if the link is nested (e.g. in a heading)\n\n          if (!$a.length) {\n            $a = $ul.prevAll().find('a').eq(-1);\n          }\n\n          $a.addClass('has-submenu').dataSM('sub', $ul);\n          $ul.dataSM('parent-a', $a).dataSM('level', level).parent().dataSM('sub', $ul); // accessibility\n\n          var aId = $a.attr('id') || this.accessIdPrefix + ++this.idInc,\n              ulId = $ul.attr('id') || this.accessIdPrefix + ++this.idInc;\n          $a.attr({\n            id: aId,\n            'aria-haspopup': 'true',\n            'aria-controls': ulId,\n            'aria-expanded': 'false'\n          });\n          $ul.attr({\n            id: ulId,\n            'role': 'group',\n            'aria-hidden': 'true',\n            'aria-labelledby': aId,\n            'aria-expanded': 'false'\n          }); // add sub indicator to parent item\n\n          if (this.opts.subIndicators) {\n            $a[this.opts.subIndicatorsPos](this.$subArrow.clone());\n          }\n        }\n      },\n      menuPosition: function ($sub) {\n        var $a = $sub.dataSM('parent-a'),\n            $li = $a.closest('li'),\n            $ul = $li.parent(),\n            level = $sub.dataSM('level'),\n            subW = this.getWidth($sub),\n            subH = this.getHeight($sub),\n            itemOffset = $a.offset(),\n            itemX = itemOffset.left,\n            itemY = itemOffset.top,\n            itemW = this.getWidth($a),\n            itemH = this.getHeight($a),\n            $win = $(window),\n            winX = $win.scrollLeft(),\n            winY = $win.scrollTop(),\n            winW = this.getViewportWidth(),\n            winH = this.getViewportHeight(),\n            horizontalParent = $ul.parent().is('[data-sm-horizontal-sub]') || level == 2 && !$ul.hasClass('sm-vertical'),\n            rightToLeft = this.opts.rightToLeftSubMenus && !$li.is('[data-sm-reverse]') || !this.opts.rightToLeftSubMenus && $li.is('[data-sm-reverse]'),\n            subOffsetX = level == 2 ? this.opts.mainMenuSubOffsetX : this.opts.subMenusSubOffsetX,\n            subOffsetY = level == 2 ? this.opts.mainMenuSubOffsetY : this.opts.subMenusSubOffsetY,\n            x,\n            y;\n\n        if (horizontalParent) {\n          x = rightToLeft ? itemW - subW - subOffsetX : subOffsetX;\n          y = this.opts.bottomToTopSubMenus ? -subH - subOffsetY : itemH + subOffsetY;\n        } else {\n          x = rightToLeft ? subOffsetX - subW : itemW - subOffsetX;\n          y = this.opts.bottomToTopSubMenus ? itemH - subOffsetY - subH : subOffsetY;\n        }\n\n        if (this.opts.keepInViewport) {\n          var absX = itemX + x,\n              absY = itemY + y;\n\n          if (rightToLeft && absX < winX) {\n            x = horizontalParent ? winX - absX + x : itemW - subOffsetX;\n          } else if (!rightToLeft && absX + subW > winX + winW) {\n            x = horizontalParent ? winX + winW - subW - absX + x : subOffsetX - subW;\n          }\n\n          if (!horizontalParent) {\n            if (subH < winH && absY + subH > winY + winH) {\n              y += winY + winH - subH - absY;\n            } else if (subH >= winH || absY < winY) {\n              y += winY - absY;\n            }\n          } // do we need scrolling?\n          // 0.49 used for better precision when dealing with float values\n\n\n          if (horizontalParent && (absY + subH > winY + winH + 0.49 || absY < winY) || !horizontalParent && subH > winH + 0.49) {\n            var self = this;\n\n            if (!$sub.dataSM('scroll-arrows')) {\n              $sub.dataSM('scroll-arrows', $([$('<span class=\"scroll-up\"><span class=\"scroll-up-arrow\"></span></span>')[0], $('<span class=\"scroll-down\"><span class=\"scroll-down-arrow\"></span></span>')[0]]).on({\n                mouseenter: function () {\n                  $sub.dataSM('scroll').up = $(this).hasClass('scroll-up');\n                  self.menuScroll($sub);\n                },\n                mouseleave: function (e) {\n                  self.menuScrollStop($sub);\n                  self.menuScrollOut($sub, e);\n                },\n                'mousewheel DOMMouseScroll': function (e) {\n                  e.preventDefault();\n                }\n              }).insertAfter($sub));\n            } // bind scroll events and save scroll data for this sub\n\n\n            var eNS = '.smartmenus_scroll';\n            $sub.dataSM('scroll', {\n              y: this.cssTransforms3d ? 0 : y - itemH,\n              step: 1,\n              // cache stuff for faster recalcs later\n              itemH: itemH,\n              subH: subH,\n              arrowDownH: this.getHeight($sub.dataSM('scroll-arrows').eq(1))\n            }).on(getEventsNS({\n              'mouseover': function (e) {\n                self.menuScrollOver($sub, e);\n              },\n              'mouseout': function (e) {\n                self.menuScrollOut($sub, e);\n              },\n              'mousewheel DOMMouseScroll': function (e) {\n                self.menuScrollMousewheel($sub, e);\n              }\n            }, eNS)).dataSM('scroll-arrows').css({\n              top: 'auto',\n              left: '0',\n              marginLeft: x + (parseInt($sub.css('border-left-width')) || 0),\n              width: subW - (parseInt($sub.css('border-left-width')) || 0) - (parseInt($sub.css('border-right-width')) || 0),\n              zIndex: $sub.css('z-index')\n            }).eq(horizontalParent && this.opts.bottomToTopSubMenus ? 0 : 1).show(); // when a menu tree is fixed positioned we allow scrolling via touch too\n            // since there is no other way to access such long sub menus if no mouse is present\n\n            if (this.isFixed()) {\n              var events = {};\n\n              events[touchEvents ? 'touchstart touchmove touchend' : 'pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp'] = function (e) {\n                self.menuScrollTouch($sub, e);\n              };\n\n              $sub.css({\n                'touch-action': 'none',\n                '-ms-touch-action': 'none'\n              }).on(getEventsNS(events, eNS));\n            }\n          }\n        }\n\n        $sub.css({\n          top: 'auto',\n          left: '0',\n          marginLeft: x,\n          marginTop: y - itemH\n        });\n      },\n      menuScroll: function ($sub, once, step) {\n        var data = $sub.dataSM('scroll'),\n            $arrows = $sub.dataSM('scroll-arrows'),\n            end = data.up ? data.upEnd : data.downEnd,\n            diff;\n\n        if (!once && data.momentum) {\n          data.momentum *= 0.92;\n          diff = data.momentum;\n\n          if (diff < 0.5) {\n            this.menuScrollStop($sub);\n            return;\n          }\n        } else {\n          diff = step || (once || !this.opts.scrollAccelerate ? this.opts.scrollStep : Math.floor(data.step));\n        } // hide any visible deeper level sub menus\n\n\n        var level = $sub.dataSM('level');\n\n        if (this.activatedItems[level - 1] && this.activatedItems[level - 1].dataSM('sub') && this.activatedItems[level - 1].dataSM('sub').is(':visible')) {\n          this.menuHideSubMenus(level - 1);\n        }\n\n        data.y = data.up && end <= data.y || !data.up && end >= data.y ? data.y : Math.abs(end - data.y) > diff ? data.y + (data.up ? diff : -diff) : end;\n        $sub.css(this.cssTransforms3d ? {\n          '-webkit-transform': 'translate3d(0, ' + data.y + 'px, 0)',\n          transform: 'translate3d(0, ' + data.y + 'px, 0)'\n        } : {\n          marginTop: data.y\n        }); // show opposite arrow if appropriate\n\n        if (mouse && (data.up && data.y > data.downEnd || !data.up && data.y < data.upEnd)) {\n          $arrows.eq(data.up ? 1 : 0).show();\n        } // if we've reached the end\n\n\n        if (data.y == end) {\n          if (mouse) {\n            $arrows.eq(data.up ? 0 : 1).hide();\n          }\n\n          this.menuScrollStop($sub);\n        } else if (!once) {\n          if (this.opts.scrollAccelerate && data.step < this.opts.scrollStep) {\n            data.step += 0.2;\n          }\n\n          var self = this;\n          this.scrollTimeout = requestAnimationFrame(function () {\n            self.menuScroll($sub);\n          });\n        }\n      },\n      menuScrollMousewheel: function ($sub, e) {\n        if (this.getClosestMenu(e.target) == $sub[0]) {\n          e = e.originalEvent;\n          var up = (e.wheelDelta || -e.detail) > 0;\n\n          if ($sub.dataSM('scroll-arrows').eq(up ? 0 : 1).is(':visible')) {\n            $sub.dataSM('scroll').up = up;\n            this.menuScroll($sub, true);\n          }\n        }\n\n        e.preventDefault();\n      },\n      menuScrollOut: function ($sub, e) {\n        if (mouse) {\n          if (!/^scroll-(up|down)/.test((e.relatedTarget || '').className) && ($sub[0] != e.relatedTarget && !$.contains($sub[0], e.relatedTarget) || this.getClosestMenu(e.relatedTarget) != $sub[0])) {\n            $sub.dataSM('scroll-arrows').css('visibility', 'hidden');\n          }\n        }\n      },\n      menuScrollOver: function ($sub, e) {\n        if (mouse) {\n          if (!/^scroll-(up|down)/.test(e.target.className) && this.getClosestMenu(e.target) == $sub[0]) {\n            this.menuScrollRefreshData($sub);\n            var data = $sub.dataSM('scroll'),\n                upEnd = $(window).scrollTop() - $sub.dataSM('parent-a').offset().top - data.itemH;\n            $sub.dataSM('scroll-arrows').eq(0).css('margin-top', upEnd).end().eq(1).css('margin-top', upEnd + this.getViewportHeight() - data.arrowDownH).end().css('visibility', 'visible');\n          }\n        }\n      },\n      menuScrollRefreshData: function ($sub) {\n        var data = $sub.dataSM('scroll'),\n            upEnd = $(window).scrollTop() - $sub.dataSM('parent-a').offset().top - data.itemH;\n\n        if (this.cssTransforms3d) {\n          upEnd = -(parseFloat($sub.css('margin-top')) - upEnd);\n        }\n\n        $.extend(data, {\n          upEnd: upEnd,\n          downEnd: upEnd + this.getViewportHeight() - data.subH\n        });\n      },\n      menuScrollStop: function ($sub) {\n        if (this.scrollTimeout) {\n          cancelAnimationFrame(this.scrollTimeout);\n          this.scrollTimeout = 0;\n          $sub.dataSM('scroll').step = 1;\n          return true;\n        }\n      },\n      menuScrollTouch: function ($sub, e) {\n        e = e.originalEvent;\n\n        if (isTouchEvent(e)) {\n          var touchPoint = this.getTouchPoint(e); // neglect event if we touched a visible deeper level sub menu\n\n          if (this.getClosestMenu(touchPoint.target) == $sub[0]) {\n            var data = $sub.dataSM('scroll');\n\n            if (/(start|down)$/i.test(e.type)) {\n              if (this.menuScrollStop($sub)) {\n                // if we were scrolling, just stop and don't activate any link on the first touch\n                e.preventDefault();\n                this.$touchScrollingSub = $sub;\n              } else {\n                this.$touchScrollingSub = null;\n              } // update scroll data since the user might have zoomed, etc.\n\n\n              this.menuScrollRefreshData($sub); // extend it with the touch properties\n\n              $.extend(data, {\n                touchStartY: touchPoint.pageY,\n                touchStartTime: e.timeStamp\n              });\n            } else if (/move$/i.test(e.type)) {\n              var prevY = data.touchY !== undefined ? data.touchY : data.touchStartY;\n\n              if (prevY !== undefined && prevY != touchPoint.pageY) {\n                this.$touchScrollingSub = $sub;\n                var up = prevY < touchPoint.pageY; // changed direction? reset...\n\n                if (data.up !== undefined && data.up != up) {\n                  $.extend(data, {\n                    touchStartY: touchPoint.pageY,\n                    touchStartTime: e.timeStamp\n                  });\n                }\n\n                $.extend(data, {\n                  up: up,\n                  touchY: touchPoint.pageY\n                });\n                this.menuScroll($sub, true, Math.abs(touchPoint.pageY - prevY));\n              }\n\n              e.preventDefault();\n            } else {\n              // touchend/pointerup\n              if (data.touchY !== undefined) {\n                if (data.momentum = Math.pow(Math.abs(touchPoint.pageY - data.touchStartY) / (e.timeStamp - data.touchStartTime), 2) * 15) {\n                  this.menuScrollStop($sub);\n                  this.menuScroll($sub);\n                  e.preventDefault();\n                }\n\n                delete data.touchY;\n              }\n            }\n          }\n        }\n      },\n      menuShow: function ($sub) {\n        if (!$sub.dataSM('beforefirstshowfired')) {\n          $sub.dataSM('beforefirstshowfired', true);\n\n          if (this.$root.triggerHandler('beforefirstshow.smapi', $sub[0]) === false) {\n            return;\n          }\n        }\n\n        if (this.$root.triggerHandler('beforeshow.smapi', $sub[0]) === false) {\n          return;\n        }\n\n        $sub.dataSM('shown-before', true);\n\n        if (canAnimate) {\n          $sub.stop(true, true);\n        }\n\n        if (!$sub.is(':visible')) {\n          // highlight parent item\n          var $a = $sub.dataSM('parent-a'),\n              collapsible = this.isCollapsible();\n\n          if (this.opts.keepHighlighted || collapsible) {\n            $a.addClass('highlighted');\n          }\n\n          if (collapsible) {\n            $sub.removeClass('sm-nowrap').css({\n              zIndex: '',\n              width: 'auto',\n              minWidth: '',\n              maxWidth: '',\n              top: '',\n              left: '',\n              marginLeft: '',\n              marginTop: ''\n            });\n          } else {\n            // set z-index\n            $sub.css('z-index', this.zIndexInc = (this.zIndexInc || this.getStartZIndex()) + 1); // min/max-width fix - no way to rely purely on CSS as all UL's are nested\n\n            if (this.opts.subMenusMinWidth || this.opts.subMenusMaxWidth) {\n              $sub.css({\n                width: 'auto',\n                minWidth: '',\n                maxWidth: ''\n              }).addClass('sm-nowrap');\n\n              if (this.opts.subMenusMinWidth) {\n                $sub.css('min-width', this.opts.subMenusMinWidth);\n              }\n\n              if (this.opts.subMenusMaxWidth) {\n                var noMaxWidth = this.getWidth($sub);\n                $sub.css('max-width', this.opts.subMenusMaxWidth);\n\n                if (noMaxWidth > this.getWidth($sub)) {\n                  $sub.removeClass('sm-nowrap').css('width', this.opts.subMenusMaxWidth);\n                }\n              }\n            }\n\n            this.menuPosition($sub);\n          }\n\n          var complete = function () {\n            // fix: \"overflow: hidden;\" is not reset on animation complete in jQuery < 1.9.0 in Chrome when global \"box-sizing: border-box;\" is used\n            $sub.css('overflow', '');\n          }; // if sub is collapsible (mobile view)\n\n\n          if (collapsible) {\n            if (canAnimate && this.opts.collapsibleShowFunction) {\n              this.opts.collapsibleShowFunction.call(this, $sub, complete);\n            } else {\n              $sub.show(this.opts.collapsibleShowDuration, complete);\n            }\n          } else {\n            if (canAnimate && this.opts.showFunction) {\n              this.opts.showFunction.call(this, $sub, complete);\n            } else {\n              $sub.show(this.opts.showDuration, complete);\n            }\n          } // accessibility\n\n\n          $a.attr('aria-expanded', 'true');\n          $sub.attr({\n            'aria-expanded': 'true',\n            'aria-hidden': 'false'\n          }); // store sub menu in visible array\n\n          this.visibleSubMenus.push($sub);\n          this.$root.triggerHandler('show.smapi', $sub[0]);\n        }\n      },\n      popupHide: function (noHideTimeout) {\n        if (this.hideTimeout) {\n          clearTimeout(this.hideTimeout);\n          this.hideTimeout = 0;\n        }\n\n        var self = this;\n        this.hideTimeout = setTimeout(function () {\n          self.menuHideAll();\n        }, noHideTimeout ? 1 : this.opts.hideTimeout);\n      },\n      popupShow: function (left, top) {\n        if (!this.opts.isPopup) {\n          alert('SmartMenus jQuery Error:\\n\\nIf you want to show this menu via the \"popupShow\" method, set the isPopup:true option.');\n          return;\n        }\n\n        if (this.hideTimeout) {\n          clearTimeout(this.hideTimeout);\n          this.hideTimeout = 0;\n        }\n\n        this.$root.dataSM('shown-before', true);\n\n        if (canAnimate) {\n          this.$root.stop(true, true);\n        }\n\n        if (!this.$root.is(':visible')) {\n          this.$root.css({\n            left: left,\n            top: top\n          }); // show menu\n\n          var self = this,\n              complete = function () {\n            self.$root.css('overflow', '');\n          };\n\n          if (canAnimate && this.opts.showFunction) {\n            this.opts.showFunction.call(this, this.$root, complete);\n          } else {\n            this.$root.show(this.opts.showDuration, complete);\n          }\n\n          this.visibleSubMenus[0] = this.$root;\n        }\n      },\n      refresh: function () {\n        this.destroy(true);\n        this.init(true);\n      },\n      rootKeyDown: function (e) {\n        if (!this.handleEvents()) {\n          return;\n        }\n\n        switch (e.keyCode) {\n          case 27:\n            // reset on Esc\n            var $activeTopItem = this.activatedItems[0];\n\n            if ($activeTopItem) {\n              this.menuHideAll();\n              $activeTopItem[0].focus();\n              var $sub = $activeTopItem.dataSM('sub');\n\n              if ($sub) {\n                this.menuHide($sub);\n              }\n            }\n\n            break;\n\n          case 32:\n            // activate item's sub on Space\n            var $target = $(e.target);\n\n            if ($target.is('a') && this.handleItemEvents($target)) {\n              var $sub = $target.dataSM('sub');\n\n              if ($sub && !$sub.is(':visible')) {\n                this.itemClick({\n                  currentTarget: e.target\n                });\n                e.preventDefault();\n              }\n            }\n\n            break;\n        }\n      },\n      rootOut: function (e) {\n        if (!this.handleEvents() || this.isTouchMode() || e.target == this.$root[0]) {\n          return;\n        }\n\n        if (this.hideTimeout) {\n          clearTimeout(this.hideTimeout);\n          this.hideTimeout = 0;\n        }\n\n        if (!this.opts.showOnClick || !this.opts.hideOnClick) {\n          var self = this;\n          this.hideTimeout = setTimeout(function () {\n            self.menuHideAll();\n          }, this.opts.hideTimeout);\n        }\n      },\n      rootOver: function (e) {\n        if (!this.handleEvents() || this.isTouchMode() || e.target == this.$root[0]) {\n          return;\n        }\n\n        if (this.hideTimeout) {\n          clearTimeout(this.hideTimeout);\n          this.hideTimeout = 0;\n        }\n      },\n      winResize: function (e) {\n        if (!this.handleEvents()) {\n          // we still need to resize the disable overlay if it's visible\n          if (this.$disableOverlay) {\n            var pos = this.$root.offset();\n            this.$disableOverlay.css({\n              top: pos.top,\n              left: pos.left,\n              width: this.$root.outerWidth(),\n              height: this.$root.outerHeight()\n            });\n          }\n\n          return;\n        } // hide sub menus on resize - on mobile do it only on orientation change\n\n\n        if (!('onorientationchange' in window) || e.type == 'orientationchange') {\n          var collapsible = this.isCollapsible(); // if it was collapsible before resize and still is, don't do it\n\n          if (!(this.wasCollapsible && collapsible)) {\n            if (this.activatedItems.length) {\n              this.activatedItems[this.activatedItems.length - 1][0].blur();\n            }\n\n            this.menuHideAll();\n          }\n\n          this.wasCollapsible = collapsible;\n        }\n      }\n    }\n  });\n\n  $.fn.dataSM = function (key, val) {\n    if (val) {\n      return this.data(key + '_smartmenus', val);\n    }\n\n    return this.data(key + '_smartmenus');\n  };\n\n  $.fn.removeDataSM = function (key) {\n    return this.removeData(key + '_smartmenus');\n  };\n\n  $.fn.smartmenus = function (options) {\n    if (typeof options == 'string') {\n      var args = arguments,\n          method = options;\n      Array.prototype.shift.call(args);\n      return this.each(function () {\n        var smartmenus = $(this).data('smartmenus');\n\n        if (smartmenus && smartmenus[method]) {\n          smartmenus[method].apply(smartmenus, args);\n        }\n      });\n    }\n\n    return this.each(function () {\n      // [data-sm-options] attribute on the root UL\n      var dataOpts = $(this).data('sm-options') || null;\n\n      if (dataOpts && typeof dataOpts !== 'object') {\n        try {\n          dataOpts = eval('(' + dataOpts + ')');\n        } catch (e) {\n          dataOpts = null;\n          alert('ERROR\\n\\nSmartMenus jQuery init:\\nInvalid \"data-sm-options\" attribute value syntax.');\n        }\n\n        ;\n      }\n\n      new $.SmartMenus(this, $.extend({}, $.fn.smartmenus.defaults, options, dataOpts));\n    });\n  }; // default settings\n\n\n  $.fn.smartmenus.defaults = {\n    isPopup: false,\n    // is this a popup menu (can be shown via the popupShow/popupHide methods) or a permanent menu bar\n    mainMenuSubOffsetX: 0,\n    // pixels offset from default position\n    mainMenuSubOffsetY: 0,\n    // pixels offset from default position\n    subMenusSubOffsetX: 0,\n    // pixels offset from default position\n    subMenusSubOffsetY: 0,\n    // pixels offset from default position\n    subMenusMinWidth: '10em',\n    // min-width for the sub menus (any CSS unit) - if set, the fixed width set in CSS will be ignored\n    subMenusMaxWidth: '20em',\n    // max-width for the sub menus (any CSS unit) - if set, the fixed width set in CSS will be ignored\n    subIndicators: true,\n    // create sub menu indicators - creates a SPAN and inserts it in the A\n    subIndicatorsPos: 'append',\n    // position of the SPAN relative to the menu item content ('append', 'prepend')\n    subIndicatorsText: '',\n    // [optionally] add text in the SPAN (e.g. '+') (you may want to check the CSS for the sub indicators too)\n    scrollStep: 30,\n    // pixels step when scrolling long sub menus that do not fit in the viewport height\n    scrollAccelerate: true,\n    // accelerate scrolling or use a fixed step\n    showTimeout: 250,\n    // timeout before showing the sub menus\n    hideTimeout: 500,\n    // timeout before hiding the sub menus\n    showDuration: 0,\n    // duration for show animation - set to 0 for no animation - matters only if showFunction:null\n    showFunction: null,\n    // custom function to use when showing a sub menu (the default is the jQuery 'show')\n    // don't forget to call complete() at the end of whatever you do\n    // e.g.: function($ul, complete) { $ul.fadeIn(250, complete); }\n    hideDuration: 0,\n    // duration for hide animation - set to 0 for no animation - matters only if hideFunction:null\n    hideFunction: function ($ul, complete) {\n      $ul.fadeOut(200, complete);\n    },\n    // custom function to use when hiding a sub menu (the default is the jQuery 'hide')\n    // don't forget to call complete() at the end of whatever you do\n    // e.g.: function($ul, complete) { $ul.fadeOut(250, complete); }\n    collapsibleShowDuration: 0,\n    // duration for show animation for collapsible sub menus - matters only if collapsibleShowFunction:null\n    collapsibleShowFunction: function ($ul, complete) {\n      $ul.slideDown(200, complete);\n    },\n    // custom function to use when showing a collapsible sub menu\n    // (i.e. when mobile styles are used to make the sub menus collapsible)\n    collapsibleHideDuration: 0,\n    // duration for hide animation for collapsible sub menus - matters only if collapsibleHideFunction:null\n    collapsibleHideFunction: function ($ul, complete) {\n      $ul.slideUp(200, complete);\n    },\n    // custom function to use when hiding a collapsible sub menu\n    // (i.e. when mobile styles are used to make the sub menus collapsible)\n    showOnClick: false,\n    // show the first-level sub menus onclick instead of onmouseover (i.e. mimic desktop app menus) (matters only for mouse input)\n    hideOnClick: true,\n    // hide the sub menus on click/tap anywhere on the page\n    noMouseOver: false,\n    // disable sub menus activation onmouseover (i.e. behave like in touch mode - use just mouse clicks) (matters only for mouse input)\n    keepInViewport: true,\n    // reposition the sub menus if needed to make sure they always appear inside the viewport\n    keepHighlighted: true,\n    // keep all ancestor items of the current sub menu highlighted (adds the 'highlighted' class to the A's)\n    markCurrentItem: false,\n    // automatically add the 'current' class to the A element of the item linking to the current URL\n    markCurrentTree: true,\n    // add the 'current' class also to the A elements of all ancestor items of the current item\n    rightToLeftSubMenus: false,\n    // right to left display of the sub menus (check the CSS for the sub indicators' position)\n    bottomToTopSubMenus: false,\n    // bottom to top display of the sub menus\n    collapsibleBehavior: 'default' // parent items behavior in collapsible (mobile) view ('default', 'toggle', 'link', 'accordion', 'accordion-toggle', 'accordion-link')\n    // 'default' - first tap on parent item expands sub, second tap loads its link\n    // 'toggle' - the whole parent item acts just as a toggle button for its sub menu (expands/collapses on each tap)\n    // 'link' - the parent item acts as a regular item (first tap loads its link), the sub menu can be expanded only via the +/- button\n    // 'accordion' - like 'default' but on expand also resets any visible sub menus from deeper levels or other branches\n    // 'accordion-toggle' - like 'toggle' but on expand also resets any visible sub menus from deeper levels or other branches\n    // 'accordion-link' - like 'link' but on expand also resets any visible sub menus from deeper levels or other branches\n\n  };\n  return $;\n});","map":{"version":3,"sources":["/Users/vijaysingh/ReactJS/skyably-app/node_modules/smartmenus/dist/jquery.smartmenus.js"],"names":["factory","define","amd","module","exports","require","jQuery","$","menuTrees","mouse","touchEvents","window","mouseDetectionEnabled","requestAnimationFrame","callback","setTimeout","cancelAnimationFrame","id","clearTimeout","canAnimate","fn","animate","initMouseDetection","disable","eNS","firstTime","lastMove","events","e","thisMove","x","pageX","y","pageY","timeStamp","Date","getTime","deltaX","Math","abs","deltaY","$a","target","closest","is","each","contains","$root","itemEnter","currentTarget","isTouchEvent","originalEvent","document","on","getEventsNS","off","test","pointerType","eventsNS","i","split","join","SmartMenus","elm","options","opts","rootId","accessIdPrefix","$subArrow","activatedItems","visibleSubMenus","showTimeout","hideTimeout","scrollTimeout","clickActivated","focusActivated","zIndexInc","idInc","$firstLink","$firstSub","disabled","$disableOverlay","$touchScrollingSub","cssTransforms3d","style","wasCollapsible","init","extend","hideAll","menuHideAll","destroy","length","prototype","refresh","self","push","random","replace","hasClass","rightToLeftSubMenus","data","attr","dataSM","proxy","rootOver","rootOut","rootKeyDown","itemLeave","itemDown","itemFocus","itemBlur","itemClick","hideOnClick","docTouchStart","docTouchMove","docTouchEnd","docClick","winResize","subIndicators","addClass","subIndicatorsText","html","find","menuInit","eq","markCurrentItem","reDefaultDoc","reHash","locHref","location","href","locHrefNoHash","$this","markCurrentTree","parentsUntil","isCollapsible","removeData","removeAttr","removeDataSM","remove","subMenusMinWidth","subMenusMaxWidth","css","width","minWidth","maxWidth","removeClass","zIndex","top","left","marginLeft","marginTop","display","indexOf","splice","inArray","noOverlay","isPopup","pos","offset","position","outerWidth","height","outerHeight","getStartZIndex","opacity","appendTo","body","lastTouch","x2","undefined","x1","y2","y1","touchPoint","touches","enable","getClosestMenu","$closestMenu","parent","getHeight","$elm","getOffset","old","visibility","show","box","getBoundingClientRect","val","bottom","right","offsetHeight","offsetWidth","hide","root","parseInt","isNaN","getTouchPoint","changedTouches","getViewport","name","documentElement","val2","min","getViewportHeight","getViewportWidth","getWidth","handleEvents","isCSSOn","handleItemEvents","isLinkInMegaMenu","isFixed","isTouchMode","noMouseOver","itemActivate","hideDeeperSubs","$ul","level","get","reverse","add","menuHideSubMenus","triggerHandler","$sub","showOnClick","menuShow","stopPropagation","firstLevelSub","subArrowClicked","collapsible","behaviorToggle","collapsibleBehavior","behaviorLink","behaviorAccordion","menuHide","blur","stop","complete","collapsibleHideFunction","call","collapsibleHideDuration","hideFunction","hideDuration","menuScrollStop","transform","par","parentNode","prevAll","aId","ulId","subIndicatorsPos","clone","menuPosition","$li","subW","subH","itemOffset","itemX","itemY","itemW","itemH","$win","winX","scrollLeft","winY","scrollTop","winW","winH","horizontalParent","rightToLeft","subOffsetX","mainMenuSubOffsetX","subMenusSubOffsetX","subOffsetY","mainMenuSubOffsetY","subMenusSubOffsetY","bottomToTopSubMenus","keepInViewport","absX","absY","mouseenter","up","menuScroll","mouseleave","menuScrollOut","preventDefault","insertAfter","step","arrowDownH","menuScrollOver","menuScrollMousewheel","menuScrollTouch","once","$arrows","end","upEnd","downEnd","diff","momentum","scrollAccelerate","scrollStep","floor","wheelDelta","detail","relatedTarget","className","menuScrollRefreshData","parseFloat","type","touchStartY","touchStartTime","prevY","touchY","pow","keepHighlighted","noMaxWidth","collapsibleShowFunction","collapsibleShowDuration","showFunction","showDuration","popupHide","noHideTimeout","popupShow","alert","keyCode","$activeTopItem","focus","$target","key","smartmenus","args","arguments","method","Array","shift","apply","dataOpts","eval","defaults","fadeOut","slideDown","slideUp"],"mappings":"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","sourcesContent":["/*!\n * SmartMenus jQuery Plugin - v1.1.1 - July 23, 2020\n * http://www.smartmenus.org/\n *\n * Copyright Vasil Dinkov, Vadikom Web Ltd.\n * http://vadikom.com\n *\n * Licensed MIT\n */\n\n(function(factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD\n\t\tdefine(['jquery'], factory);\n\t} else if (typeof module === 'object' && typeof module.exports === 'object') {\n\t\t// CommonJS\n\t\tmodule.exports = factory(require('jquery'));\n\t} else {\n\t\t// Global jQuery\n\t\tfactory(jQuery);\n\t}\n} (function($) {\n\n\tvar menuTrees = [],\n\t\tmouse = false, // optimize for touch by default - we will detect for mouse input\n\t\ttouchEvents = 'ontouchstart' in window, // we use this just to choose between toucn and pointer events, not for touch screen detection\n\t\tmouseDetectionEnabled = false,\n\t\trequestAnimationFrame = window.requestAnimationFrame || function(callback) { return setTimeout(callback, 1000 / 60); },\n\t\tcancelAnimationFrame = window.cancelAnimationFrame || function(id) { clearTimeout(id); },\n\t\tcanAnimate = !!$.fn.animate;\n\n\t// Handle detection for mouse input (i.e. desktop browsers, tablets with a mouse, etc.)\n\tfunction initMouseDetection(disable) {\n\t\tvar eNS = '.smartmenus_mouse';\n\t\tif (!mouseDetectionEnabled && !disable) {\n\t\t\t// if we get two consecutive mousemoves within 2 pixels from each other and within 300ms, we assume a real mouse/cursor is present\n\t\t\t// in practice, this seems like impossible to trick unintentianally with a real mouse and a pretty safe detection on touch devices (even with older browsers that do not support touch events)\n\t\t\tvar firstTime = true,\n\t\t\t\tlastMove = null,\n\t\t\t\tevents = {\n\t\t\t\t\t'mousemove': function(e) {\n\t\t\t\t\t\tvar thisMove = { x: e.pageX, y: e.pageY, timeStamp: new Date().getTime() };\n\t\t\t\t\t\tif (lastMove) {\n\t\t\t\t\t\t\tvar deltaX = Math.abs(lastMove.x - thisMove.x),\n\t\t\t\t\t\t\t\tdeltaY = Math.abs(lastMove.y - thisMove.y);\n\t\t \t\t\t\t\tif ((deltaX > 0 || deltaY > 0) && deltaX <= 4 && deltaY <= 4 && thisMove.timeStamp - lastMove.timeStamp <= 300) {\n\t\t\t\t\t\t\t\tmouse = true;\n\t\t\t\t\t\t\t\t// if this is the first check after page load, check if we are not over some item by chance and call the mouseenter handler if yes\n\t\t\t\t\t\t\t\tif (firstTime) {\n\t\t\t\t\t\t\t\t\tvar $a = $(e.target).closest('a');\n\t\t\t\t\t\t\t\t\tif ($a.is('a')) {\n\t\t\t\t\t\t\t\t\t\t$.each(menuTrees, function() {\n\t\t\t\t\t\t\t\t\t\t\tif ($.contains(this.$root[0], $a[0])) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.itemEnter({ currentTarget: $a[0] });\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfirstTime = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastMove = thisMove;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\tevents[touchEvents ? 'touchstart' : 'pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut'] = function(e) {\n\t\t\t\tif (isTouchEvent(e.originalEvent)) {\n\t\t\t\t\tmouse = false;\n\t\t\t\t}\n\t\t\t};\n\t\t\t$(document).on(getEventsNS(events, eNS));\n\t\t\tmouseDetectionEnabled = true;\n\t\t} else if (mouseDetectionEnabled && disable) {\n\t\t\t$(document).off(eNS);\n\t\t\tmouseDetectionEnabled = false;\n\t\t}\n\t}\n\n\tfunction isTouchEvent(e) {\n\t\treturn !/^(4|mouse)$/.test(e.pointerType);\n\t}\n\n\t// returns a jQuery on() ready object\n\tfunction getEventsNS(events, eNS) {\n\t\tif (!eNS) {\n\t\t\teNS = '';\n\t\t}\n\t\tvar eventsNS = {};\n\t\tfor (var i in events) {\n\t\t\teventsNS[i.split(' ').join(eNS + ' ') + eNS] = events[i];\n\t\t}\n\t\treturn eventsNS;\n\t}\n\n\t$.SmartMenus = function(elm, options) {\n\t\tthis.$root = $(elm);\n\t\tthis.opts = options;\n\t\tthis.rootId = ''; // internal\n\t\tthis.accessIdPrefix = '';\n\t\tthis.$subArrow = null;\n\t\tthis.activatedItems = []; // stores last activated A's for each level\n\t\tthis.visibleSubMenus = []; // stores visible sub menus UL's (might be in no particular order)\n\t\tthis.showTimeout = 0;\n\t\tthis.hideTimeout = 0;\n\t\tthis.scrollTimeout = 0;\n\t\tthis.clickActivated = false;\n\t\tthis.focusActivated = false;\n\t\tthis.zIndexInc = 0;\n\t\tthis.idInc = 0;\n\t\tthis.$firstLink = null; // we'll use these for some tests\n\t\tthis.$firstSub = null; // at runtime so we'll cache them\n\t\tthis.disabled = false;\n\t\tthis.$disableOverlay = null;\n\t\tthis.$touchScrollingSub = null;\n\t\tthis.cssTransforms3d = 'perspective' in elm.style || 'webkitPerspective' in elm.style;\n\t\tthis.wasCollapsible = false;\n\t\tthis.init();\n\t};\n\n\t$.extend($.SmartMenus, {\n\t\thideAll: function() {\n\t\t\t$.each(menuTrees, function() {\n\t\t\t\tthis.menuHideAll();\n\t\t\t});\n\t\t},\n\t\tdestroy: function() {\n\t\t\twhile (menuTrees.length) {\n\t\t\t\tmenuTrees[0].destroy();\n\t\t\t}\n\t\t\tinitMouseDetection(true);\n\t\t},\n\t\tprototype: {\n\t\t\tinit: function(refresh) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif (!refresh) {\n\t\t\t\t\tmenuTrees.push(this);\n\n\t\t\t\t\tthis.rootId = (new Date().getTime() + Math.random() + '').replace(/\\D/g, '');\n\t\t\t\t\tthis.accessIdPrefix = 'sm-' + this.rootId + '-';\n\n\t\t\t\t\tif (this.$root.hasClass('sm-rtl')) {\n\t\t\t\t\t\tthis.opts.rightToLeftSubMenus = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// init root (main menu)\n\t\t\t\t\tvar eNS = '.smartmenus';\n\t\t\t\t\tthis.$root\n\t\t\t\t\t\t.data('smartmenus', this)\n\t\t\t\t\t\t.attr('data-smartmenus-id', this.rootId)\n\t\t\t\t\t\t.dataSM('level', 1)\n\t\t\t\t\t\t.on(getEventsNS({\n\t\t\t\t\t\t\t'mouseover focusin': $.proxy(this.rootOver, this),\n\t\t\t\t\t\t\t'mouseout focusout': $.proxy(this.rootOut, this),\n\t\t\t\t\t\t\t'keydown': $.proxy(this.rootKeyDown, this)\n\t\t\t\t\t\t}, eNS))\n\t\t\t\t\t\t.on(getEventsNS({\n\t\t\t\t\t\t\t'mouseenter': $.proxy(this.itemEnter, this),\n\t\t\t\t\t\t\t'mouseleave': $.proxy(this.itemLeave, this),\n\t\t\t\t\t\t\t'mousedown': $.proxy(this.itemDown, this),\n\t\t\t\t\t\t\t'focus': $.proxy(this.itemFocus, this),\n\t\t\t\t\t\t\t'blur': $.proxy(this.itemBlur, this),\n\t\t\t\t\t\t\t'click': $.proxy(this.itemClick, this)\n\t\t\t\t\t\t}, eNS), 'a');\n\n\t\t\t\t\t// hide menus on tap or click outside the root UL\n\t\t\t\t\teNS += this.rootId;\n\t\t\t\t\tif (this.opts.hideOnClick) {\n\t\t\t\t\t\t$(document).on(getEventsNS({\n\t\t\t\t\t\t\t'touchstart': $.proxy(this.docTouchStart, this),\n\t\t\t\t\t\t\t'touchmove': $.proxy(this.docTouchMove, this),\n\t\t\t\t\t\t\t'touchend': $.proxy(this.docTouchEnd, this),\n\t\t\t\t\t\t\t// for Opera Mobile < 11.5, webOS browser, etc. we'll check click too\n\t\t\t\t\t\t\t'click': $.proxy(this.docClick, this)\n\t\t\t\t\t\t}, eNS));\n\t\t\t\t\t}\n\t\t\t\t\t// hide sub menus on resize\n\t\t\t\t\t$(window).on(getEventsNS({ 'resize orientationchange': $.proxy(this.winResize, this) }, eNS));\n\n\t\t\t\t\tif (this.opts.subIndicators) {\n\t\t\t\t\t\tthis.$subArrow = $('<span/>').addClass('sub-arrow');\n\t\t\t\t\t\tif (this.opts.subIndicatorsText) {\n\t\t\t\t\t\t\tthis.$subArrow.html(this.opts.subIndicatorsText);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// make sure mouse detection is enabled\n\t\t\t\t\tinitMouseDetection();\n\t\t\t\t}\n\n\t\t\t\t// init sub menus\n\t\t\t\tthis.$firstSub = this.$root.find('ul').each(function() { self.menuInit($(this)); }).eq(0);\n\n\t\t\t\tthis.$firstLink = this.$root.find('a').eq(0);\n\n\t\t\t\t// find current item\n\t\t\t\tif (this.opts.markCurrentItem) {\n\t\t\t\t\tvar reDefaultDoc = /(index|default)\\.[^#\\?\\/]*/i,\n\t\t\t\t\t\treHash = /#.*/,\n\t\t\t\t\t\tlocHref = window.location.href.replace(reDefaultDoc, ''),\n\t\t\t\t\t\tlocHrefNoHash = locHref.replace(reHash, '');\n\t\t\t\t\tthis.$root.find('a:not(.mega-menu a)').each(function() {\n\t\t\t\t\t\tvar href = this.href.replace(reDefaultDoc, ''),\n\t\t\t\t\t\t\t$this = $(this);\n\t\t\t\t\t\tif (href == locHref || href == locHrefNoHash) {\n\t\t\t\t\t\t\t$this.addClass('current');\n\t\t\t\t\t\t\tif (self.opts.markCurrentTree) {\n\t\t\t\t\t\t\t\t$this.parentsUntil('[data-smartmenus-id]', 'ul').each(function() {\n\t\t\t\t\t\t\t\t\t$(this).dataSM('parent-a').addClass('current');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// save initial state\n\t\t\t\tthis.wasCollapsible = this.isCollapsible();\n\t\t\t},\n\t\t\tdestroy: function(refresh) {\n\t\t\t\tif (!refresh) {\n\t\t\t\t\tvar eNS = '.smartmenus';\n\t\t\t\t\tthis.$root\n\t\t\t\t\t\t.removeData('smartmenus')\n\t\t\t\t\t\t.removeAttr('data-smartmenus-id')\n\t\t\t\t\t\t.removeDataSM('level')\n\t\t\t\t\t\t.off(eNS);\n\t\t\t\t\teNS += this.rootId;\n\t\t\t\t\t$(document).off(eNS);\n\t\t\t\t\t$(window).off(eNS);\n\t\t\t\t\tif (this.opts.subIndicators) {\n\t\t\t\t\t\tthis.$subArrow = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.menuHideAll();\n\t\t\t\tvar self = this;\n\t\t\t\tthis.$root.find('ul').each(function() {\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tif ($this.dataSM('scroll-arrows')) {\n\t\t\t\t\t\t\t$this.dataSM('scroll-arrows').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($this.dataSM('shown-before')) {\n\t\t\t\t\t\t\tif (self.opts.subMenusMinWidth || self.opts.subMenusMaxWidth) {\n\t\t\t\t\t\t\t\t$this.css({ width: '', minWidth: '', maxWidth: '' }).removeClass('sm-nowrap');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($this.dataSM('scroll-arrows')) {\n\t\t\t\t\t\t\t\t$this.dataSM('scroll-arrows').remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$this.css({ zIndex: '', top: '', left: '', marginLeft: '', marginTop: '', display: '' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (($this.attr('id') || '').indexOf(self.accessIdPrefix) == 0) {\n\t\t\t\t\t\t\t$this.removeAttr('id');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.removeDataSM('in-mega')\n\t\t\t\t\t.removeDataSM('shown-before')\n\t\t\t\t\t.removeDataSM('scroll-arrows')\n\t\t\t\t\t.removeDataSM('parent-a')\n\t\t\t\t\t.removeDataSM('level')\n\t\t\t\t\t.removeDataSM('beforefirstshowfired')\n\t\t\t\t\t.removeAttr('role')\n\t\t\t\t\t.removeAttr('aria-hidden')\n\t\t\t\t\t.removeAttr('aria-labelledby')\n\t\t\t\t\t.removeAttr('aria-expanded');\n\t\t\t\tthis.$root.find('a.has-submenu').each(function() {\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tif ($this.attr('id').indexOf(self.accessIdPrefix) == 0) {\n\t\t\t\t\t\t\t$this.removeAttr('id');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.removeClass('has-submenu')\n\t\t\t\t\t.removeDataSM('sub')\n\t\t\t\t\t.removeAttr('aria-haspopup')\n\t\t\t\t\t.removeAttr('aria-controls')\n\t\t\t\t\t.removeAttr('aria-expanded')\n\t\t\t\t\t.closest('li').removeDataSM('sub');\n\t\t\t\tif (this.opts.subIndicators) {\n\t\t\t\t\tthis.$root.find('span.sub-arrow').remove();\n\t\t\t\t}\n\t\t\t\tif (this.opts.markCurrentItem) {\n\t\t\t\t\tthis.$root.find('a.current').removeClass('current');\n\t\t\t\t}\n\t\t\t\tif (!refresh) {\n\t\t\t\t\tthis.$root = null;\n\t\t\t\t\tthis.$firstLink = null;\n\t\t\t\t\tthis.$firstSub = null;\n\t\t\t\t\tif (this.$disableOverlay) {\n\t\t\t\t\t\tthis.$disableOverlay.remove();\n\t\t\t\t\t\tthis.$disableOverlay = null;\n\t\t\t\t\t}\n\t\t\t\t\tmenuTrees.splice($.inArray(this, menuTrees), 1);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisable: function(noOverlay) {\n\t\t\t\tif (!this.disabled) {\n\t\t\t\t\tthis.menuHideAll();\n\t\t\t\t\t// display overlay over the menu to prevent interaction\n\t\t\t\t\tif (!noOverlay && !this.opts.isPopup && this.$root.is(':visible')) {\n\t\t\t\t\t\tvar pos = this.$root.offset();\n\t\t\t\t\t\tthis.$disableOverlay = $('<div class=\"sm-jquery-disable-overlay\"/>').css({\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: pos.top,\n\t\t\t\t\t\t\tleft: pos.left,\n\t\t\t\t\t\t\twidth: this.$root.outerWidth(),\n\t\t\t\t\t\t\theight: this.$root.outerHeight(),\n\t\t\t\t\t\t\tzIndex: this.getStartZIndex(true),\n\t\t\t\t\t\t\topacity: 0\n\t\t\t\t\t\t}).appendTo(document.body);\n\t\t\t\t\t}\n\t\t\t\t\tthis.disabled = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdocClick: function(e) {\n\t\t\t\tif (this.$touchScrollingSub) {\n\t\t\t\t\tthis.$touchScrollingSub = null;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// hide on any click outside the menu or on a menu link\n\t\t\t\tif (this.visibleSubMenus.length && !$.contains(this.$root[0], e.target) || $(e.target).closest('a').length) {\n\t\t\t\t\tthis.menuHideAll();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdocTouchEnd: function(e) {\n\t\t\t\tif (!this.lastTouch) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.visibleSubMenus.length && (this.lastTouch.x2 === undefined || this.lastTouch.x1 == this.lastTouch.x2) && (this.lastTouch.y2 === undefined || this.lastTouch.y1 == this.lastTouch.y2) && (!this.lastTouch.target || !$.contains(this.$root[0], this.lastTouch.target))) {\n\t\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// hide with a delay to prevent triggering accidental unwanted click on some page element\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.hideTimeout = setTimeout(function() { self.menuHideAll(); }, 350);\n\t\t\t\t}\n\t\t\t\tthis.lastTouch = null;\n\t\t\t},\n\t\t\tdocTouchMove: function(e) {\n\t\t\t\tif (!this.lastTouch) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar touchPoint = e.originalEvent.touches[0];\n\t\t\t\tthis.lastTouch.x2 = touchPoint.pageX;\n\t\t\t\tthis.lastTouch.y2 = touchPoint.pageY;\n\t\t\t},\n\t\t\tdocTouchStart: function(e) {\n\t\t\t\tvar touchPoint = e.originalEvent.touches[0];\n\t\t\t\tthis.lastTouch = { x1: touchPoint.pageX, y1: touchPoint.pageY, target: touchPoint.target };\n\t\t\t},\n\t\t\tenable: function() {\n\t\t\t\tif (this.disabled) {\n\t\t\t\t\tif (this.$disableOverlay) {\n\t\t\t\t\t\tthis.$disableOverlay.remove();\n\t\t\t\t\t\tthis.$disableOverlay = null;\n\t\t\t\t\t}\n\t\t\t\t\tthis.disabled = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetClosestMenu: function(elm) {\n\t\t\t\tvar $closestMenu = $(elm).closest('ul');\n\t\t\t\twhile ($closestMenu.dataSM('in-mega')) {\n\t\t\t\t\t$closestMenu = $closestMenu.parent().closest('ul');\n\t\t\t\t}\n\t\t\t\treturn $closestMenu[0] || null;\n\t\t\t},\n\t\t\tgetHeight: function($elm) {\n\t\t\t\treturn this.getOffset($elm, true);\n\t\t\t},\n\t\t\t// returns precise width/height float values\n\t\t\tgetOffset: function($elm, height) {\n\t\t\t\tvar old;\n\t\t\t\tif ($elm.css('display') == 'none') {\n\t\t\t\t\told = { position: $elm[0].style.position, visibility: $elm[0].style.visibility };\n\t\t\t\t\t$elm.css({ position: 'absolute', visibility: 'hidden' }).show();\n\t\t\t\t}\n\t\t\t\tvar box = $elm[0].getBoundingClientRect && $elm[0].getBoundingClientRect(),\n\t\t\t\t\tval = box && (height ? box.height || box.bottom - box.top : box.width || box.right - box.left);\n\t\t\t\tif (!val && val !== 0) {\n\t\t\t\t\tval = height ? $elm[0].offsetHeight : $elm[0].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (old) {\n\t\t\t\t\t$elm.hide().css(old);\n\t\t\t\t}\n\t\t\t\treturn val;\n\t\t\t},\n\t\t\tgetStartZIndex: function(root) {\n\t\t\t\tvar zIndex = parseInt(this[root ? '$root' : '$firstSub'].css('z-index'));\n\t\t\t\tif (!root && isNaN(zIndex)) {\n\t\t\t\t\tzIndex = parseInt(this.$root.css('z-index'));\n\t\t\t\t}\n\t\t\t\treturn !isNaN(zIndex) ? zIndex : 1;\n\t\t\t},\n\t\t\tgetTouchPoint: function(e) {\n\t\t\t\treturn e.touches && e.touches[0] || e.changedTouches && e.changedTouches[0] || e;\n\t\t\t},\n\t\t\tgetViewport: function(height) {\n\t\t\t\tvar name = height ? 'Height' : 'Width',\n\t\t\t\t\tval = document.documentElement['client' + name],\n\t\t\t\t\tval2 = window['inner' + name];\n\t\t\t\tif (val2) {\n\t\t\t\t\tval = Math.min(val, val2);\n\t\t\t\t}\n\t\t\t\treturn val;\n\t\t\t},\n\t\t\tgetViewportHeight: function() {\n\t\t\t\treturn this.getViewport(true);\n\t\t\t},\n\t\t\tgetViewportWidth: function() {\n\t\t\t\treturn this.getViewport();\n\t\t\t},\n\t\t\tgetWidth: function($elm) {\n\t\t\t\treturn this.getOffset($elm);\n\t\t\t},\n\t\t\thandleEvents: function() {\n\t\t\t\treturn !this.disabled && this.isCSSOn();\n\t\t\t},\n\t\t\thandleItemEvents: function($a) {\n\t\t\t\treturn this.handleEvents() && !this.isLinkInMegaMenu($a);\n\t\t\t},\n\t\t\tisCollapsible: function() {\n\t\t\t\treturn this.$firstSub.css('position') == 'static';\n\t\t\t},\n\t\t\tisCSSOn: function() {\n\t\t\t\treturn this.$firstLink.css('display') != 'inline';\n\t\t\t},\n\t\t\tisFixed: function() {\n\t\t\t\tvar isFixed = this.$root.css('position') == 'fixed';\n\t\t\t\tif (!isFixed) {\n\t\t\t\t\tthis.$root.parentsUntil('body').each(function() {\n\t\t\t\t\t\tif ($(this).css('position') == 'fixed') {\n\t\t\t\t\t\t\tisFixed = true;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn isFixed;\n\t\t\t},\n\t\t\tisLinkInMegaMenu: function($a) {\n\t\t\t\treturn $(this.getClosestMenu($a[0])).hasClass('mega-menu');\n\t\t\t},\n\t\t\tisTouchMode: function() {\n\t\t\t\treturn !mouse || this.opts.noMouseOver || this.isCollapsible();\n\t\t\t},\n\t\t\titemActivate: function($a, hideDeeperSubs) {\n\t\t\t\tvar $ul = $a.closest('ul'),\n\t\t\t\t\tlevel = $ul.dataSM('level');\n\t\t\t\t// if for some reason the parent item is not activated (e.g. this is an API call to activate the item), activate all parent items first\n\t\t\t\tif (level > 1 && (!this.activatedItems[level - 2] || this.activatedItems[level - 2][0] != $ul.dataSM('parent-a')[0])) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\t$($ul.parentsUntil('[data-smartmenus-id]', 'ul').get().reverse()).add($ul).each(function() {\n\t\t\t\t\t\tself.itemActivate($(this).dataSM('parent-a'));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// hide any visible deeper level sub menus\n\t\t\t\tif (!this.isCollapsible() || hideDeeperSubs) {\n\t\t\t\t\tthis.menuHideSubMenus(!this.activatedItems[level - 1] || this.activatedItems[level - 1][0] != $a[0] ? level - 1 : level);\n\t\t\t\t}\n\t\t\t\t// save new active item for this level\n\t\t\t\tthis.activatedItems[level - 1] = $a;\n\t\t\t\tif (this.$root.triggerHandler('activate.smapi', $a[0]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// show the sub menu if this item has one\n\t\t\t\tvar $sub = $a.dataSM('sub');\n\t\t\t\tif ($sub && (this.isTouchMode() || (!this.opts.showOnClick || this.clickActivated))) {\n\t\t\t\t\tthis.menuShow($sub);\n\t\t\t\t}\n\t\t\t},\n\t\t\titemBlur: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$root.triggerHandler('blur.smapi', $a[0]);\n\t\t\t},\n\t\t\titemClick: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.$touchScrollingSub && this.$touchScrollingSub[0] == $a.closest('ul')[0]) {\n\t\t\t\t\tthis.$touchScrollingSub = null;\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.$root.triggerHandler('click.smapi', $a[0]) === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar $sub = $a.dataSM('sub'),\n\t\t\t\t\tfirstLevelSub = $sub ? $sub.dataSM('level') == 2 : false;\n\t\t\t\tif ($sub) {\n\t\t\t\t\tvar subArrowClicked = $(e.target).is('.sub-arrow'),\n\t\t\t\t\t\tcollapsible = this.isCollapsible(),\n\t\t\t\t\t\tbehaviorToggle = /toggle$/.test(this.opts.collapsibleBehavior),\n\t\t\t\t\t\tbehaviorLink = /link$/.test(this.opts.collapsibleBehavior),\n\t\t\t\t\t\tbehaviorAccordion = /^accordion/.test(this.opts.collapsibleBehavior);\n\t\t\t\t\t// if the sub is hidden, try to show it\n\t\t\t\t\tif (!$sub.is(':visible')) {\n\t\t\t\t\t\tif (!behaviorLink || !collapsible || subArrowClicked) {\n\t\t\t\t\t\t\tif (!collapsible && this.opts.showOnClick && firstLevelSub) {\n\t\t\t\t\t\t\t\tthis.clickActivated = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// try to activate the item and show the sub\n\t\t\t\t\t\t\tthis.itemActivate($a, behaviorAccordion);\n\t\t\t\t\t\t\t// if \"itemActivate\" showed the sub, prevent the click so that the link is not loaded\n\t\t\t\t\t\t\t// if it couldn't show it, then the sub menus are disabled with an !important declaration (e.g. via mobile styles) so let the link get loaded\n\t\t\t\t\t\t\tif ($sub.is(':visible')) {\n\t\t\t\t\t\t\t\tthis.focusActivated = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t// if the sub is visible and showOnClick: true, hide the sub\n\t\t\t\t\t} else if (!collapsible && this.opts.showOnClick && firstLevelSub) {\n\t\t\t\t\t\tthis.menuHide($sub);\n\t\t\t\t\t\tthis.clickActivated = false;\n\t\t\t\t\t\tthis.focusActivated = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t// if the sub is visible and we are in collapsible mode\n\t\t\t\t\t} else if (collapsible && (behaviorToggle || subArrowClicked)) {\n\t\t\t\t\t\tthis.itemActivate($a, behaviorAccordion);\n\t\t\t\t\t\tthis.menuHide($sub);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!collapsible && this.opts.showOnClick && firstLevelSub || $a.hasClass('disabled') || this.$root.triggerHandler('select.smapi', $a[0]) === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\titemDown: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$a.dataSM('mousedown', true);\n\t\t\t},\n\t\t\titemEnter: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.isTouchMode()) {\n\t\t\t\t\tif (this.showTimeout) {\n\t\t\t\t\t\tclearTimeout(this.showTimeout);\n\t\t\t\t\t\tthis.showTimeout = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.showTimeout = setTimeout(function() { self.itemActivate($a); }, this.opts.showOnClick && $a.closest('ul').dataSM('level') == 1 ? 1 : this.opts.showTimeout);\n\t\t\t\t}\n\t\t\t\tthis.$root.triggerHandler('mouseenter.smapi', $a[0]);\n\t\t\t},\n\t\t\titemFocus: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// fix (the mousedown check): in some browsers a tap/click produces consecutive focus + click events so we don't need to activate the item on focus\n\t\t\t\tif (this.focusActivated && (!this.isTouchMode() || !$a.dataSM('mousedown')) && (!this.activatedItems.length || this.activatedItems[this.activatedItems.length - 1][0] != $a[0])) {\n\t\t\t\t\tthis.itemActivate($a, true);\n\t\t\t\t}\n\t\t\t\tthis.$root.triggerHandler('focus.smapi', $a[0]);\n\t\t\t},\n\t\t\titemLeave: function(e) {\n\t\t\t\tvar $a = $(e.currentTarget);\n\t\t\t\tif (!this.handleItemEvents($a)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.isTouchMode()) {\n\t\t\t\t\t$a[0].blur();\n\t\t\t\t\tif (this.showTimeout) {\n\t\t\t\t\t\tclearTimeout(this.showTimeout);\n\t\t\t\t\t\tthis.showTimeout = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$a.removeDataSM('mousedown');\n\t\t\t\tthis.$root.triggerHandler('mouseleave.smapi', $a[0]);\n\t\t\t},\n\t\t\tmenuHide: function($sub) {\n\t\t\t\tif (this.$root.triggerHandler('beforehide.smapi', $sub[0]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (canAnimate) {\n\t\t\t\t\t$sub.stop(true, true);\n\t\t\t\t}\n\t\t\t\tif ($sub.css('display') != 'none') {\n\t\t\t\t\tvar complete = function() {\n\t\t\t\t\t\t// unset z-index\n\t\t\t\t\t\t$sub.css('z-index', '');\n\t\t\t\t\t};\n\t\t\t\t\t// if sub is collapsible (mobile view)\n\t\t\t\t\tif (this.isCollapsible()) {\n\t\t\t\t\t\tif (canAnimate && this.opts.collapsibleHideFunction) {\n\t\t\t\t\t\t\tthis.opts.collapsibleHideFunction.call(this, $sub, complete);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$sub.hide(this.opts.collapsibleHideDuration, complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (canAnimate && this.opts.hideFunction) {\n\t\t\t\t\t\t\tthis.opts.hideFunction.call(this, $sub, complete);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$sub.hide(this.opts.hideDuration, complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// deactivate scrolling if it is activated for this sub\n\t\t\t\t\tif ($sub.dataSM('scroll')) {\n\t\t\t\t\t\tthis.menuScrollStop($sub);\n\t\t\t\t\t\t$sub.css({ 'touch-action': '', '-ms-touch-action': '', '-webkit-transform': '', transform: '' })\n\t\t\t\t\t\t\t.off('.smartmenus_scroll').removeDataSM('scroll').dataSM('scroll-arrows').hide();\n\t\t\t\t\t}\n\t\t\t\t\t// unhighlight parent item + accessibility\n\t\t\t\t\t$sub.dataSM('parent-a').removeClass('highlighted').attr('aria-expanded', 'false');\n\t\t\t\t\t$sub.attr({\n\t\t\t\t\t\t'aria-expanded': 'false',\n\t\t\t\t\t\t'aria-hidden': 'true'\n\t\t\t\t\t});\n\t\t\t\t\tvar level = $sub.dataSM('level');\n\t\t\t\t\tthis.activatedItems.splice(level - 1, 1);\n\t\t\t\t\tthis.visibleSubMenus.splice($.inArray($sub, this.visibleSubMenus), 1);\n\t\t\t\t\tthis.$root.triggerHandler('hide.smapi', $sub[0]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuHideAll: function() {\n\t\t\t\tif (this.showTimeout) {\n\t\t\t\t\tclearTimeout(this.showTimeout);\n\t\t\t\t\tthis.showTimeout = 0;\n\t\t\t\t}\n\t\t\t\t// hide all subs\n\t\t\t\t// if it's a popup, this.visibleSubMenus[0] is the root UL\n\t\t\t\tvar level = this.opts.isPopup ? 1 : 0;\n\t\t\t\tfor (var i = this.visibleSubMenus.length - 1; i >= level; i--) {\n\t\t\t\t\tthis.menuHide(this.visibleSubMenus[i]);\n\t\t\t\t}\n\t\t\t\t// hide root if it's popup\n\t\t\t\tif (this.opts.isPopup) {\n\t\t\t\t\tif (canAnimate) {\n\t\t\t\t\t\tthis.$root.stop(true, true);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.$root.is(':visible')) {\n\t\t\t\t\t\tif (canAnimate && this.opts.hideFunction) {\n\t\t\t\t\t\t\tthis.opts.hideFunction.call(this, this.$root);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$root.hide(this.opts.hideDuration);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.activatedItems = [];\n\t\t\t\tthis.visibleSubMenus = [];\n\t\t\t\tthis.clickActivated = false;\n\t\t\t\tthis.focusActivated = false;\n\t\t\t\t// reset z-index increment\n\t\t\t\tthis.zIndexInc = 0;\n\t\t\t\tthis.$root.triggerHandler('hideAll.smapi');\n\t\t\t},\n\t\t\tmenuHideSubMenus: function(level) {\n\t\t\t\tfor (var i = this.activatedItems.length - 1; i >= level; i--) {\n\t\t\t\t\tvar $sub = this.activatedItems[i].dataSM('sub');\n\t\t\t\t\tif ($sub) {\n\t\t\t\t\t\tthis.menuHide($sub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuInit: function($ul) {\n\t\t\t\tif (!$ul.dataSM('in-mega')) {\n\t\t\t\t\t// mark UL's in mega drop downs (if any) so we can neglect them\n\t\t\t\t\tif ($ul.hasClass('mega-menu')) {\n\t\t\t\t\t\t$ul.find('ul').dataSM('in-mega', true);\n\t\t\t\t\t}\n\t\t\t\t\t// get level (much faster than, for example, using parentsUntil)\n\t\t\t\t\tvar level = 2,\n\t\t\t\t\t\tpar = $ul[0];\n\t\t\t\t\twhile ((par = par.parentNode.parentNode) != this.$root[0]) {\n\t\t\t\t\t\tlevel++;\n\t\t\t\t\t}\n\t\t\t\t\t// cache stuff for quick access\n\t\t\t\t\tvar $a = $ul.prevAll('a').eq(-1);\n\t\t\t\t\t// if the link is nested (e.g. in a heading)\n\t\t\t\t\tif (!$a.length) {\n\t\t\t\t\t\t$a = $ul.prevAll().find('a').eq(-1);\n\t\t\t\t\t}\n\t\t\t\t\t$a.addClass('has-submenu').dataSM('sub', $ul);\n\t\t\t\t\t$ul.dataSM('parent-a', $a)\n\t\t\t\t\t\t.dataSM('level', level)\n\t\t\t\t\t\t.parent().dataSM('sub', $ul);\n\t\t\t\t\t// accessibility\n\t\t\t\t\tvar aId = $a.attr('id') || this.accessIdPrefix + (++this.idInc),\n\t\t\t\t\t\tulId = $ul.attr('id') || this.accessIdPrefix + (++this.idInc);\n\t\t\t\t\t$a.attr({\n\t\t\t\t\t\tid: aId,\n\t\t\t\t\t\t'aria-haspopup': 'true',\n\t\t\t\t\t\t'aria-controls': ulId,\n\t\t\t\t\t\t'aria-expanded': 'false'\n\t\t\t\t\t});\n\t\t\t\t\t$ul.attr({\n\t\t\t\t\t\tid: ulId,\n\t\t\t\t\t\t'role': 'group',\n\t\t\t\t\t\t'aria-hidden': 'true',\n\t\t\t\t\t\t'aria-labelledby': aId,\n\t\t\t\t\t\t'aria-expanded': 'false'\n\t\t\t\t\t});\n\t\t\t\t\t// add sub indicator to parent item\n\t\t\t\t\tif (this.opts.subIndicators) {\n\t\t\t\t\t\t$a[this.opts.subIndicatorsPos](this.$subArrow.clone());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuPosition: function($sub) {\n\t\t\t\tvar $a = $sub.dataSM('parent-a'),\n\t\t\t\t\t$li = $a.closest('li'),\n\t\t\t\t\t$ul = $li.parent(),\n\t\t\t\t\tlevel = $sub.dataSM('level'),\n\t\t\t\t\tsubW = this.getWidth($sub),\n\t\t\t\t\tsubH = this.getHeight($sub),\n\t\t\t\t\titemOffset = $a.offset(),\n\t\t\t\t\titemX = itemOffset.left,\n\t\t\t\t\titemY = itemOffset.top,\n\t\t\t\t\titemW = this.getWidth($a),\n\t\t\t\t\titemH = this.getHeight($a),\n\t\t\t\t\t$win = $(window),\n\t\t\t\t\twinX = $win.scrollLeft(),\n\t\t\t\t\twinY = $win.scrollTop(),\n\t\t\t\t\twinW = this.getViewportWidth(),\n\t\t\t\t\twinH = this.getViewportHeight(),\n\t\t\t\t\thorizontalParent = $ul.parent().is('[data-sm-horizontal-sub]') || level == 2 && !$ul.hasClass('sm-vertical'),\n\t\t\t\t\trightToLeft = this.opts.rightToLeftSubMenus && !$li.is('[data-sm-reverse]') || !this.opts.rightToLeftSubMenus && $li.is('[data-sm-reverse]'),\n\t\t\t\t\tsubOffsetX = level == 2 ? this.opts.mainMenuSubOffsetX : this.opts.subMenusSubOffsetX,\n\t\t\t\t\tsubOffsetY = level == 2 ? this.opts.mainMenuSubOffsetY : this.opts.subMenusSubOffsetY,\n\t\t\t\t\tx, y;\n\t\t\t\tif (horizontalParent) {\n\t\t\t\t\tx = rightToLeft ? itemW - subW - subOffsetX : subOffsetX;\n\t\t\t\t\ty = this.opts.bottomToTopSubMenus ? -subH - subOffsetY : itemH + subOffsetY;\n\t\t\t\t} else {\n\t\t\t\t\tx = rightToLeft ? subOffsetX - subW : itemW - subOffsetX;\n\t\t\t\t\ty = this.opts.bottomToTopSubMenus ? itemH - subOffsetY - subH : subOffsetY;\n\t\t\t\t}\n\t\t\t\tif (this.opts.keepInViewport) {\n\t\t\t\t\tvar absX = itemX + x,\n\t\t\t\t\t\tabsY = itemY + y;\n\t\t\t\t\tif (rightToLeft && absX < winX) {\n\t\t\t\t\t\tx = horizontalParent ? winX - absX + x : itemW - subOffsetX;\n\t\t\t\t\t} else if (!rightToLeft && absX + subW > winX + winW) {\n\t\t\t\t\t\tx = horizontalParent ? winX + winW - subW - absX + x : subOffsetX - subW;\n\t\t\t\t\t}\n\t\t\t\t\tif (!horizontalParent) {\n\t\t\t\t\t\tif (subH < winH && absY + subH > winY + winH) {\n\t\t\t\t\t\t\ty += winY + winH - subH - absY;\n\t\t\t\t\t\t} else if (subH >= winH || absY < winY) {\n\t\t\t\t\t\t\ty += winY - absY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// do we need scrolling?\n\t\t\t\t\t// 0.49 used for better precision when dealing with float values\n\t\t\t\t\tif (horizontalParent && (absY + subH > winY + winH + 0.49 || absY < winY) || !horizontalParent && subH > winH + 0.49) {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tif (!$sub.dataSM('scroll-arrows')) {\n\t\t\t\t\t\t\t$sub.dataSM('scroll-arrows', $([$('<span class=\"scroll-up\"><span class=\"scroll-up-arrow\"></span></span>')[0], $('<span class=\"scroll-down\"><span class=\"scroll-down-arrow\"></span></span>')[0]])\n\t\t\t\t\t\t\t\t.on({\n\t\t\t\t\t\t\t\t\tmouseenter: function() {\n\t\t\t\t\t\t\t\t\t\t$sub.dataSM('scroll').up = $(this).hasClass('scroll-up');\n\t\t\t\t\t\t\t\t\t\tself.menuScroll($sub);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tmouseleave: function(e) {\n\t\t\t\t\t\t\t\t\t\tself.menuScrollStop($sub);\n\t\t\t\t\t\t\t\t\t\tself.menuScrollOut($sub, e);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'mousewheel DOMMouseScroll': function(e) { e.preventDefault(); }\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.insertAfter($sub)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// bind scroll events and save scroll data for this sub\n\t\t\t\t\t\tvar eNS = '.smartmenus_scroll';\n\t\t\t\t\t\t$sub.dataSM('scroll', {\n\t\t\t\t\t\t\t\ty: this.cssTransforms3d ? 0 : y - itemH,\n\t\t\t\t\t\t\t\tstep: 1,\n\t\t\t\t\t\t\t\t// cache stuff for faster recalcs later\n\t\t\t\t\t\t\t\titemH: itemH,\n\t\t\t\t\t\t\t\tsubH: subH,\n\t\t\t\t\t\t\t\tarrowDownH: this.getHeight($sub.dataSM('scroll-arrows').eq(1))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on(getEventsNS({\n\t\t\t\t\t\t\t\t'mouseover': function(e) { self.menuScrollOver($sub, e); },\n\t\t\t\t\t\t\t\t'mouseout': function(e) { self.menuScrollOut($sub, e); },\n\t\t\t\t\t\t\t\t'mousewheel DOMMouseScroll': function(e) { self.menuScrollMousewheel($sub, e); }\n\t\t\t\t\t\t\t}, eNS))\n\t\t\t\t\t\t\t.dataSM('scroll-arrows').css({ top: 'auto', left: '0', marginLeft: x + (parseInt($sub.css('border-left-width')) || 0), width: subW - (parseInt($sub.css('border-left-width')) || 0) - (parseInt($sub.css('border-right-width')) || 0), zIndex: $sub.css('z-index') })\n\t\t\t\t\t\t\t\t.eq(horizontalParent && this.opts.bottomToTopSubMenus ? 0 : 1).show();\n\t\t\t\t\t\t// when a menu tree is fixed positioned we allow scrolling via touch too\n\t\t\t\t\t\t// since there is no other way to access such long sub menus if no mouse is present\n\t\t\t\t\t\tif (this.isFixed()) {\n\t\t\t\t\t\t\tvar events = {};\n\t\t\t\t\t\t\tevents[touchEvents ? 'touchstart touchmove touchend' : 'pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp'] = function(e) {\n\t\t\t\t\t\t\t\tself.menuScrollTouch($sub, e);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t$sub.css({ 'touch-action': 'none', '-ms-touch-action': 'none' }).on(getEventsNS(events, eNS));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$sub.css({ top: 'auto', left: '0', marginLeft: x, marginTop: y - itemH });\n\t\t\t},\n\t\t\tmenuScroll: function($sub, once, step) {\n\t\t\t\tvar data = $sub.dataSM('scroll'),\n\t\t\t\t\t$arrows = $sub.dataSM('scroll-arrows'),\n\t\t\t\t\tend = data.up ? data.upEnd : data.downEnd,\n\t\t\t\t\tdiff;\n\t\t\t\tif (!once && data.momentum) {\n\t\t\t\t\tdata.momentum *= 0.92;\n\t\t\t\t\tdiff = data.momentum;\n\t\t\t\t\tif (diff < 0.5) {\n\t\t\t\t\t\tthis.menuScrollStop($sub);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdiff = step || (once || !this.opts.scrollAccelerate ? this.opts.scrollStep : Math.floor(data.step));\n\t\t\t\t}\n\t\t\t\t// hide any visible deeper level sub menus\n\t\t\t\tvar level = $sub.dataSM('level');\n\t\t\t\tif (this.activatedItems[level - 1] && this.activatedItems[level - 1].dataSM('sub') && this.activatedItems[level - 1].dataSM('sub').is(':visible')) {\n\t\t\t\t\tthis.menuHideSubMenus(level - 1);\n\t\t\t\t}\n\t\t\t\tdata.y = data.up && end <= data.y || !data.up && end >= data.y ? data.y : (Math.abs(end - data.y) > diff ? data.y + (data.up ? diff : -diff) : end);\n\t\t\t\t$sub.css(this.cssTransforms3d ? { '-webkit-transform': 'translate3d(0, ' + data.y + 'px, 0)', transform: 'translate3d(0, ' + data.y + 'px, 0)' } : { marginTop: data.y });\n\t\t\t\t// show opposite arrow if appropriate\n\t\t\t\tif (mouse && (data.up && data.y > data.downEnd || !data.up && data.y < data.upEnd)) {\n\t\t\t\t\t$arrows.eq(data.up ? 1 : 0).show();\n\t\t\t\t}\n\t\t\t\t// if we've reached the end\n\t\t\t\tif (data.y == end) {\n\t\t\t\t\tif (mouse) {\n\t\t\t\t\t\t$arrows.eq(data.up ? 0 : 1).hide();\n\t\t\t\t\t}\n\t\t\t\t\tthis.menuScrollStop($sub);\n\t\t\t\t} else if (!once) {\n\t\t\t\t\tif (this.opts.scrollAccelerate && data.step < this.opts.scrollStep) {\n\t\t\t\t\t\tdata.step += 0.2;\n\t\t\t\t\t}\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.scrollTimeout = requestAnimationFrame(function() { self.menuScroll($sub); });\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScrollMousewheel: function($sub, e) {\n\t\t\t\tif (this.getClosestMenu(e.target) == $sub[0]) {\n\t\t\t\t\te = e.originalEvent;\n\t\t\t\t\tvar up = (e.wheelDelta || -e.detail) > 0;\n\t\t\t\t\tif ($sub.dataSM('scroll-arrows').eq(up ? 0 : 1).is(':visible')) {\n\t\t\t\t\t\t$sub.dataSM('scroll').up = up;\n\t\t\t\t\t\tthis.menuScroll($sub, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t},\n\t\t\tmenuScrollOut: function($sub, e) {\n\t\t\t\tif (mouse) {\n\t\t\t\t\tif (!/^scroll-(up|down)/.test((e.relatedTarget || '').className) && ($sub[0] != e.relatedTarget && !$.contains($sub[0], e.relatedTarget) || this.getClosestMenu(e.relatedTarget) != $sub[0])) {\n\t\t\t\t\t\t$sub.dataSM('scroll-arrows').css('visibility', 'hidden');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScrollOver: function($sub, e) {\n\t\t\t\tif (mouse) {\n\t\t\t\t\tif (!/^scroll-(up|down)/.test(e.target.className) && this.getClosestMenu(e.target) == $sub[0]) {\n\t\t\t\t\t\tthis.menuScrollRefreshData($sub);\n\t\t\t\t\t\tvar data = $sub.dataSM('scroll'),\n\t\t\t\t\t\t\tupEnd = $(window).scrollTop() - $sub.dataSM('parent-a').offset().top - data.itemH;\n\t\t\t\t\t\t$sub.dataSM('scroll-arrows').eq(0).css('margin-top', upEnd).end()\n\t\t\t\t\t\t\t.eq(1).css('margin-top', upEnd + this.getViewportHeight() - data.arrowDownH).end()\n\t\t\t\t\t\t\t.css('visibility', 'visible');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScrollRefreshData: function($sub) {\n\t\t\t\tvar data = $sub.dataSM('scroll'),\n\t\t\t\t\tupEnd = $(window).scrollTop() - $sub.dataSM('parent-a').offset().top - data.itemH;\n\t\t\t\tif (this.cssTransforms3d) {\n\t\t\t\t\tupEnd = -(parseFloat($sub.css('margin-top')) - upEnd);\n\t\t\t\t}\n\t\t\t\t$.extend(data, {\n\t\t\t\t\tupEnd: upEnd,\n\t\t\t\t\tdownEnd: upEnd + this.getViewportHeight() - data.subH\n\t\t\t\t});\n\t\t\t},\n\t\t\tmenuScrollStop: function($sub) {\n\t\t\t\tif (this.scrollTimeout) {\n\t\t\t\t\tcancelAnimationFrame(this.scrollTimeout);\n\t\t\t\t\tthis.scrollTimeout = 0;\n\t\t\t\t\t$sub.dataSM('scroll').step = 1;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuScrollTouch: function($sub, e) {\n\t\t\t\te = e.originalEvent;\n\t\t\t\tif (isTouchEvent(e)) {\n\t\t\t\t\tvar touchPoint = this.getTouchPoint(e);\n\t\t\t\t\t// neglect event if we touched a visible deeper level sub menu\n\t\t\t\t\tif (this.getClosestMenu(touchPoint.target) == $sub[0]) {\n\t\t\t\t\t\tvar data = $sub.dataSM('scroll');\n\t\t\t\t\t\tif (/(start|down)$/i.test(e.type)) {\n\t\t\t\t\t\t\tif (this.menuScrollStop($sub)) {\n\t\t\t\t\t\t\t\t// if we were scrolling, just stop and don't activate any link on the first touch\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tthis.$touchScrollingSub = $sub;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.$touchScrollingSub = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// update scroll data since the user might have zoomed, etc.\n\t\t\t\t\t\t\tthis.menuScrollRefreshData($sub);\n\t\t\t\t\t\t\t// extend it with the touch properties\n\t\t\t\t\t\t\t$.extend(data, {\n\t\t\t\t\t\t\t\ttouchStartY: touchPoint.pageY,\n\t\t\t\t\t\t\t\ttouchStartTime: e.timeStamp\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (/move$/i.test(e.type)) {\n\t\t\t\t\t\t\tvar prevY = data.touchY !== undefined ? data.touchY : data.touchStartY;\n\t\t\t\t\t\t\tif (prevY !== undefined && prevY != touchPoint.pageY) {\n\t\t\t\t\t\t\t\tthis.$touchScrollingSub = $sub;\n\t\t\t\t\t\t\t\tvar up = prevY < touchPoint.pageY;\n\t\t\t\t\t\t\t\t// changed direction? reset...\n\t\t\t\t\t\t\t\tif (data.up !== undefined && data.up != up) {\n\t\t\t\t\t\t\t\t\t$.extend(data, {\n\t\t\t\t\t\t\t\t\t\ttouchStartY: touchPoint.pageY,\n\t\t\t\t\t\t\t\t\t\ttouchStartTime: e.timeStamp\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$.extend(data, {\n\t\t\t\t\t\t\t\t\tup: up,\n\t\t\t\t\t\t\t\t\ttouchY: touchPoint.pageY\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.menuScroll($sub, true, Math.abs(touchPoint.pageY - prevY));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t} else { // touchend/pointerup\n\t\t\t\t\t\t\tif (data.touchY !== undefined) {\n\t\t\t\t\t\t\t\tif (data.momentum = Math.pow(Math.abs(touchPoint.pageY - data.touchStartY) / (e.timeStamp - data.touchStartTime), 2) * 15) {\n\t\t\t\t\t\t\t\t\tthis.menuScrollStop($sub);\n\t\t\t\t\t\t\t\t\tthis.menuScroll($sub);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdelete data.touchY;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuShow: function($sub) {\n\t\t\t\tif (!$sub.dataSM('beforefirstshowfired')) {\n\t\t\t\t\t$sub.dataSM('beforefirstshowfired', true);\n\t\t\t\t\tif (this.$root.triggerHandler('beforefirstshow.smapi', $sub[0]) === false) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.$root.triggerHandler('beforeshow.smapi', $sub[0]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$sub.dataSM('shown-before', true);\n\t\t\t\tif (canAnimate) {\n\t\t\t\t\t$sub.stop(true, true);\n\t\t\t\t}\n\t\t\t\tif (!$sub.is(':visible')) {\n\t\t\t\t\t// highlight parent item\n\t\t\t\t\tvar $a = $sub.dataSM('parent-a'),\n\t\t\t\t\t\tcollapsible = this.isCollapsible();\n\t\t\t\t\tif (this.opts.keepHighlighted || collapsible) {\n\t\t\t\t\t\t$a.addClass('highlighted');\n\t\t\t\t\t}\n\t\t\t\t\tif (collapsible) {\n\t\t\t\t\t\t$sub.removeClass('sm-nowrap').css({ zIndex: '', width: 'auto', minWidth: '', maxWidth: '', top: '', left: '', marginLeft: '', marginTop: '' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// set z-index\n\t\t\t\t\t\t$sub.css('z-index', this.zIndexInc = (this.zIndexInc || this.getStartZIndex()) + 1);\n\t\t\t\t\t\t// min/max-width fix - no way to rely purely on CSS as all UL's are nested\n\t\t\t\t\t\tif (this.opts.subMenusMinWidth || this.opts.subMenusMaxWidth) {\n\t\t\t\t\t\t\t$sub.css({ width: 'auto', minWidth: '', maxWidth: '' }).addClass('sm-nowrap');\n\t\t\t\t\t\t\tif (this.opts.subMenusMinWidth) {\n\t\t\t\t\t\t\t \t$sub.css('min-width', this.opts.subMenusMinWidth);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.opts.subMenusMaxWidth) {\n\t\t\t\t\t\t\t \tvar noMaxWidth = this.getWidth($sub);\n\t\t\t\t\t\t\t \t$sub.css('max-width', this.opts.subMenusMaxWidth);\n\t\t\t\t\t\t\t\tif (noMaxWidth > this.getWidth($sub)) {\n\t\t\t\t\t\t\t\t\t$sub.removeClass('sm-nowrap').css('width', this.opts.subMenusMaxWidth);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.menuPosition($sub);\n\t\t\t\t\t}\n\t\t\t\t\tvar complete = function() {\n\t\t\t\t\t\t// fix: \"overflow: hidden;\" is not reset on animation complete in jQuery < 1.9.0 in Chrome when global \"box-sizing: border-box;\" is used\n\t\t\t\t\t\t$sub.css('overflow', '');\n\t\t\t\t\t};\n\t\t\t\t\t// if sub is collapsible (mobile view)\n\t\t\t\t\tif (collapsible) {\n\t\t\t\t\t\tif (canAnimate && this.opts.collapsibleShowFunction) {\n\t\t\t\t\t\t\tthis.opts.collapsibleShowFunction.call(this, $sub, complete);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$sub.show(this.opts.collapsibleShowDuration, complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (canAnimate && this.opts.showFunction) {\n\t\t\t\t\t\t\tthis.opts.showFunction.call(this, $sub, complete);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$sub.show(this.opts.showDuration, complete);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// accessibility\n\t\t\t\t\t$a.attr('aria-expanded', 'true');\n\t\t\t\t\t$sub.attr({\n\t\t\t\t\t\t'aria-expanded': 'true',\n\t\t\t\t\t\t'aria-hidden': 'false'\n\t\t\t\t\t});\n\t\t\t\t\t// store sub menu in visible array\n\t\t\t\t\tthis.visibleSubMenus.push($sub);\n\t\t\t\t\tthis.$root.triggerHandler('show.smapi', $sub[0]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tpopupHide: function(noHideTimeout) {\n\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t}\n\t\t\t\tvar self = this;\n\t\t\t\tthis.hideTimeout = setTimeout(function() {\n\t\t\t\t\tself.menuHideAll();\n\t\t\t\t}, noHideTimeout ? 1 : this.opts.hideTimeout);\n\t\t\t},\n\t\t\tpopupShow: function(left, top) {\n\t\t\t\tif (!this.opts.isPopup) {\n\t\t\t\t\talert('SmartMenus jQuery Error:\\n\\nIf you want to show this menu via the \"popupShow\" method, set the isPopup:true option.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t}\n\t\t\t\tthis.$root.dataSM('shown-before', true);\n\t\t\t\tif (canAnimate) {\n\t\t\t\t\tthis.$root.stop(true, true);\n\t\t\t\t}\n\t\t\t\tif (!this.$root.is(':visible')) {\n\t\t\t\t\tthis.$root.css({ left: left, top: top });\n\t\t\t\t\t// show menu\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\tcomplete = function() {\n\t\t\t\t\t\t\tself.$root.css('overflow', '');\n\t\t\t\t\t\t};\n\t\t\t\t\tif (canAnimate && this.opts.showFunction) {\n\t\t\t\t\t\tthis.opts.showFunction.call(this, this.$root, complete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$root.show(this.opts.showDuration, complete);\n\t\t\t\t\t}\n\t\t\t\t\tthis.visibleSubMenus[0] = this.$root;\n\t\t\t\t}\n\t\t\t},\n\t\t\trefresh: function() {\n\t\t\t\tthis.destroy(true);\n\t\t\t\tthis.init(true);\n\t\t\t},\n\t\t\trootKeyDown: function(e) {\n\t\t\t\tif (!this.handleEvents()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase 27: // reset on Esc\n\t\t\t\t\t\tvar $activeTopItem = this.activatedItems[0];\n\t\t\t\t\t\tif ($activeTopItem) {\n\t\t\t\t\t\t\tthis.menuHideAll();\n\t\t\t\t\t\t\t$activeTopItem[0].focus();\n\t\t\t\t\t\t\tvar $sub = $activeTopItem.dataSM('sub');\n\t\t\t\t\t\t\tif ($sub) {\n\t\t\t\t\t\t\t\tthis.menuHide($sub);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 32: // activate item's sub on Space\n\t\t\t\t\t\tvar $target = $(e.target);\n\t\t\t\t\t\tif ($target.is('a') && this.handleItemEvents($target)) {\n\t\t\t\t\t\t\tvar $sub = $target.dataSM('sub');\n\t\t\t\t\t\t\tif ($sub && !$sub.is(':visible')) {\n\t\t\t\t\t\t\t\tthis.itemClick({ currentTarget: e.target });\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\trootOut: function(e) {\n\t\t\t\tif (!this.handleEvents() || this.isTouchMode() || e.target == this.$root[0]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t}\n\t\t\t\tif (!this.opts.showOnClick || !this.opts.hideOnClick) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.hideTimeout = setTimeout(function() { self.menuHideAll(); }, this.opts.hideTimeout);\n\t\t\t\t}\n\t\t\t},\n\t\t\trootOver: function(e) {\n\t\t\t\tif (!this.handleEvents() || this.isTouchMode() || e.target == this.$root[0]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.hideTimeout) {\n\t\t\t\t\tclearTimeout(this.hideTimeout);\n\t\t\t\t\tthis.hideTimeout = 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\twinResize: function(e) {\n\t\t\t\tif (!this.handleEvents()) {\n\t\t\t\t\t// we still need to resize the disable overlay if it's visible\n\t\t\t\t\tif (this.$disableOverlay) {\n\t\t\t\t\t\tvar pos = this.$root.offset();\n\t \t\t\t\t\tthis.$disableOverlay.css({\n\t\t\t\t\t\t\ttop: pos.top,\n\t\t\t\t\t\t\tleft: pos.left,\n\t\t\t\t\t\t\twidth: this.$root.outerWidth(),\n\t\t\t\t\t\t\theight: this.$root.outerHeight()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// hide sub menus on resize - on mobile do it only on orientation change\n\t\t\t\tif (!('onorientationchange' in window) || e.type == 'orientationchange') {\n\t\t\t\t\tvar collapsible = this.isCollapsible();\n\t\t\t\t\t// if it was collapsible before resize and still is, don't do it\n\t\t\t\t\tif (!(this.wasCollapsible && collapsible)) { \n\t\t\t\t\t\tif (this.activatedItems.length) {\n\t\t\t\t\t\t\tthis.activatedItems[this.activatedItems.length - 1][0].blur();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.menuHideAll();\n\t\t\t\t\t}\n\t\t\t\t\tthis.wasCollapsible = collapsible;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t$.fn.dataSM = function(key, val) {\n\t\tif (val) {\n\t\t\treturn this.data(key + '_smartmenus', val);\n\t\t}\n\t\treturn this.data(key + '_smartmenus');\n\t};\n\n\t$.fn.removeDataSM = function(key) {\n\t\treturn this.removeData(key + '_smartmenus');\n\t};\n\n\t$.fn.smartmenus = function(options) {\n\t\tif (typeof options == 'string') {\n\t\t\tvar args = arguments,\n\t\t\t\tmethod = options;\n\t\t\tArray.prototype.shift.call(args);\n\t\t\treturn this.each(function() {\n\t\t\t\tvar smartmenus = $(this).data('smartmenus');\n\t\t\t\tif (smartmenus && smartmenus[method]) {\n\t\t\t\t\tsmartmenus[method].apply(smartmenus, args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn this.each(function() {\n\t\t\t// [data-sm-options] attribute on the root UL\n\t\t\tvar dataOpts = $(this).data('sm-options') || null;\n\t\t\tif (dataOpts && typeof dataOpts !== 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tdataOpts = eval('(' + dataOpts + ')');\n\t\t\t\t} catch(e) {\n\t\t\t\t\tdataOpts = null;\n\t\t\t\t\talert('ERROR\\n\\nSmartMenus jQuery init:\\nInvalid \"data-sm-options\" attribute value syntax.');\n\t\t\t\t};\n\t\t\t}\n\t\t\tnew $.SmartMenus(this, $.extend({}, $.fn.smartmenus.defaults, options, dataOpts));\n\t\t});\n\t};\n\n\t// default settings\n\t$.fn.smartmenus.defaults = {\n\t\tisPopup:\t\tfalse,\t\t// is this a popup menu (can be shown via the popupShow/popupHide methods) or a permanent menu bar\n\t\tmainMenuSubOffsetX:\t0,\t\t// pixels offset from default position\n\t\tmainMenuSubOffsetY:\t0,\t\t// pixels offset from default position\n\t\tsubMenusSubOffsetX:\t0,\t\t// pixels offset from default position\n\t\tsubMenusSubOffsetY:\t0,\t\t// pixels offset from default position\n\t\tsubMenusMinWidth:\t'10em',\t\t// min-width for the sub menus (any CSS unit) - if set, the fixed width set in CSS will be ignored\n\t\tsubMenusMaxWidth:\t'20em',\t\t// max-width for the sub menus (any CSS unit) - if set, the fixed width set in CSS will be ignored\n\t\tsubIndicators: \t\ttrue,\t\t// create sub menu indicators - creates a SPAN and inserts it in the A\n\t\tsubIndicatorsPos: \t'append',\t// position of the SPAN relative to the menu item content ('append', 'prepend')\n\t\tsubIndicatorsText:\t'',\t\t// [optionally] add text in the SPAN (e.g. '+') (you may want to check the CSS for the sub indicators too)\n\t\tscrollStep: \t\t30,\t\t// pixels step when scrolling long sub menus that do not fit in the viewport height\n\t\tscrollAccelerate:\ttrue,\t\t// accelerate scrolling or use a fixed step\n\t\tshowTimeout:\t\t250,\t\t// timeout before showing the sub menus\n\t\thideTimeout:\t\t500,\t\t// timeout before hiding the sub menus\n\t\tshowDuration:\t\t0,\t\t// duration for show animation - set to 0 for no animation - matters only if showFunction:null\n\t\tshowFunction:\t\tnull,\t\t// custom function to use when showing a sub menu (the default is the jQuery 'show')\n\t\t\t\t\t\t\t// don't forget to call complete() at the end of whatever you do\n\t\t\t\t\t\t\t// e.g.: function($ul, complete) { $ul.fadeIn(250, complete); }\n\t\thideDuration:\t\t0,\t\t// duration for hide animation - set to 0 for no animation - matters only if hideFunction:null\n\t\thideFunction:\t\tfunction($ul, complete) { $ul.fadeOut(200, complete); },\t// custom function to use when hiding a sub menu (the default is the jQuery 'hide')\n\t\t\t\t\t\t\t// don't forget to call complete() at the end of whatever you do\n\t\t\t\t\t\t\t// e.g.: function($ul, complete) { $ul.fadeOut(250, complete); }\n\t\tcollapsibleShowDuration:0,\t\t// duration for show animation for collapsible sub menus - matters only if collapsibleShowFunction:null\n\t\tcollapsibleShowFunction:function($ul, complete) { $ul.slideDown(200, complete); },\t// custom function to use when showing a collapsible sub menu\n\t\t\t\t\t\t\t// (i.e. when mobile styles are used to make the sub menus collapsible)\n\t\tcollapsibleHideDuration:0,\t\t// duration for hide animation for collapsible sub menus - matters only if collapsibleHideFunction:null\n\t\tcollapsibleHideFunction:function($ul, complete) { $ul.slideUp(200, complete); },\t// custom function to use when hiding a collapsible sub menu\n\t\t\t\t\t\t\t// (i.e. when mobile styles are used to make the sub menus collapsible)\n\t\tshowOnClick:\t\tfalse,\t\t// show the first-level sub menus onclick instead of onmouseover (i.e. mimic desktop app menus) (matters only for mouse input)\n\t\thideOnClick:\t\ttrue,\t\t// hide the sub menus on click/tap anywhere on the page\n\t\tnoMouseOver:\t\tfalse,\t\t// disable sub menus activation onmouseover (i.e. behave like in touch mode - use just mouse clicks) (matters only for mouse input)\n\t\tkeepInViewport:\t\ttrue,\t\t// reposition the sub menus if needed to make sure they always appear inside the viewport\n\t\tkeepHighlighted:\ttrue,\t\t// keep all ancestor items of the current sub menu highlighted (adds the 'highlighted' class to the A's)\n\t\tmarkCurrentItem:\tfalse,\t\t// automatically add the 'current' class to the A element of the item linking to the current URL\n\t\tmarkCurrentTree:\ttrue,\t\t// add the 'current' class also to the A elements of all ancestor items of the current item\n\t\trightToLeftSubMenus:\tfalse,\t\t// right to left display of the sub menus (check the CSS for the sub indicators' position)\n\t\tbottomToTopSubMenus:\tfalse,\t\t// bottom to top display of the sub menus\n\t\tcollapsibleBehavior:\t'default'\t// parent items behavior in collapsible (mobile) view ('default', 'toggle', 'link', 'accordion', 'accordion-toggle', 'accordion-link')\n\t\t\t\t\t\t\t// 'default' - first tap on parent item expands sub, second tap loads its link\n\t\t\t\t\t\t\t// 'toggle' - the whole parent item acts just as a toggle button for its sub menu (expands/collapses on each tap)\n\t\t\t\t\t\t\t// 'link' - the parent item acts as a regular item (first tap loads its link), the sub menu can be expanded only via the +/- button\n\t\t\t\t\t\t\t// 'accordion' - like 'default' but on expand also resets any visible sub menus from deeper levels or other branches\n\t\t\t\t\t\t\t// 'accordion-toggle' - like 'toggle' but on expand also resets any visible sub menus from deeper levels or other branches\n\t\t\t\t\t\t\t// 'accordion-link' - like 'link' but on expand also resets any visible sub menus from deeper levels or other branches\n\t};\n\n\treturn $;\n}));"]},"metadata":{},"sourceType":"script"}