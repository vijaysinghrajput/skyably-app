{"ast":null,"code":"var _jsxFileName = \"/Users/vijaysingh/ReactJS/skyably-app/src/component/ReProductList.js\";\nimport React, { Component } from 'react';\nimport URL from '../URL';\nimport { withRouter } from 'react-router-dom';\nimport * as NumericInput from \"react-numeric-input\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\nclass ReProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      UserID: null,\n      productId: null,\n      SaverTodayDetails: [],\n      category: []\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleNext = this.handleNext.bind(this);\n  }\n\n  handleNext(Routation) {\n    this.props.history.push(Routation);\n  }\n\n  productDetailsAction(productId) {\n    this.handleNext(\"/Products/\" + productId);\n  }\n\n  async componentDidMount() {\n    var UserID = await cookies.get('UserID');\n    this.setState({\n      UserID: Number(UserID)\n    });\n    this.fetchSaverProducts();\n    this.fetchcategorys();\n  }\n\n  fetchSaverProducts() {\n    fetch(URL + \"/APP-API/Product/GetAllSaverProduct\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        UserID: this.state.UserID\n      })\n    }).then(response => response.json()).then(responseJson => {\n      console.log('Categorys', responseJson);\n      this.setState({\n        SaverTodayDetails: responseJson.slice(0, 12)\n      });\n    }).catch(error => {//  console.error(error);\n    });\n  }\n\n  fetchcategorys() {\n    fetch(URL + \"/APP-API/Product/GetStoreSubCategoryByID\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        cats_id: 17\n      })\n    }).then(response => response.json()).then(responseJson => {\n      // console.log('category',responseJson.image)\n      this.setState({\n        category: responseJson.data\n      });\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      class: \"tools_product bg-title section-b-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row multiple-slider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-xl-4 col-lg-4 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"theme-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"title-border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    }, \"Under $20 | Free delivery\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"offer-slider slide-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 27\n      }\n    }, this.state.category.slice(0, 5).map((item, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"media\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"product-page(no-sidebar).html\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        class: \"img-fluid blur-up lazyload\",\n        src: URL + \"/images/category_images/\" + item.image,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 75\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"media-body align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"product-page(no-sidebar).html\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 39\n        }\n      }, \" \", item.name, \" \"))));\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-xl-8 col-lg-8 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"theme-tab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bg-title-part\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"title-border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 27\n      }\n    }, \"RECOMMENDATIONS FOR YOU\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row game-product grid-products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 23\n      }\n    }, this.state.SaverTodayDetails.slice(0, 9).map((item, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"product-box col-xl-4 col-lg-4 col-sm-6 col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"img-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"front\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"product-page(no-sidebar).html\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          height: 200\n        },\n        src: URL + \"/images/product-images/\" + item.product_image,\n        class: \"img-fluid blur-up lazyload bg-img\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 81\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => this.isCartCheckedOrNot(item, key),\n        class: \"add-button\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#addtocart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 37\n        }\n      }, \"add to cart\")), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"product-detail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"product-page(no-sidebar).html\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 41\n        }\n      }, item.product_name.substring(0, 11))), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"del\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 41\n        }\n      }, \"\\u20B9 \", item.price), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 66\n        }\n      }, \"  \\u20B9 \", this.discountedPrice(item.price, item.discount), \" \"))));\n    })))))))));\n  }\n\n  discountedPrice(price, dis) {\n    const discount = price * (dis / 100);\n    const net = price - discount;\n    return Number(net).toFixed(0);\n  }\n\n  onChange(counterValue, productId, quantity) {\n    if (counterValue <= 0) {\n      this.deleteCartItem(productId);\n    } else {\n      this.addQuantity(counterValue, productId, quantity);\n    }\n  }\n\n  async isCartCheckedOrNot(item, index) {\n    var isLogged = await cookies.get('isLogged'); // alert(isLogged)\n\n    if (isLogged === undefined) {\n      // alert('not loged')\n      this.handleNext(\"/Login\");\n    } else {\n      this.setState(state => ({\n        SaverTodayDetails: state.SaverTodayDetails.map(q => {\n          if (q.id === item.id) {\n            return { ...q,\n              addedtocart: 1\n            };\n          }\n\n          return q;\n        })\n      }), () => {// console.log(this.state.SaverTodayDetails[1]);\n      });\n      this.setState(state => ({\n        SaverTodayDetails: state.SaverTodayDetails.map(q => {\n          if (q.id === item.id) {\n            return { ...q,\n              cartQunatity: 1\n            };\n          }\n\n          return q;\n        })\n      }), () => {});\n      this.props.CartHandler(1);\n      this.addCartItem(item.id);\n    }\n  }\n\n  addCartItem(productId) {\n    fetch(URL + \"/APP-API/Product/AddCart\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        customerID: this.state.UserID,\n        productId: productId,\n        Store_code: this.state.Store_code\n      })\n    }).then(response => response.json()).then(responseJson => {\n      // console.log('Add cart res',responseJson)\n      this.fetchSaverProducts();\n    });\n  }\n\n  async deleteCartItem(productId) {\n    this.props.CartHandler(-1);\n    await this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === productId) {\n          return { ...q,\n            addedtocart: 0\n          };\n        }\n\n        return q;\n      })\n    }), () => {// console.log(this.state.SaverTodayDetails[1]);\n    });\n    await this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === productId) {\n          return { ...q,\n            cartQunatity: 1\n          };\n        }\n\n        return q;\n      })\n    }), () => {// console.log(this.state.SaverTodayDetails[1]);\n    });\n    fetch(URL + \"/APP-API/Product/AddCartRemove\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        customerID: this.state.UserID,\n        productId: productId,\n        Store_code: this.state.Store_code\n      })\n    }).then(response => response.json()).then(responseJson => {\n      this.fetchSaverProducts();\n    });\n  }\n\n  async addQuantity(value, productId, quantity) {\n    if (Number(quantity) > 0) {\n      await this.setState(state => ({\n        SaverTodayDetails: state.SaverTodayDetails.map(q => {\n          if (q.id === productId) {\n            return { ...q,\n              cartQunatity: value\n            };\n          }\n\n          return q;\n        })\n      }), () => {// console.log(this.state.SaverTodayDetails[1]); \n      });\n      await fetch(URL + \"/APP-API/Product/AddCartIncrement\", {\n        method: 'post',\n        header: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          customerID: this.state.UserID,\n          productId: productId,\n          Store_code: this.state.Store_code,\n          qty: value\n        })\n      }).then(response => response.json()).then(responseJson => {// console.log(responseJson)\n      });\n    }\n  }\n\n}\n\nexport default withRouter(ReProductList);","map":{"version":3,"sources":["/Users/vijaysingh/ReactJS/skyably-app/src/component/ReProductList.js"],"names":["React","Component","URL","withRouter","NumericInput","Cookies","cookies","ReProductList","constructor","props","state","UserID","productId","SaverTodayDetails","category","onChange","bind","handleNext","Routation","history","push","productDetailsAction","componentDidMount","get","setState","Number","fetchSaverProducts","fetchcategorys","fetch","method","header","body","JSON","stringify","then","response","json","responseJson","console","log","slice","catch","error","cats_id","data","render","map","item","key","image","name","height","product_image","isCartCheckedOrNot","product_name","substring","price","discountedPrice","discount","dis","net","toFixed","counterValue","quantity","deleteCartItem","addQuantity","index","isLogged","undefined","q","id","addedtocart","cartQunatity","CartHandler","addCartItem","customerID","Store_code","value","qty"],"mappings":"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","sourcesContent":["\nimport React,{Component} from 'react';\nimport URL from '../URL'\nimport { withRouter } from 'react-router-dom';\nimport * as NumericInput from \"react-numeric-input\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\n\nclass ReProductList extends Component{\n  constructor(props) {\n\n    super(props);\n   \n      this.state = {\n        UserID:null,\n        productId:null,\n        SaverTodayDetails:[],\n        category:[]\n      }\n      this.onChange = this.onChange.bind(this);\n\n      this.handleNext = this.handleNext.bind(this);\n\n\n    }\n    handleNext(Routation)\n    {\n      this.props.history.push(Routation);\n    }\n  \n\n\n\n  productDetailsAction(productId) \n{\n\n  this.handleNext(\"/Products/\"+productId)\n\n}\n\n\n async componentDidMount()\n  {\n\n      var UserID = await cookies.get('UserID');\n    \n       this.setState({UserID:Number(UserID)})\n\n      this.fetchSaverProducts()\n      this.fetchcategorys()\n    \n\n  }\n \n\n  fetchSaverProducts()\n  {\n    fetch(URL+\"/APP-API/Product/GetAllSaverProduct\",{\n      method:'post',\n        header:{\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body:JSON.stringify({\n          \n          UserID:this.state.UserID\n\n         \n        })\n        \n      })\n       .then((response) => response.json())\n       .then((responseJson) => {\n         \n        \n        console.log('Categorys',responseJson)\n    \n        this.setState({ SaverTodayDetails: responseJson.slice(0,12)  });\n    \n    \n         \n         \n         \n       })\n       .catch((error) => {\n         //  console.error(error);\n            \n       });\n      \n \n  }\n\n  fetchcategorys()\n  {\n   fetch(URL+\"/APP-API/Product/GetStoreSubCategoryByID\",{\n     method:'post',\n     header:{\n       'Accept': 'application/json',\n       'Content-type': 'application/json'\n     },\n     body:JSON.stringify({\n       \n      cats_id:17\n\n     })\n     \n   })\n    .then((response) => response.json())\n    .then((responseJson) => {\n      \n     \n       // console.log('category',responseJson.image)\n \n     this.setState({ category: responseJson.data , });\n \n \n      \n      \n      \n    })\n    .catch((error) => {\n       console.error(error);\n         \n    });\n    \n  }\n\n    render() { \n\n\n\n    \n    return (\n      <div>\n      <section class=\"tools_product bg-title section-b-space\">\n      <div class=\"container\">\n          <div class=\"row multiple-slider\">\n              <div class=\"col-xl-4 col-lg-4 col-md-12\">\n                  <div class=\"theme-card\">\n                      <h5 class=\"title-border\">Under $20 | Free delivery</h5>\n                      <div class=\"offer-slider slide-1\">\n                          <div>\n\n                   \n\n                        { this.state.category.slice(0,5).map((item, key) => {\n                            return (\n                              <div class=\"media\">\n                                  <a href=\"product-page(no-sidebar).html\"><img class=\"img-fluid blur-up lazyload\"\n                                 src={URL+\"/images/category_images/\"+item.image} alt=\"\"/></a>\n                                  <div class=\"media-body align-self-center\">\n                                      \n                                      <a href=\"product-page(no-sidebar).html\">\n                                      <h6> { item.name} </h6>\n                                      </a>\n\n                                  </div>\n                                  \n                              </div>\n                              )\n                            })}\n                          </div>\n                      </div>\n                  </div>\n              </div>\n              <div class=\"col-xl-8 col-lg-8 col-md-12\">\n                  <div class=\"theme-tab\">\n                      <div class=\"bg-title-part\">\n                          <h5 class=\"title-border\">RECOMMENDATIONS FOR YOU</h5>\n                          \n                      </div>\n                      <div class=\"container\">\n                      <div class=\"row game-product grid-products\">\n\n                              { this.state.SaverTodayDetails.slice(0,9).map((item, key) => {\n                                return (\n                                    \n                            <div class=\"product-box col-xl-4 col-lg-4 col-sm-6 col-6\">\n                                <div class=\"img-wrapper\">\n                                    <div class=\"front\">\n                                        <a href=\"product-page(no-sidebar).html\"><img style={{height:200}}  src={URL+\"/images/product-images/\"+item.product_image}\n                                                class=\"img-fluid blur-up lazyload bg-img\" alt=\"\"/></a>\n                                    </div>\n                                 \n                                    <div  onClick={() => this.isCartCheckedOrNot(item,key,)}  class=\"add-button\" data-toggle=\"modal\" data-target=\"#addtocart\">add to cart</div>\n                                </div>\n                                <div class=\"product-detail\">\n                                \n                                    <a href=\"product-page(no-sidebar).html\">\n                                        <h6>{item.product_name.substring(0, 11)}</h6>\n                                    </a>\n                                    \n                                    <h4><del>₹ {item.price}</del><span>  ₹ {this.discountedPrice(item.price,item.discount)} </span></h4>\n                                    \n                                \n                                </div>\n                            </div>\n                            \n                            \n                                  )\n                            })}\n\n                              </div>\n\n\n                    \n\n\n                      </div>\n\n\n\n                  </div>\n                 \n              </div>\n          </div>\n      </div>\n  </section>\n      </div>\n\n        )};\n\ndiscountedPrice(price,dis)\n{\nconst  discount = price * (dis / 100)\n const net = price - discount\n return Number(net).toFixed(0); \n}\n\nonChange(counterValue,productId,quantity) {\n\n  if(counterValue<=0)\n  {\nthis.deleteCartItem(productId)\n  }\nelse{\nthis.addQuantity(counterValue,productId,quantity)\n}\n\n}\n  \n\n\n   async isCartCheckedOrNot(item,index) {\n      \n      var isLogged = await cookies.get('isLogged')\n      // alert(isLogged)\n      if(isLogged===undefined)\n      {\n        // alert('not loged')\n        this.handleNext(\"/Login\")\n\n    \n\n\n      }\nelse{\n\n\n\n\n\n     this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === item.id) {\n          return {...q, addedtocart: 1};\n        }\n        return q;\n      })\n    }), () => {\n      // console.log(this.state.SaverTodayDetails[1]);\n    });\n\n     this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === item.id) {\n          return {...q, cartQunatity: 1,};\n        }\n        return q;\n      })\n    }), () => {\n \n    });\n\n \n  \n    this.props.CartHandler(1);\n\n    this.addCartItem(item.id)\n \n     \n      \n}\n\n\n  }\n\n \n\n  addCartItem(productId)\n  {\n    fetch(URL+\"/APP-API/Product/AddCart\",{\n\n         method:'post',\n         header:{\n           'Accept': 'application/json',\n           'Content-type': 'application/json'\n         },\n         body:JSON.stringify({\n\n          customerID:this.state.UserID,\n          productId:productId,\n          Store_code:this.state.Store_code,\n\n\n\n         })\n         \n       })\n        .then((response) => response.json())\n        .then((responseJson) => {\n\n\n          // console.log('Add cart res',responseJson)\n          this.fetchSaverProducts()\n          \n         \n\n        })\n\n  }\n\n\n  async deleteCartItem(productId)\n  {\n\n\n    this.props.CartHandler(-1);\n\n\n   await this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === productId) {\n          return {...q, addedtocart: 0,};\n        }\n        return q;\n      })\n    }), () => {\n      // console.log(this.state.SaverTodayDetails[1]);\n    });\n \n   await this.setState(state => ({\n      SaverTodayDetails: state.SaverTodayDetails.map(q => {\n        if (q.id === productId) {\n          return {...q, cartQunatity: 1,};\n        }\n        return q;\n      })\n    }), () => {\n      // console.log(this.state.SaverTodayDetails[1]);\n    });\n\n\n \n\n\n\n    fetch(URL+\"/APP-API/Product/AddCartRemove\",{\n\n      method:'post',\n      header:{\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body:JSON.stringify({\n\n       customerID:this.state.UserID,\n       productId:productId,\n       Store_code:this.state.Store_code,\n      \n     \n      })\n      \n    })\n     .then((response) => response.json())\n     .then((responseJson) => {\n       \n      \nthis.fetchSaverProducts()\n\n     })\n\n  \n\n  }\n\n  async addQuantity(value,productId,quantity)\n  {\nif(Number(quantity)>0)\n{\n\n  await  this.setState(state => ({\n    SaverTodayDetails: state.SaverTodayDetails.map(q => {\n      if (q.id === productId) {\n        return {...q, cartQunatity: value};\n      }\n      return q;\n    })\n  }), () => {\n    // console.log(this.state.SaverTodayDetails[1]); \n  });\n\n\n\n\n\n   await fetch(URL+\"/APP-API/Product/AddCartIncrement\",{\n\n         method:'post',\n         header:{\n           'Accept': 'application/json',\n           'Content-type': 'application/json'\n         },\n         body:JSON.stringify({\n\n          customerID:this.state.UserID,\n          productId:productId,\n          Store_code:this.state.Store_code,\n          qty:value\n       })\n       \n     })\n      .then((response) => response.json())\n      .then((responseJson) => {\n        // console.log(responseJson)\n\n\n      })\n\n}\n\n}  \n\n  }\n\nexport default withRouter(ReProductList);\n"]},"metadata":{},"sourceType":"module"}